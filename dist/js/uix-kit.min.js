/*! For license information please see uix-kit.min.js.LICENSE.txt */
(()=>{var e={925:()=>{!function(e){"use strict";e.fn.UixParallax=function(a){var t=e.extend({speed:.25,transition:"all 0.4s cubic-bezier(0, 0, 0.34, 0.96) 0s",bg:{enable:!0,xPos:"50%"}},a);this.each((function(){var a=t.bg,o=e(this),n="50%",i=-parseFloat(t.speed);a&&(a=t.bg.enable,n=t.bg.xPos),o.css({transition:"none"}),e(window).on("scroll.UixParallax touchmove.UixParallax",(function(e){var s;s=o[0].getBoundingClientRect().top,a?TweenMax.set(o,{css:{"background-position":n+" "+(0-s*i)+"px",transition:t.transition}}):TweenMax.set(o,{css:{transform:"matrix(1, 0, 0, 1, 0, "+(0-s*i)+")",transition:t.transition}})})),a?TweenMax.set(o,{backgroundPosition:n+" "+-o.offset().top*i+"px"}):TweenMax.set(o,{y:0})}))}}(jQuery)}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var i=a[o]={exports:{}};return e[o](i,i.exports,t),i.exports}(()=>{"use strict";function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}"undefined"==typeof APP_ROOTPATH?("",""):(APP_ROOTPATH.templateUrl.replace(/\/\s*$/,""),APP_ROOTPATH.homeUrl.replace(/\/\s*$/,""),APP_ROOTPATH.ajaxUrl.replace(/\/\s*$/,""));try{document.addEventListener("test",null,{get passive(){!0}})}catch(e){}var a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=/(android)/i.test(navigator.userAgent),n=(navigator.userAgent.match(/(iPhone|iPod|Android|ios|Mobile)/i),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),!!window.ActiveXObject||window,function(a,t,o){var n={},i={documentReady:[],pageLoaded:[]};function s(t){t="undefined"==e(t)?a:t,i.documentReady.forEach((function(e){e(t)}))}function r(t){t="object"==e(t)?a:t,i.pageLoaded.forEach((function(e){e(t)}))}return 0==a("img").length&&a("body").prepend('<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" style="display:none">'),a.isFunction(a.fn.waitForImages)?a("body").waitForImages(r):a(t).on("load",r),a(o).ready(s),n.setContext=function(t){var o=a;return"undefined"!==e(t)?function(e){return a(t).find(e)}:o},n.components=i,n.documentReady=s,n.pageLoaded=r,n}($,window,document)),i=i||function(){function e(){}return e.version="0.0.1",e.create=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0;return("x"==e?a:3&a|8).toString(16)}))},e}(),s=s||function(){function e(){}return e.version="0.0.1",e.evaluate=function(e){var a=e.replace(/\s/g,"").split(""),t=[],o=[],n=0,i=!0;t[n]="";for(var s=0;s<a.length;s++)isNaN(parseInt(a[s]))&&"."!==a[s]&&!i?(o[n]=a[s],t[++n]="",i=!0):(t[n]+=a[s],i=!1);e=parseFloat(t[0]);for(var r=0;r<o.length;r++){var l=parseFloat(t[r+1]);switch(o[r]){case"+":e+=l;break;case"-":e-=l;break;case"*":e*=l;break;case"/":e/=l}}return e},e}(),r=r||function(){function a(){}return a.version="0.0.1",a.getTransitionDuration=function(a){if("undefined"===e(a))return 0;var t=window.getComputedStyle(a),o=t.webkitTransitionDuration,n=t.webkitTransitionDelay;return"undefined"!=e(o)?(o=o.indexOf("ms")>-1?parseFloat(o):1e3*parseFloat(o),n=n.indexOf("ms")>-1?parseFloat(n):1e3*parseFloat(n),o):0},a.getAbsoluteCoordinates=function(e){var a=window.innerWidth,t=null,o=null;return document.getElementsByTagName("body")[0].className.match(/rtl/)?(t=0==e.offsetLeft?a-(e.parentElement.offsetLeft+e.parentElement.offsetWidth):a-(e.offsetLeft+e.offsetWidth),o=0==e.offsetTop?a-(e.parentElement.offsetTop+e.parentElement.offsetHeight):a-(e.offsetTop+e.offsetHeight)):(t=0==e.offsetLeft?e.parentElement.offsetLeft:e.offsetLeft,o=0==e.offsetTop?e.parentElement.offsetTop:e.offsetTop),{left:t,top:o}},a}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,a,t){return a&&d(e.prototype,a),t&&d(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.fn.UixModuleFilter=function(a){var t=e.extend({destroy:!1,add:{moduleName:"OLD_MODULE_NAME",pageLoaded:!1,version:"0.0.1",callback:function(){}}},a);this.each((function(){if(t.destroy&&"[object String]"==Object.prototype.toString.call(t.destroy)){var a=t.destroy;"undefined"!=l(n[a])&&delete n[a]}if(t.add&&"[object Object]"==Object.prototype.toString.call(t.add)&&t.add.hasOwnProperty("pageLoaded")){var o=t.add.moduleName;if("undefined"!=l(n[o]))console.log("The module already exists, please destroy the old module or change the new module name.");else{if(!t.add.pageLoaded||0==t.add.pageLoaded){var i=(r=n,jQuery,window,document,r[o]=r[o]||{},r[o].version=t.add.version,r[o].documentReady=function(e){t.add.callback()},r.components.documentReady.push(r[o].documentReady),i);n[o].documentReady(e)}if(t.add.pageLoaded||1==t.add.pageLoaded){var s=function(e,a,n,i){return e[o]=e[o]||{},e[o].version=t.add.version,e[o].pageLoaded=function(){t.add.callback()},e.components.pageLoaded.push(e[o].pageLoaded),s}(n,jQuery,window,document);n[o].pageLoaded()}}}var r}))}}(jQuery),function(e){e.fn.UixApplyAsyncScripts=function(a){var t=e.extend({scrollReveal:!0,ajaxPostList:!0,ajaxDDList:!0,counterAnim:!0,lightBox:!0},a);this.each((function(){n.MAIN&&n.MAIN.pageLoaded(),n.COMMON_HEIGHT&&n.COMMON_HEIGHT.pageLoaded(),n.ADVANCED_SLIDER&&n.ADVANCED_SLIDER.pageLoaded(),n.ADVANCED_SLIDER_FILTER&&n.ADVANCED_SLIDER_FILTER.pageLoaded(),n.FULL_WIDTH_COLUMN_TO_EDGE&&n.FULL_WIDTH_COLUMN_TO_EDGE.pageLoaded(),n.STICKY_EL&&n.STICKY_EL.pageLoaded(),n.TEXT_EFFECT&&n.TEXT_EFFECT.pageLoaded(),n.TIMELINE&&n.TIMELINE.pageLoaded(),n.HYBRID_CONTENT_SLIDER&&n.HYBRID_CONTENT_SLIDER.pageLoaded(),n.MAIN&&n.MAIN.documentReady(e),n.TABLE&&n.TABLE.documentReady(e),n.TABLE_SORTER&&n.TABLE_SORTER.documentReady(e),n.MODAL_DIALOG&&n.MODAL_DIALOG.documentReady(e),n.PARALLAX&&n.PARALLAX.documentReady(e),n.VIDEOS&&n.VIDEOS.documentReady(e),n.BODY_AND_HEADER&&n.BODY_AND_HEADER.documentReady(e),n.SET_BG&&n.SET_BG.documentReady(e),n.GET_CUSTOM_ATTRS&&n.GET_CUSTOM_ATTRS.documentReady(e),n.PAGINATION&&n.PAGINATION.documentReady(e),n.FORM&&n.FORM.documentReady(e),n.FLEXSLIDER&&n.FLEXSLIDER.documentReady(e),n.RETINA&&n.RETINA.documentReady(e),n.SHOW_MORELESS&&n.SHOW_MORELESS.documentReady(e),n.DROPDOWN_MENU&&n.DROPDOWN_MENU.documentReady(e),n.DROPDOWN_MENU2&&n.DROPDOWN_MENU2.documentReady(e),n.ACCORDION&&n.ACCORDION.documentReady(e),n.GALLERY&&n.GALLERY.documentReady(e),n.IMAGE_SHAPES&&n.IMAGE_SHAPES.documentReady(e),n.PERIODICAL_SCROLL&&n.PERIODICAL_SCROLL.documentReady(e),n.PRICING&&n.PRICING.documentReady(e),n.PROGRESS_BAR&&n.PROGRESS_BAR.documentReady(e),n.PROGRESS_LINE&&n.PROGRESS_LINE.documentReady(e),n.ROTATING_EL&&n.ROTATING_EL.documentReady(e),n.SMOOTH_SCROLLING_ANCHORLINK&&n.SMOOTH_SCROLLING_ANCHORLINK.documentReady(e),n.TABS&&n.TABS.documentReady(e),n.TEAM_FOCUS&&n.TEAM_FOCUS.documentReady(e),n.LAVA_LAMP_STYLE_MENU&&n.LAVA_LAMP_STYLE_MENU.documentReady(e),n.CIRCLE_LAYOUT&&n.CIRCLE_LAYOUT.documentReady(e),n.MULTI_ITEMS_CAROUSEL&&n.MULTI_ITEMS_CAROUSEL.documentReady(e),n.THREE_BACKGROUND&&n.THREE_BACKGROUND.documentReady(e),n.THREE_CAROUSEL&&n.THREE_CAROUSEL.documentReady(e),n.THREE_LIQUID_SCROLLSPY_SLIDER&&n.THREE_LIQUID_SCROLLSPY_SLIDER.documentReady(e),t.scrollReveal&&n.SCROLL_REVEAL&&n.SCROLL_REVEAL.documentReady(e),t.ajaxPostList&&n.POST_LIST_AJAX&&n.POST_LIST_AJAX.documentReady(e),t.ajaxDDList&&n.DYNAMIC_DD_LIST&&n.DYNAMIC_DD_LIST.documentReady(e),t.counterAnim&&n.COUNTER&&n.COUNTER.documentReady(e),t.lightBox&&n.LIGHTBOX&&n.LIGHTBOX.pageLoaded(),e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery),function(e){e.fn.UixApplyAsyncAllScripts=function(a){var t=e.extend({runAll:!0},a);this.each((function(){var a=n.components.pageLoaded,o=n.components.documentReady;if(t.runAll){for(var i=0;i<a.length;i++)a[i]();for(var s=0;s<o.length;s++)o[s](e)}e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery);!function(e,a,t,o){null!==t.BODY_AND_HEADER&&(e.BODY_AND_HEADER=e.BODY_AND_HEADER||{},e.BODY_AND_HEADER.version="0.0.7",e.BODY_AND_HEADER.documentReady=function(e){if(e("body").hasClass("onepage"))return!1;var a=e(t),o=t.innerWidth;t.innerHeight;function n(a){var t=e(".uix-header__placeholder.js-uix-header__placeholder-autoheight");a>768?(t.css("height",e(".uix-header__container").outerHeight(!0)+"px"),e("body").removeClass("is-mobile")):(t.css("height",0),e("body").addClass("is-mobile"))}n(o),a.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}));var i=e(".uix-header__container, .uix-header__placeholder");a.off("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER").on("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER",(function(){e(this).scrollTop()>=220?i.addClass("is-fixed"):i.removeClass("is-fixed")}))},e.components.documentReady.push(e.BODY_AND_HEADER.documentReady))}(n,jQuery,window,document);function p(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,a,t){return a&&p(e.prototype,a),t&&p(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e,a,t,o){null!==t.COMMON_HEIGHT&&(e.COMMON_HEIGHT=e.COMMON_HEIGHT||{},e.COMMON_HEIGHT.version="0.0.3",e.COMMON_HEIGHT.pageLoaded=function(){var e=a(t),o=t.innerWidth;t.innerHeight;function n(e){a(".js-uix-common-height").each((function(){var t=a(this),o="[class*=col-], [class*=uix-core-grid__col-]",n=0;t.children(o).each((function(){var e=a(this);e.find("img").each((function(){"inline"==a(this).parent("a").css("display")&&a(this).parent("a").css("display","inline-block")})),(e.hasClass("max-height")||e.height()>n)&&(n=e.outerHeight())})),e>768?t.children(o).each((function(){a(this).css("height",n)})):t.children(o).each((function(){a(this).css("height","auto")}))}))}n(o),e.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}))},e.components.pageLoaded.push(e.COMMON_HEIGHT.pageLoaded))}(n,jQuery,window,document);function f(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,a,t){return a&&f(e.prototype,a),t&&f(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(e,a,t,o){null!==t.GET_CUSTOM_ATTRS&&(e.GET_CUSTOM_ATTRS=e.GET_CUSTOM_ATTRS||{},e.GET_CUSTOM_ATTRS.version="0.0.1",e.GET_CUSTOM_ATTRS.documentReady=function(e){e("[data-my-custom-datas]").each((function(){var a=e(this).attr(),t="";e.each(a,(function(e,a){e.indexOf("data-custom-field-")>=0&&(t+='"'+e.replace("data-custom-field-","")+'": "'+a+'", ')})),t=t.replace(/,\s*$/,"")}))},e.components.documentReady.push(e.GET_CUSTOM_ATTRS.documentReady))})(n,jQuery,window,document),t(925);function h(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,a,t){return a&&h(e.prototype,a),t&&h(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}!function(e,a,t,o){null!==t.SET_BG&&(e.SET_BG=e.SET_BG||{},e.SET_BG.version="0.0.6",e.SET_BG.documentReady=function(e){var a=e(t),o=t.innerWidth,n=t.innerHeight;function i(a,t){e("[data-bg]").each((function(){var a=e(this),t=a.data("bg");if("undefined"===E(t)&&(t={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",position:"top left",size:"cover",repeat:"no-repeat",fill:!1,parallax:0,transition:"none 0s ease 0s",move:!1}),t){var o=t.src,n=t.position,i=t.size,s=t.repeat,r=t.transition,l=t.parallax,d=t.move;"undefined"===E(n)&&(n="top left"),"undefined"===E(i)&&(i="cover"),"undefined"===E(s)&&(s="no-repeat"),"undefined"===E(r)&&(r="none 0s ease 0s"),"undefined"===E(d)&&(d=!1),l&&"undefined"!=E(l)&&0!=l&&(n=n.replace("top","50%"));var c="none",p="infinite";if(d&&"[object Object]"==Object.prototype.toString.call(d)){switch(d.loop||(p="1 forwards"),n="0 0",d.dir){case"top":c="js-uix-cssanim--move-t "+parseInt(d.speed)+"s "+"linear "+p;break;case"bottom":c="js-uix-cssanim--move-b "+parseInt(d.speed)+"s "+"linear "+p;break;case"left":c="js-uix-cssanim--move-l "+parseInt(d.speed)+"s "+"linear "+p;break;case"right":c="js-uix-cssanim--move-r "+parseInt(d.speed)+"s "+"linear "+p}0==e("#js-uix-cssanim--move-t").length&&e('<style id="js-uix-cssanim--move-t">').text("@keyframes js-uix-cssanim--move-t{from{background-position:0 0;}to{background-position:0 -19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-b").length&&e('<style id="js-uix-cssanim--move-b">').text("@keyframes js-uix-cssanim--move-b{from{background-position:0 0;}to{background-position:0 19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-l").length&&e('<style id="js-uix-cssanim--move-l">').text("@keyframes js-uix-cssanim--move-l{from{background-position:0 0;}to{background-position:-19999px 0;}").appendTo("head"),0==e("#js-uix-cssanim--move-r").length&&e('<style id="js-uix-cssanim--move-r">').text("@keyframes js-uix-cssanim--move-r{from{background-position:0 0;}to{background-position:19999px 0;}").appendTo("head")}"undefined"!=E(o)&&""!=o&&(t.fill?Modernizr.cssanimations&&a.css({background:"url("+o+") "+s,"background-size":i,"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",animation:c}):a.css({"background-image":"url("+o+")","background-position":n,"background-size":i,"background-repeat":s,animation:c}),l&&"undefined"!=E(l)&&0!=l&&a.UixParallax({speed:l,transition:r,bg:{enable:!0,xPos:"50%"}}))}}))}i(o,n),a.on("resize",(function(){t.innerWidth!=o&&(o=t.innerWidth,n=t.innerHeight,i(o,n))}))},e.components.documentReady.push(e.SET_BG.documentReady))}(n,jQuery,window,document);function x(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,a,t){return a&&x(e.prototype,a),t&&x(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}!function(e,a,t,n){null!==t.VIDEOS&&(e.VIDEOS=e.VIDEOS||{},e.VIDEOS.version="0.1.3",e.VIDEOS.documentReady=function(e){e(t);var a=t.innerWidth,i=t.innerHeight;e(".uix-video").each((function(){var t=e(this),n=t.find("video").attr("id"),i="videocover-"+n,s=t.closest("[data-embed-video-wrapper]").width(),r=t.data("embed-video-autoplay"),l=t.data("embed-video-loop"),d=t.data("embed-video-controls"),c=t.data("embed-video-width"),p=t.data("embed-video-height");if(t.find(".video-js").attr("id",n),"undefined"===w(r)&&(r=!0),"undefined"===w(l)&&(l=!0),"undefined"===w(d)&&(d=!1),"undefined"!==w(c)&&"auto"!=c||(c=s),"undefined"!==w(p)&&"auto"!=p||(p=s/1.77777777777778),0==e("#"+i).length){e('<div id="'+i+'" class="uix-video__cover"><span class="uix-video__cover__placeholder" style="background-image:url('+t.find("video").attr("poster")+')"></span><span class="uix-video__cover__playbtn"></span></div>').insertBefore(t);var u=Modernizr.touchevents?"touchstart":"click";e("#"+i+" .uix-video__cover__playbtn").on(u,(function(a){a.preventDefault(),f.play(),e("#"+i).hide()})),r&&!o||e("#"+i+" .uix-video__cover__playbtn").show()}a<=768&&t.find(".video-js").attr({playsinline:"true"});var f=videojs(n,{width:c,height:p,loop:l,autoplay:r},(function(){var a=function(e){var a,o,n=e.videoWidth(),i=e.videoHeight();o=i*((a=s)/n),isNaN(a)||isNaN(o)||(e.height(o),e.width(a)),t.css("visibility","visible"),t.find(".vjs-loading-spinner, .vjs-big-play-button").hide()};a(this),this.on("loadedmetadata",(function(){a(this)})),r&&(this.muted(!0),this.play()),d||this.controls(!1);this.on("timeupdate",(function(){this.duration()>0&&(!0,this.currentTime()>0&&(!0,this.off("timeupdate"),e("#"+i).hide()))}))}))}));var s="[data-video-win]";e(s).each((function(){var a=e(this),t="",o=a.data("video-mp4"),n=a.data("video-webm"),i=a.data("video-ogv"),s=a.data("video-poster"),r=a.data("modal-id"),l=r+"--videopush";if("undefined"===w(o)&&(o=""),"undefined"===w(n)&&(n=""),"undefined"===w(i)&&(i=""),a.find("[data-video-iframe]").length>0&&(t=a.find("[data-video-iframe]").html()),0==e("#"+r).length){var d="",c="",p="",u="";""!=o&&(c='<source src="'+o+'" type="video/mp4">'),""!=n&&(p='<source src="'+n+'" type="video/webm">'),""!=i&&(u='<source src="'+i+'" type="video/ogv">'),d+='<div class="uix-modal-box is-fullscreen is-video" role="dialog" tabindex="-1" aria-hidden="true" id="'+r+'">',d+='<button type="button" class="uix-modal-box__close" data-modal-close-trigger="true"></button>',d+='<div class="uix-modal-box__content" role="document">',d+='<div class="uix-modal-box__video-waiting"></div><div class="uix-modal-box__video-container" data-video-player-init="0">',a.find("[data-video-iframe]").length>0&&""!=t?(d+='<div id="'+l+'" class="embed-responsive embed-responsive-16by9">',d+=t,d+="</div>"):(d+='<video id="'+l+'" class="video-js vjs-default-skin" controls poster="'+s+'">',d+=c+p+u,d+="</video>"),d+="</div>",d+="</div>",e(d+="</div>").appendTo("body")}})),e(n).off("click.VIDEOS").on("click.VIDEOS",s,(function(){var t=e(this).data("modal-id")+"--videopush",o=a-80,s=i-80,r=e("#"+t).closest(".uix-modal-box__video-container"),l=r.prev(".uix-modal-box__video-waiting"),d=r.data("video-player-init"),c=!1,p=function(){TweenMax.set(r,{alpha:1}),l.removeClass("is-active")};if(e("#"+t).find("iframe").length>0?c=e("#"+t).find("iframe"):(TweenMax.set(r,{alpha:0}),l.addClass("is-active")),c&&"object"===w(c)){if(c.length>0){var u=c.width(),f=c.height(),m=u,h=f;f>s&&(m=u*((h=s)/f)),m>o&&(h=f*((m=o)/u)),c.css({left:(o-m)/2+"px",top:(s-h)/2+"px",height:h+"px",width:m+"px"}),a<=768&&c.css({top:0}).parent(".embed-responsive").css({top:(s-h)/2+"px"})}return!1}a<=768&&e("#"+t).attr({playsinline:"true"});var v=videojs(t,{width:1,height:1,autoplay:!0,loop:!0},(function(){var e=function(e){var a=e.videoWidth(),t=e.videoHeight(),n=a,l=t;t>s&&(n=a*((l=s)/t)),n>o&&(l=t*((n=o)/a)),e.height(l),e.width(n),r.find(" > div.video-js").css({width:n+"px"});var d=parseFloat(i-l)/2-50;r.css({transform:"translateY("+d+"px)"}),p()};e(this),this.on("loadedmetadata",(function(){e(this),r.data("video-player-init",1)})),this.play(),this.on("timeupdate",(function(){var e=this.duration();e>0&&this.currentTime()})),this.on("ended",(function(){}))}));1===d&&p(),e(n).off("click.VIDEOS_CLOSE").on("click.VIDEOS_CLOSE",".uix-modal-box [data-modal-close-trigger], .uix-modal-mask:not(.js-uix-disabled)",(function(){v.ready((function(){this.pause()}))}))}))},e.components.documentReady.push(e.VIDEOS.documentReady))}(n,jQuery,window,document);const g="#define GLSLIFY 1\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4(vColor, 1.);\n}     ",T="#define GLSLIFY 1\nuniform float time;\nuniform vec2 limits;\nuniform float speed;\nattribute float moveable;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    float limLen = limits.y - limits.x;\n    vec3 pos = position;\n    if (floor(moveable + 0.5) > 0.5) {\n        float dist = speed * time;\n        float currPos = mod((pos.z + dist) - limits.x, limLen) + limits.x;\n        pos.z = currPos;\n    }\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}",b="#define GLSLIFY 1\n uniform sampler2D uTexture;\n uniform float uAlpha;\n uniform vec2 uOffset;\n\n varying vec2 vUv;\n\n vec3 rgbShift(sampler2D texture, vec2 uv, vec2 offset) {\n   float r = texture2D(uTexture,vUv + 0.0).r;\n   vec2 gb = texture2D(uTexture,vUv).gb;\n   return vec3(r,gb);\n }\n\n void main() {\n   vec3 color = rgbShift(uTexture,vUv,uOffset);\n   gl_FragColor = vec4(color,uAlpha);\n }   ",_="#define GLSLIFY 1\n uniform vec2 uOffset;\n varying vec2 vUv;\n\n #define M_PI 3.1415926535897932384626433832795\n\n vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n   position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n   position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n   return position;\n }\n\n void main() {\n   vUv = uv;\n   vec3 newPosition = deformationCurve(position, uv, uOffset);\n   gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n }",R="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n\tfloat intensity = pow( 0.7 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), 4.0 ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}",M="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";function S(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,a,t){return a&&S(e.prototype,a),t&&S(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}!function(e,t,o,n){null!==o.MAIN&&(e.MAIN=e.MAIN||{},e.MAIN.version="0.0.1",e.MAIN.documentReady=function(e){if(e("body").hasClass("page"))return!1;n.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()}));var t=0;n.addEventListener("touchend",(function(e){var a=(new Date).getTime();a-t<=300&&e.preventDefault(),t=a}),!1);var i="#app-mouse-overlay";0==e(i).length&&e("body").prepend('<div id="app-mouse-overlay" style="background-color: rgba(1, 1, 1, 0);bottom: 0;left: 0;position: fixed;right: 0;top: 0;z-index: 999999999;width: 100vw; height: 100vh;display: none;"></div>');var s=function(){e(i).show(),setTimeout((function(){e(i).hide()}),3e3)};n.addEventListener("contextmenu",(function(e){return e.preventDefault()}));var r=".app-cursor .app-cursor__progress svg.dot circle",l=".app-cursor .app-cursor__progress svg.circle path",d=".app-cursor .app-cursor__progress svg.arrow path",c=".app-loader-progress",p=".app-loader-progress__counter",u=".app-loader-headphone",f=".app-enter-btn",m=".uix-brand",h=".app-topnav__wrapper",v=".app-scrolling-textbox__wrapper",E=".app-scrolling-textbox > p",x="#app-screen-home",y="#app-screen-home .app-screen-home__desc",w={fonts:["assets/fonts/fjalla-one/FjallaOne_Regular.json?ver=1","assets/fonts/abeezee/ABeeZee_Regular.json?ver=1","assets/fonts/almonte/Almonte_Regular.json?ver=1"],models:["assets/models/gltf/cave-webgl.glb?ver=1","assets/models/gltf/brand.glb?ver=1","assets/models/gltf/stone-anim.glb?ver=1","assets/models/gltf/stone.glb?ver=1"],textures:["assets/textures/sprites/water-blue.jpg?ver=1","assets/textures/sprites/water.jpg?ver=1","assets/textures/sprites/ps_ball.png?ver=1","assets/textures/sprites/metal.jpg?ver=1","assets/textures/sprites/metal-env.jpg?ver=1","assets/textures/sprites/planet4-black.jpg?ver=1","assets/textures/sprites/mask.jpg?ver=1","assets/textures/sprites/txt-bg.jpg?ver=1"],audios:["assets/audios/bg.ogg?ver=1","assets/audios/enter-scene.ogg?ver=1","assets/audios/btn-hover.ogg?ver=1"],aboutTextures:["assets/videos/about.mp4","assets/videos/about2.mp4","assets/videos/about3.mp4"],workTextures:["assets/images/works/1.jpg","assets/images/works/2.jpg","assets/images/works/3.jpg","assets/images/works/4.jpg"]};function S(e){TweenMax.to(r,.5,{drawSVG:e+"%"})}var H=e(".app-cursor");e(n).on("pointermove.CURSOR touchmove.CURSOR",(function(e){var a,t,o,n=e.touches;n&&n.length?(a=n[0].clientX,t=n[0].clientY):(a=e.clientX,t=e.clientY),TweenMax.to(H,.2,{left:a,top:t,ease:Power4.easeOut}),H.addClass("is-moving"),clearTimeout(o),o=setTimeout((function(){H.removeClass("is-moving")}),300),H.hasClass("is-down")&&H.removeClass("is-down")})).on("pointerdown.CURSOR touchstart.CURSOR",(function(e){var a,t,o=e.touches;o&&o.length?(a=o[0].clientX,t=o[0].clientY):(a=e.clientX,t=e.clientY),TweenMax.to(H,.2,{left:a,top:t,ease:Power4.easeOut}),H.addClass("is-down")})).on("pointerup.CURSOR touchend.CURSOR",(function(e){H.removeClass("is-down")})),e(f).on("pointerenter.CURSOR_ENTER",(function(){e(r).parent().addClass("is-disabled"),e(l).parent().addClass("is-disabled"),e(d).parent().addClass("is-active")})).on("pointerleave.CURSOR_ENTER",(function(){e(r).parent().removeClass("is-disabled"),e(l).parent().removeClass("is-disabled"),e(d).parent().removeClass("is-active")})).on("click.CURSOR_ENTER",(function(){H.addClass("is-down"),e(r).parent().removeClass("is-disabled"),e(l).parent().removeClass("is-disabled"),e(d).parent().removeClass("is-active").addClass("is-down"),s()}));var O=function(){e(o);var t,i,l,d,O=o.innerWidth,A=o.innerHeight,L="app-main",P=[],D=new THREE.LoadingManager;D.onLoad=function(){},D.onProgress=function(e,a,t){},D.onError=function(e){console.log("▶▶▶▶▶ There was an error loading ◀◀◀◀◀◀  "+e)};var z=new THREE.TextureLoader(D),j=new THREE.GLTFLoader(D),I=new THREE.FontLoader(D);z.crossOrigin="anonymous",j.crossOrigin="anonymous",I.crossOrigin="anonymous";var k,N,G,U,B,F,V,W,Y,X,J,Q,q,K,$,Z,ee,ae,te,oe,ne,ie,se,re,le,de,ce,pe,ue,fe,me,he,ve,Ee,xe,ye,we,ge,Te,be,_e,Re,Me,Se,He,Ce,Oe,Ae,Le,Pe=0,De=0,ze=O/2,je=A/2,Ie=0,ke=0,Ne=0,Ge=0,Ue=new THREE.Clock,Be=0,Fe=1e-8,Ve=new SimplexNoise,We=!1,Ye=!1,Xe=!1,Je=!1,Qe=!1,qe=!1,Ke=!0,$e=!1,Ze=!1,ea=!1,aa=!0,ta=new THREE.Object3D,oa=new THREE.Object3D,na=new THREE.Object3D,ia=new THREE.Object3D,sa=new THREE.Object3D,ra="#".concat((new THREE.Color).setHSL(0,0,0).getHexString()),la=new THREE.Object3D,da=[],ca=new THREE.Vector2,pa=new THREE.Raycaster,ua=[],fa=new THREE.Object3D,ma=new THREE.Object3D,ha=new THREE.Object3D,va=new THREE.ShaderMaterial({uniforms:{c:{type:"f",value:2.5},p:{type:"f",value:14}},vertexShader:"#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#define GLSLIFY 1\nuniform float c;\nuniform float p;\nvarying vec3 vNormal;\nvoid main() \n{\n    float intensity = pow( c - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), p ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}"}),Ea=[],xa=[],ya=[],wa=[],ga=null,Ta=n.querySelector("#app-menu__nucleus-0"),ba=n.querySelector("#app-menu__nucleus-1"),_a=n.querySelector("#app-menu__nucleus-2"),Ra=new THREE.ShaderMaterial({uniforms:{diffuse:{value:new THREE.Color(16777215)},dashSize:{value:1},gapSize:{value:1},dotSize:{value:.15},opacity:{value:.8},time:{value:0}},fragmentShader:"#define GLSLIFY 1\n  uniform vec3 diffuse;\n  uniform float opacity;\n  uniform float time; // added time uniform\n\n  uniform float dashSize;\n  uniform float gapSize;\n  uniform float dotSize;\n  varying float vLineDistance;\n\n  void main() {\n    float totalSize = dashSize + gapSize;\n    float modulo = mod( vLineDistance + time, totalSize ); // time added to vLineDistance\n    float dotDistance = dashSize + (gapSize * .5) - (dotSize * .5);\n\n    if ( modulo > dashSize && mod(modulo, dotDistance) > dotSize ) {\n      discard;\n    }\n\n    gl_FragColor = vec4( diffuse, opacity );\n  }",vertexShader:"#define GLSLIFY 1\n  attribute float lineDistance;\n  varying float vLineDistance;\n\n  void main() {\n    vLineDistance = lineDistance;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n  }",transparent:!0}),Ma=20,Sa=400,Ha=[],Ca=".app-sound-switch",Oa=new THREE.Object3D,Aa=".app-cursor .app-cursor__progress svg.dot-back circle",La=".app-cursor .app-cursor__progress svg.back",Pa=o.document,Da=0,za=!1;function ja(e){za=!0,e.preventDefault()}function Ia(e){za=!1}function ka(){H.addClass("is-backbtn"),e(r).parent().addClass("is-disabled"),e(Aa).parent().removeClass("is-disabled"),e(La).addClass("is-active").removeClass("is-down"),TweenMax.set(Aa,{drawSVG:"0%"}),TweenMax.to(H,.5,{scale:1.5})}function Na(){H.removeClass("is-backbtn"),e(r).parent().removeClass("is-disabled"),e(Aa).parent().addClass("is-disabled"),e(La).removeClass("is-active").addClass("is-down"),TweenMax.to(H,.5,{scale:1})}Pa.addEventListener("pointerdown",ja,!1),Pa.addEventListener("pointerup",Ia,!1),Pa.addEventListener("touchstart",ja,!1),Pa.addEventListener("touchend",Ia,!1),function a(){ea&&(za?(Da++,function(){if(Da<=60){if(ea){var a=Da*(100/60);TweenMax.set(Aa,{drawSVG:a})}}else ea&&Na(),e("body").removeClass("primarymenu-active"),!1,e(m).removeClass("scene-start").addClass("scene-end"),e(h).removeClass("scene-start").addClass("scene-end"),Qe=!1,TweenMax.to(t.position,2,{x:0,y:0,z:100,onComplete:function(){rt("open",null),e(x).removeClass("is-click"),at(!1,!0),TweenMax.to(ta.rotation,1,{y:ta.origData.ry,ease:Power2.easeOut}),TweenMax.to(ta.position,1,{x:ta.origData.x,y:ta.origData.y,z:ta.origData.z,ease:Power2.easeOut}),Qe||Za(),Ke=!0,We=!0}}),TweenMax.to(ye.position,1.2,{x:2*ie,ease:Power2.easeIn,onComplete:function(){TweenMax.set(ye.position,{x:ye.origData.x,y:ye.origData.y,z:ye.origData.z}),TweenMax.set(ye.scale,{x:Fe,y:Fe,z:Fe})}}),TweenMax.to(Te.uAlpha,.5,{delay:1,value:0,ease:Power2.easeIn}),TweenMax.to(_e.scale,.5,{x:Fe,y:Fe,z:Fe,ease:Power2.easeIn}),fe&&(TweenMax.to(fe.uAlpha,1.5,{value:0,ease:Power4.easeOut}),TweenMax.to(fe.uOffset.value,1.5,{x:-2,y:-1.3,ease:Power4.easeOut})),function(){ve&&xe&&(TweenMax.to([ve.uAlpha,xe.uAlpha],1.5,{value:0,ease:Power4.easeOut}),TweenMax.to([ve.uOffset.value,xe.uOffset.value],1.5,{x:-6,y:-5.3,ease:Power4.easeOut}));var e=[],a=[];wa.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(a,2,{delay:.7,x:500,ease:Power3.easeIn}),TweenMax.to(e,2,{delay:.7,x:function(e,a){return wa[e].origData.x},y:function(e,a){return wa[e].origData.y},onComplate:function(){TweenMax.to(a,1.5,{delay:.7,x:Fe,ease:Power4.easeOut})},ease:Power3.easeIn})}(),st("close-all"),TweenMax.resumeAll(),console.log("%c About closed","color: orange;"),TweenMax.to("#app-screen-detail__about",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus"),TweenMax.set(v,{css:{display:"none"},alpha:0,onComplete:function(){TweenMax.killTweensOf([v,E])}})}}),function(){console.log("%c Contact closed","color: orange;"),TweenMax.to("#app-screen-detail__contact",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus")}});(new TimelineMax).staggerTo(".app-social-links a",.1,{x:5,alpha:0},.1,0).to(".app-social-links",.5,{css:{display:"none"}})}(),function(){console.log("%c Works closed","color: orange;"),TweenMax.to(ia.position,3,{y:2e3,ease:Power2.easeIn}),TweenMax.to(P[3].position,1.2,{delay:1,z:P[3].origData.z}),TweenMax.to(l.position,1.2,{delay:1,z:l.origData.z});var e=(new THREE.Color).setHSL(0,0,0);TweenMax.to(P[4].color,1,{r:e.r,g:e.g,b:e.b})}(),ea=!1}()):(Da=0,TweenMax.to(Aa,.5,{drawSVG:0}))),requestAnimationFrame(a)}();var Ga=new TimelineMax;e(h+" > a").on("pointerenter",(function(a){var t=e(this).find(".app-topnav__bars");t.removeAttr("style"),Ga.add("start").staggerTo(t,.35,{x:"35px",opacity:.2,ease:Power4.easeOut},.04,"start").staggerTo(t,.2,{x:"-40px"},.02,"+=0.01"),H.addClass("is-hover")})).on("pointerleave",(function(a){H.removeClass("is-hover");var t=e(this).find(".app-topnav__bars");Ga.add("end").staggerTo(t,.2,{x:"0px",opacity:1,ease:Power4.easeOut},.02,"+=0.01")})).on("click",(function(){e(h).hasClass("scene-start")||(!0,s(),st("open"),rt("close",-1),e(m).removeClass("scene-end").addClass("scene-start"),e(h).removeClass("scene-end").addClass("scene-start"))})),e(h).on("pointermove",(function(e){var a=e.offsetX/this.offsetWidth*40-20,t=e.offsetY/this.offsetHeight*40-20;this.style.transform="translate(".concat(a,"px, ").concat(t,"px)")})).on("pointerleave",(function(e){this.style.transform=""})),e(".app-social-links > a").on("pointerenter",(function(e){H.addClass("is-hover")})).on("pointerleave",(function(e){H.removeClass("is-hover")}));var Ua,Ba=[w.aboutTextures[0],w.aboutTextures[1]],Fa=0;Ua=Ba.length,console.log("videosTotal: "+Ua+", videosLoaded: "+Fa);var Va=w.models.length,Wa=0,Ya=0;function Xa(){t.aspect=o.innerWidth/o.innerHeight,t.updateProjectionMatrix(),d.setSize(o.innerWidth,o.innerHeight)}function Ja(e){Pe=e.clientX-ze,De=e.clientY-je,ca.x=e.clientX/o.innerWidth*2-1,ca.y=-e.clientY/o.innerHeight*2+1,Number.prototype.map=function(e,a,t,o){return(this-e)*(o-t)/(a-e)+t};var a=ca.x.map(-1,1,-ze,ze),t=ca.y.map(-1,1,-je,je);Ke&&l&&(l.position.x=a,l.position.y=t)}function Qa(a){if(a.preventDefault(),Pe=a.clientX-ze,De=a.clientY-je,!Xe)return!1;if(ca.x=a.clientX/o.innerWidth*2-1,ca.y=-a.clientY/o.innerHeight*2+1,pa.setFromCamera(ca,t),ua=Ea.concat(ce).concat(Re.children).concat(Me.children),(K=pa.intersectObjects(ua)).length>0&&"nucleus__audio-controller"==K[0].object.name&&(console.log("--- [audio controller] --- : "+K[0].object.name),e(Ca).toggleClass("is-switched"),e(Ca).hasClass("is-switched")?Ae.setVolume(0):Ae.setVolume(.5)),K.length>0&&K[0].object.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")){if(console.log("--- [primary 3D navigation] --- : "+K[0].object.name),"undefined"!=C(K[0])){var s=K[0].object;switch(K[0].object.name){case"nucleus__menu-work":ga=Ea[0].origData,We=!1,function(){console.log("%c Works","color: green;");Ea[0].origData;TweenMax.to([Se.uAlpha,He.uAlpha,Ce.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0,TweenMax.to([P[3].position,l.position],1.2,{z:-300}),setTimeout((function(){ea=!0,ka()}),2500),setTimeout((function(){dt("open",null)}),500),TweenMax.to(ta.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:5*se,ease:Power2.easeOut,onComplete:function(){TweenMax.to(ia.position,2,{x:ia.origData.x,y:ia.origData.y,z:ia.origData.z,ease:Power2.easeOut});var e=(new THREE.Color).setHSL(1,1,1);TweenMax.to(P[4].color,1,{r:e.r,g:e.g,b:e.b})}})}})}(),st("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-about":ga=Ea[1].origData,We=!1,function(){console.log("%c About","color: green;"),TweenMax.to("#app-screen-detail__about",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),ea=!0,ka(),TweenMax.to(v,1.2,{css:{display:"block"},alpha:1,ease:Power2.easeOut})}}),e(v).addClass("scene-detail"),ot();var a=Ea[1].origData;TweenMax.to([Se.uAlpha,He.uAlpha,Ce.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0,setTimeout((function(){dt("open",null)}),500),TweenMax.to(ta.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:-se/2-20,ease:Power2.easeOut,onComplete:function(){TweenMax.set(ue.position,{x:a.x,y:a.y,z:a.z-30}),TweenMax.to(fe.uAlpha,1.5,{value:1,ease:Power4.easeOut}),TweenMax.to(fe.uOffset.value,1.5,{x:0,y:0,ease:Power4.easeOut})}})}})}(),st("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-contact":ga=Ea[2].origData,We=!1,function(){console.log("%c Contact","color: green;"),TweenMax.to("#app-screen-detail__contact",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),ea=!0,ka();(new TimelineMax).to(".app-social-links",.5,{css:{display:"block"}}).staggerTo(".app-social-links a",.1,{x:0,alpha:1},.1,0)}});var e=Ea[2].origData;TweenMax.to([Se.uAlpha,He.uAlpha,Ce.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0;var a=[],t=[];wa.forEach((function(e,o){a.push(e.position),t.push(e.scale)})),TweenMax.to(ta.rotation,1,{y:-1.3,ease:Power1.easeOut});var o=n.createElement("video");o.src=Ba[1];var s=new THREE.VideoTexture(o);s.minFilter=THREE.LinearFilter,s.magFilter=THREE.LinearFilter,s.format=THREE.RGBFormat,s.image.autoplay=!0,s.image.loop=!0,s.image.currentTime=0,s.image.muted=!0,s.image.play(),ve={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var r=new THREE.ShaderMaterial({uniforms:ve,vertexShader:_,fragmentShader:b,transparent:!0});(he=new THREE.Mesh(new THREE.CircleGeometry(12,32),r)).receiveShadow=!0,i.add(he),xe={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var l=new THREE.ShaderMaterial({uniforms:xe,vertexShader:_,fragmentShader:b,transparent:!0});Ee=new THREE.Mesh(new THREE.CircleGeometry(7,0),l),i.add(Ee),Ee.receiveShadow=!0,i.add(Ee),setTimeout((function(){dt("open",null)}),500);var d=5;TweenMax.to(ta.position,1,{x:"+=-200",z:"+=100",onComplete:function(){Je=!1,Qe=!0,TweenMax.to(a,.5,{y:-se/3,x:-ie/2,ease:Power2.easeOut}),TweenMax.to(a,1.5,{delay:.7,x:function(e,a){return-Math.random()*ie/2},ease:Power2.easeOut}),TweenMax.to(t,1.5,{delay:.7,x:function(e,a){return e%d*30-(ie/3-350)},ease:Power2.easeOut}),setTimeout((function(){TweenMax.set(he.position,{x:e.x+20,y:e.y+8,z:e.z+50}),TweenMax.set(Ee.position,{x:e.x-20,y:e.y-3,z:e.z+50}),TweenMax.to([ve.uAlpha,xe.uAlpha],3,{delay:.7,value:1,ease:Power4.easeOut}),TweenMax.to([ve.uOffset.value,xe.uOffset.value],3,{delay:.8,x:0,y:0,ease:Power4.easeOut})}),500)}})}(),st("close-onlynav"),e("body").addClass("primarymenu-active")}s.updateMatrix()}null!=ga&&TweenMax.to(t.position,2,{x:ga.x,y:ga.y,z:ga.z+100,onUpdate:function(){t.up.set(0,1,0),t.updateProjectionMatrix(),et()}})}}function qa(e){e.preventDefault(),Pe=e.clientX-ze,De=e.clientY-je,ca.x=e.clientX/o.innerWidth*2-1,ca.y=-e.clientY/o.innerHeight*2+1}function Ka(e){Z=pa.intersectObjects(ia.children,!0),aa=!(Z.length>0)}function $a(e){if(e.preventDefault(),Xe&&Z.length>0&&!Z[0].object.name.includes("nucleus__worktitle-")){var a=Z[0].object.parent.parent.parent.parent;console.log("onPointerUp: ",a.name),o.open(a.href,"_blank")}}function Za(){Je=!0;var e=[],a=[];ya.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(e,1.5,{y:function(e,a){return ya[e].origData.y},z:function(e,a){return ya[e].origData.z}}),TweenMax.killTweensOf(a),TweenMax.to(a,1.5,{x:function(e,a){return ya[e].origData.sx},y:function(e,a){return ya[e].origData.sy},z:function(e,a){return ya[e].origData.sz}})}function et(){Ea.forEach((function(e,a){var o=ct(e,t,d.domElement.width,d.domElement.height);switch(e.name){case"nucleus__menuball-0":Ta.style.top=o.position.y+"px",Ta.style.left=o.position.x+"px",Ta.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)";break;case"nucleus__menuball-1":ba.style.top=o.position.y+"px",ba.style.left=o.position.x+"px",ba.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)";break;case"nucleus__menuball-2":_a.style.top=o.position.y+"px",_a.style.left=o.position.x+"px",_a.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)"}}))}function at(a,t){var o=function(){e(y).each((function(a){var t=e(this);[t.find("> h2"),t.find("> p")].forEach((function(e,a){var t=new SplitText(e,{type:"chars"});TweenMax.set(t.chars,{y:70,alpha:0})}))}))};if(a)o();else{var n=e(y),i=0;e(x).addClass("is-active");!function a(){if(!0){var s=n.eq(i),r=[s.find("> h2"),s.find("> p")];!1,r.forEach((function(e,a){for(var t=new SplitText(e,{type:"chars"}),o=t.chars.length,n=new TimelineMax({repeat:0,onComplete:function(){}}),i=0;i<o;i++)n.from(t.chars[i],1,{opacity:0,webkitFilter:"blur(0)",ease:Back.easeOut},1*Math.random());n.add("explode","+=2");for(var s=0;s<o;s++)n.to(t.chars[s],.5,{delay:1.5,opacity:0,webkitFilter:"blur(5px)"},"explode+="+.2*Math.random())})),e(x).hasClass("is-click")||!t?(TweenMax.killAll(!1,!1,!0,!1),setTimeout((function(){o()}),1e3)):TweenMax.delayedCall(e(x).data("tween-delay"),a)}i<n.length-1?i++:i=0}()}}function tt(e){e&&(TweenMax.set(q.uniforms.contrast,{value:0}),TweenMax.set(J.uniforms.h,{value:0}))}function ot(){var a=e(v).height();TweenMax.set(v,{scale:.5}),TweenMax.set(E,{y:function(e){return 20*e}}),TweenMax.to(E,3,{ease:Linear.easeNone,y:"+="+a,modifiers:{y:function(e){return e%a}},repeat:-1}),TweenMax.set(v,{overflow:"hidden"})}function nt(e,a,o){for(var s=function(e,a){e.faces.forEach((function(e){for(var t=e instanceof THREE.Face3?3:4,o=0;o<t;o++)e.vertexColors[o]=a}))},r=0;r<a;r++){var l=void 0;"cube"==e?l=new THREE.BoxGeometry(4,4,4):"sphere"==e?("ball-nav"==o&&(l=new THREE.SphereGeometry(10,32,32)),"ball-fly"==o&&(l=new THREE.IcosahedronGeometry(2,2)),"ball-pinprick"==o&&(l=new THREE.IcosahedronGeometry(2,2))):"poly"==e&&(l=new THREE.CylinderGeometry(3,6,3,5,1));var d=new THREE.Color;d.setRGB(Math.random(),Math.random(),Math.random()),s(l,d);var c=void 0,p=void 0;if("ball-nav"==o){c=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!1,map:function(){var e=n.createElement("canvas");e.width=16,e.height=16;var a=e.getContext("2d"),t=a.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(.2,"rgba(0,255,255,1)"),t.addColorStop(.4,"rgba(0,0,64,1)"),t.addColorStop(1,"rgba(0,0,0,1)"),a.fillStyle=t,a.fillRect(0,0,e.width,e.height);var o=new THREE.Texture(e);return o.needsUpdate=!0,o}(),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__menuball-"+r,p.position.x=-65*r+65,0==a&&(p.position.y=0),1==a&&(p.position.y=pt(-60,10)),2==a&&(p.position.y=pt(-60,10)),p.scale.setScalar(.4+1*Math.random()),p.position.z=350,i.add(p),p.speed=pt(.8,1),p.origData={x:p.position.x,y:p.position.y,z:-t.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z};var u=new THREE.MeshBasicMaterial({map:z.load(w.textures[0])}),f=new THREE.Mesh(l,u);p.add(f),f.position.x=0;var m=new THREE.Mesh(l.clone(),va);f.add(m);var h=it(0,0,0,1.5,0,0,10);p.add(h),xa.push(h),fa.add(p),i.add(fa),fa.position.y=-10,Ea.push(p)}"ball-fly"==o&&(c=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:z.load(w.textures[0]),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__flyingball-"+r,p.position.x=pt(-ne/2,ne/2+Math.random()*ie*2),p.position.y=pt(-Math.random()*se*2,Math.random()*se*2),p.rotation.x=2*Math.random()*Math.PI,p.rotation.y=2*Math.random()*Math.PI,p.rotation.z=2*Math.random()*Math.PI,p.scale.setScalar(.25+.3*Math.random()),i.add(p),p.speed=.5+Math.random(),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},p.position.z=350,ma.add(p),i.add(ma),ya.push(p)),"ball-pinprick"==o&&(c=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:z.load(w.textures[0]),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__pinprickball-"+r,p.position.x=-ie/2,p.position.y=2*-se,p.rotation.x=2*Math.random()*Math.PI,p.rotation.y=2*Math.random()*Math.PI,p.rotation.z=2*Math.random()*Math.PI,p.scale.setScalar(.25+.5*Math.random()),p.scale.x=Fe,i.add(p),p.speed=.5+Math.random(),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},p.position.z=-200,ha.add(p),i.add(ha),wa.push(p))}}function it(e,a,t,o,n,i,s){var r=s,l=new THREE.CircleGeometry(10,50);l.vertices.shift();for(var d=new THREE.Object3D,c=0;c<r;c++){var p=new THREE.LineSegments(l,Ra);p.computeLineDistances(),p.position.set(0,0,0),p.scale.setScalar(1-c/199),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},d.add(p),d.position.set(e,a,t),d.rotation.x=n,d.rotation.y=i,d.scale.setScalar(o)}return d}function st(a){"open"==a&&(ea=!0,ka(),TweenMax.set(le.scale,{x:1,onComplete:function(){TweenMax.to(le.position,1.2,{z:le.origData.z,ease:Power2.easeOut})}}),TweenMax.set(de.scale,{x:1,onComplete:function(){TweenMax.to(de.position,1.2,{z:de.origData.z,ease:Power2.easeOut})}}),dt("close","zoomIn"),lt("close"),e(x).addClass("is-click"),setTimeout((function(){at(!1,!1)}),1e3),TweenMax.to(Oe.uAlpha,1.5,{delay:1.5,value:1,ease:Power2.easeOut}),TweenMax.set([Re.position,Me.position],{z:Ze?-120:-50})),"close-all"==a&&(Na(),ea=!1,e(".app-menu__wrapper > .app-menu").removeClass("is-click").parent().removeClass("has-clicked-item"),Ze=!1,TweenMax.to(Oe.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([le.position,de.position],1,{z:3*oe,ease:Power2.easeIn}),TweenMax.to([le.scale,de.scale],.5,{delay:1,x:Fe,onComplate:function(){lt("open"),rt("open",null)}}),setTimeout((function(){dt("open",null)}),300)),"close-onlynav"==a&&(s(),Na(),ea=!1,e(".app-menu__wrapper > .app-menu").removeClass("is-click").parent().removeClass("has-clicked-item"),Ze=!1,TweenMax.to(Oe.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([le.position,de.position],1,{z:3*oe,ease:Power2.easeIn}),TweenMax.to([le.scale,de.scale],.5,{delay:1,x:Fe}))}function rt(e,a){var t=[];Ea.forEach((function(e,a){t.push(e.position)})),"open"==e&&(TweenMax.to(t,3,{z:function(e,a){return Ea[e].origData.z},ease:Power2.easeOut}),setTimeout((function(){et()}),3e3)),"close"==e&&(-1!=a?TweenMax.to(t,3,{z:function(e,t){return e==a?200:-3500},ease:Power3.easeInOut}):TweenMax.to(t,3,{z:-3500,ease:Power3.easeInOut}))}function lt(e){var a=[];ya.forEach((function(e,t){a.push(e.position)})),"open"==e&&TweenMax.to(a,1,{z:function(e,a){return ya[e].origData.z},ease:Power2.easeOut}),"close"==e&&TweenMax.to(a,1,{z:-1200,ease:Power2.easeOut})}function dt(e,a){"open"==e&&TweenMax.to(ta.position,1,{z:ta.origData.z,ease:Power2.easeOut}),"close"==e&&("zoomIn"==a&&TweenMax.to(ta.position,2,{delay:.7,z:-1200,ease:Power2.easeOut}),"zoomOut"==a&&TweenMax.to(ta.position,2,{delay:.7,z:1200,ease:Power2.easeOut}))}function ct(e,a,t,o){var n=new THREE.Vector3;n.setFromMatrixPosition(e.matrixWorld);var i=t/2,s=o/2,r=o/t;n.project(a),n.x=n.x*i+i,n.y=-n.y*s+s;var l=(new THREE.Box3).setFromObject(e).getSize(new THREE.Vector3);return{position:n,width:(7*l.x*r).toFixed(2),height:(7*l.y*r).toFixed(2)}}function pt(e,a){return Math.random()*(a-e)+e}function ut(e){return e*Math.PI/180}function ft(e,a){var t;a instanceof Float32Array?t=a:Array.isArray(a)&&(t=new Float32Array(a));var o=e.geometry.getAttribute("position");o.array=t,o.needsUpdate=!0}return e("body").waitForImages().progress((function(a,t,o){Ya=t;var n=parseInt(a/(t-(1-Ua-Va))*100);e("img").length<=1&&(n=100),isNaN(n)&&(n=100),Wa=n,e(c+" span").text(n);for(var i=1;i<10-Va+1;i++)n<i*(10-Va+1)&&e("body").addClass("loaded"+i);TweenMax.set(r,{scale:1,x:0,y:0,fill:"rgba(255,255,255,0)",drawSVG:"0%",alpha:1}),S(n),console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+n+'%  ----- ["images"] )')})).done((function(){console.log("loadedPercent: "+Wa+", imageTotal: "+Ya),function(o,s){var E=function(){var s=w.models,E=s.length,x=function(e){if(e.lengthComputable)e.loaded,e.total},y=function(e){};s.forEach((function(s){j.load(s,(function(x){var y=parseInt(o+Math.round(100-o)/E);if(e("body").addClass("loaded"+(10-(E-1))),e(c+" span").text(y),S(y),s.indexOf("cave-webgl.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d main object", "images"] )');var g=x.scene;g.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!0,map:z.load(w.textures[0]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),ta.add(g),i.add(ta),ta.scale.setScalar(.7),ta.position.x=0,ta.position.y=-60,ta.position.z=-280,ta.rotation.x=-3.2,ta.rotation.y=0,ta.rotation.z=0,ta.loadingData={x:ta.position.x,y:ta.position.y,z:ta.position.z,rx:ta.rotation.x,ry:ta.rotation.y,rz:ta.rotation.z,sx:ta.scale.x,sy:ta.scale.y,sz:ta.scale.z},ta.scale.setScalar(Fe)}if(s.indexOf("brand.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d sub object 1 (brand)", "3d main object", "images"] )');var T=x.scene;T.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:50,wireframe:!0,side:THREE.DoubleSide,map:z.load(w.textures[6]),fog:!1}),e.castShadow=!0)})),oa.add(T),ta.add(oa),oa.scale.setScalar(30),oa.position.x=70,oa.position.y=60,oa.position.z=0,oa.rotation.x=3.3,oa.rotation.y=-5.6,oa.rotation.z=0}if(s.indexOf("stone-anim.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d sub object 2 (stone)", "3d main object", "images"] )');var b=x.scene;b.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:1,wireframe:!1,map:z.load(w.textures[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),na.add(b),ta.add(na),na.scale.setScalar(50),na.position.x=0,na.position.y=0,na.position.z=0,na.loadingData={x:na.position.x,y:na.position.y,z:na.position.z,rx:na.rotation.x,ry:na.rotation.y,rz:na.rotation.z,sx:na.scale.x,sy:na.scale.y,sz:na.scale.z}}s.indexOf("stone.glb")>=0&&(console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d sub object 3 (stone for works)", "3d main object", "images"] )'),I.load(w.fonts[0],(function(e){var o=550,n=2*Math.PI/worksData.length,s=x.scene;s.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:1,wireframe:!1,map:z.load(w.textures[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),s.material=new THREE.ShaderMaterial({uniforms:{},vertexShader:M,fragmentShader:R,transparent:!0,wireframe:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),s.scale.set(150,150,150),ia.scale.setScalar(.2),ia.position.x=100,ia.position.y=420+se,ia.position.z=0,ia.rotation.x=-1.6,ia.origData={x:ia.position.x,y:ia.position.y,z:ia.position.z,rx:ia.rotation.x,ry:ia.rotation.y,rz:ia.rotation.z,sx:ia.scale.x,sy:ia.scale.y,sz:ia.scale.z},worksData.forEach((function(a,i){var r,l,c,p,u,f,m,h,v,E=i+1,x=s.clone(),y=Math.sin(E*n)*o,g=Math.cos(E*n)*o,T=0;ia.add((r=e,l=a.title,c="nucleus__worktitle-"+E,p=y,u=g,f=T,m=new THREE.TextGeometry(l,{font:r,size:30,height:1,curveSegments:5,bevelEnabled:!0,bevelThickness:1,bevelSize:2,bevelOffset:0,bevelSegments:5}),h=new THREE.MeshPhongMaterial({side:THREE.DoubleSide,map:z.load(w.textures[7]),color:new THREE.Color(16777215)}),(v=new THREE.Mesh(m,h)).geometry.center(),v.geometry.computeBoundingSphere(),v.name=c,v.position.set(p+70,u-100,f-100),v.rotation.set(4.8,0,0),v)),ia.add(x),x.name="nucleus__workmain-"+E,x.targetid=E,x.href=a.url,x.origData={x:x.position.x,y:x.position.y,z:x.position.z,rx:x.rotation.x,ry:x.rotation.y,rz:x.rotation.z,sx:x.scale.x,sy:x.scale.y,sz:x.scale.z},x.rotationSpeed=.006*Math.random(),x.position.set(y,g,T),x.rotation.set(1*Math.random(),0,1*Math.random());var b=new THREE.TetrahedronGeometry(2,0),_=z.load(a.cover);_.anisotropy=d.capabilities.getMaxAnisotropy(),_.generateMipmaps=!1,_.wrapS=_.wrapT=THREE.ClampToEdgeWrapping,_.minFilter=THREE.LinearFilter;var R=new THREE.MeshPhongMaterial({color:6710886,shininess:0,map:_,side:THREE.DoubleSide}),M=new THREE.Mesh(b,R);M.name="nucleus__workcover-"+E,M.visible=!1;var S=new THREE.Plane(new THREE.Vector3(0,0,1),0),H=new THREE.Vector2,C=new THREE.Vector3;H.set(1,1),pa.setFromCamera(H,t),pa.ray.intersectPlane(S,C),M.position.copy(C).add(new THREE.Vector3(10,-40,-80)),sa.add(M)})),i.add(sa),ia.position.y=2e3;var r=(G=ia.children[1]).getWorldPosition(new THREE.Vector3),l=sa.children[0].getWorldPosition(new THREE.Vector3),c=new THREE.LineBasicMaterial({color:14540253}),p=[];p.push(l),p.push(r);var u=(new THREE.BufferGeometry).setFromPoints(p);(k=new THREE.Line(u,c)).visible=!1,i.add(k);var f=[];f.push(new THREE.Vector3(l.x,l.y,l.z+40)),f.push(r);var m=(new THREE.BufferGeometry).setFromPoints(f);(N=new THREE.Line(m,c)).visible=!1,i.add(N);for(var h=a?30:120,v=0;v<h;v++){var E=Math.sin(5*v)*(1e3*pt(.2,2)),y=Math.cos(5*v)*(1e3*pt(.2,2)),g=Math.tan(5*v)*(200*pt(.2,1)),T=new THREE.TetrahedronGeometry(15,0),b=new THREE.MeshPhongMaterial({color:6710886,shininess:3,wireframe:!1,map:z.load(w.textures[6]),side:THREE.DoubleSide,fog:!1}),_=new THREE.Mesh(T,b);_.position.set(E,y,g),_.rotation.set(1*Math.random(),0,1*Math.random()),_.scale.setScalar(1*Math.random()),ia.add(_)}ta.add(ia)}))),100==y&&(TweenMax.to([c+" span",c+" strong"],1,{alpha:0,onComplete:function(){TweenMax.set(this.target,{css:{display:"none"}})}}),TweenMax.to(r,1,{scale:.1,x:16,y:16,fill:"#ffffff",ease:Power1.easeInOut}),TweenMax.to(la.scale,1.5,{x:.1,y:.1,z:.1,ease:Power3.easeInOut}),TweenMax.to(B.position,1,{y:-32,onComplete:function(){var a=P[3].color.getHSL(P[3]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){P[3].color.setHSL(a.h,a.s,a.l)}}),TweenMax.to(ta.position,.5,{x:0,y:-15,z:.8,onComplete:function(){var a=ct(ta,t,d.domElement.width,d.domElement.height);n.querySelector(f).style.top=a.position.y+40+"px",e(f).delay(500).queue("fx",(function(){e(this).addClass("is-active")})),e(m).addClass("scene-ready"),e(v).addClass("scene-ready"),TweenMax.to(v,1.2,{alpha:1,ease:Power2.easeOut})}}),TweenMax.to(ta.scale,1.5,{delay:1,x:.035,y:.035,z:.035,ease:Power2.easeOut}),(new TimelineMax).to(ta.rotation,1.5,{x:-3.2,y:0,z:0,onComplete:function(){TweenMax.to(f,1.2,{alpha:1,ease:Power2.easeOut}),e(f).off("click.ENTER").on("click.ENTER",(function(){var a,o;a=F.color.getHSL(F),o=V.color.getHSL(V),TweenMax.to(a,1.2,{h:0,s:0,l:0,onUpdate:function(){F.color.setHSL(a.h,a.s,a.l)},ease:Power2.easeIn}),TweenMax.to(o,1.2,{h:0,s:0,l:0,onUpdate:function(){V.color.setHSL(o.h,o.s,o.l)},ease:Power2.easeIn}),TweenMax.to(B.scale,1,{x:Fe,y:Fe,z:Fe,ease:Power2.easeIn,onComplete:function(){TweenMax.to(B.position,.5,{y:-se});var e=P[0].color.getHSL(P[0]);TweenMax.to(e,.5,{h:1,s:1,l:1,onUpdate:function(){P[0].color.setHSL(e.h,e.s,e.l)}});var a=P[2].color.getHSL(P[2]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){P[2].color.setHSL(a.h,a.s,a.l)}});var t=P[3].color.getHSL(P[3]);TweenMax.to(t,.5,{h:0,s:0,l:0,onUpdate:function(){P[3].color.setHSL(t.h,t.s,t.l)}})}}),e(m).removeClass("scene-ready").addClass("scene-start"),e(v).addClass("scene-start"),TweenMax.to(ta.rotation,1.2,{y:ta.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(na.rotation,1.2,{y:na.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(f,1.2,{alpha:0,onComplete:function(){var a;TweenMax.set(this.target,{css:{display:"none"}}),TweenMax.set(v,{css:{display:"none"}}),TweenMax.killAll(),function(){TweenMax.to(na.position,8,{delay:1,z:-3e3,onComplete:function(){ta.remove(na)}});var a=l.color.getHSL(l);TweenMax.to(a,3.5,{h:1,s:1,l:1,onUpdate:function(){l.color.setHSL(a.h,a.s,a.l)}}),Je=!0,!0;var t=5,o=3.2;TweenMax.to(la.scale,t,{x:.3,y:.3,z:.3,ease:CustomEase.create("custom","M0,0 C0,0 0.18896,-0.00276 0.30884,0.00136 0.36737,0.00338 0.40409,0.00477 0.45896,0.01577 0.50378,0.02476 0.53639,0.03458 0.5758,0.0549 0.61295,0.07407 0.64028,0.09366 0.66908,0.12417 0.70781,0.16517 0.73204,0.19964 0.76069,0.25068 0.80038,0.32141 0.82111,0.36969 0.85057,0.44758 0.88752,0.54527 0.90538,0.60421 0.93298,0.70622 0.96361,0.81946 1,1 1,1 ")}),TweenMax.to(la.position,4,{z:120,ease:Power1.easeIn}),TweenMax.to(la.scale,3.5,{z:40,ease:Power2.easeIn});var n={var:512};TweenMax.to(n,3,{var:0,onUpdate:function(){e(p).html("<em>"+Math.trunc(n.var)+"</em>")},onComplete:function(){TweenMax.to(p,.5,{alpha:0,onComplete:function(){e(p).closest(c).hide(),e(u).addClass("is-hide")}})},ease:Power2.easeOut});var i=[];Ea.forEach((function(e,a){i.push(e.position)})),TweenMax.to(i,t-1,{z:-100,delay:o+1,onComplete:function(){Ye=!0}});var s=[];ya.forEach((function(e,a){s.push(e.position)})),TweenMax.to(s,t,{z:-100,delay:o,ease:Power2.easeOut}),TweenMax.to(ta.scale,t,{x:ta.loadingData.sx,y:ta.loadingData.sy,z:ta.loadingData.sz,ease:Power2.easeIn}),TweenMax.to(ta.position,2.5,{y:-20}),TweenMax.to(ta.position,t,{x:0,y:110,z:-115,delay:o,ease:Power2.easeIn}),TweenMax.to(ta.rotation,t,{x:-3,y:-.8,z:0,delay:o,ease:Power2.easeOut,onComplete:function(){var a;ta.origData={x:ta.position.x,y:ta.position.y,z:ta.position.z,rx:ta.rotation.x,ry:ta.rotation.y,rz:ta.rotation.z,sx:ta.scale.x,sy:ta.scale.y,sz:ta.scale.z},Xe=!0,We=!0,a=[],Ea.forEach((function(e,t){a.push(e.scale)})),TweenMax.to(a,1.5,{x:function(e,a){return Ea[e].speed*Ea[e].origData.sx},y:function(e,a){return Ea[e].speed*Ea[e].origData.sy},z:function(e,a){return Ea[e].speed*Ea[e].origData.sz},repeat:-1,yoyo:!0}),e(".app-menu").addClass("is-active"),et(),tt(!1),at(!1,!0),ce.scale.setScalar(1),e(m).removeClass("scene-start").addClass("scene-end"),e(h).removeClass("scene-start").addClass("scene-end"),!0,Za()}})}(),a=new THREE.AudioListener,t.add(a),Ae=new THREE.Audio(a),(new THREE.AudioLoader).load(w.audios[0],(function(e){Ae.setBuffer(e),Ae.setLoop(!0),Ae.setVolume(.6),Ae.play()})),function(){for(var e=0;e<21;e++)Ha.push({initValue:THREE.Math.randFloat(-1,1),amplitude:THREE.Math.randFloat(1,3),speed:THREE.Math.randFloat(.5,2)});!function(e){var a=new THREE.PlaneGeometry(e-10,1,e-1,1);a.translate(0,.5,0),(ce=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:14540253,wireframe:!1,side:THREE.DoubleSide,transparent:!0,opacity:0}))).name="nucleus__audio-controller",i.add(ce);for(var o=new THREE.Geometry,n=0;n<ce.geometry.parameters.widthSegments+1;n++)o.vertices.push(a.vertices[n]);pe=new THREE.Line(o,new THREE.LineBasicMaterial({color:14540253,linewidth:4})),ce.add(pe);var s=new THREE.Plane(new THREE.Vector3(0,0,1),0),r=new THREE.Vector2,l=new THREE.Vector3;r.set(1,-1),pa.setFromCamera(r,t),pa.ray.intersectPlane(s,l),ce.position.copy(l).add(new THREE.Vector3(3,1,-10)),ce.scale.setScalar(.001)}(21)}(),qe=!0}})}))}}).to(ta.rotation,25,{y:ut(360),ease:Linear.easeNone,repeat:-1})}})),E--}),x,y)}))};o<100&&Ba.forEach((function(e){var a=n.createElement("video");a.src=e,a.addEventListener("loadedmetadata",(function(e){Fa++,console.log("videosTotal: "+Ua+", videosLoaded: "+Fa),console.log("videos loaded!"),Fa==Ua&&E()}),!1)}));Fa==Ua&&E()}(Wa)})),{init:function(){60,ae=O/A,1,1e4,(t=new THREE.PerspectiveCamera(60,ae,1,1e4)).position.set(0,0,100),t.lookAt(new THREE.Vector3(0,0,0));var e=30*Math.PI/180;se=(t.position.z+15)*Math.tan(e),ie=se*t.aspect,1e3,te=THREE.Math.degToRad(t.fov),oe=2*Math.tan(te/2)*1e3,ne=oe*t.aspect,(i=new THREE.Scene).fog=new THREE.Fog(ra,.0025,250),P[0]=new THREE.PointLight(0,5,0),P[0].position.set(0,200,50),i.add(P[0]),P[2]=new THREE.PointLight(0,10,0),P[2].position.set(100,200,-1100),i.add(P[2]);var a=ut(25);P[1]=new THREE.SpotLight(1797375,2,800,a,1,1),P[1].position.set(5,-5,130),P[1].castShadow=!0,P[1].shadow.mapSize.width=1024,P[1].shadow.mapSize.height=1024,P[1].shadow.camera.near=.5,P[1].shadow.camera.far=31,i.add(P[1]),P[3]=new THREE.PointLight(0,13,0),P[3].position.set(0,20,700),i.add(P[3]),P[3].origData={x:P[3].position.x,y:P[3].position.y,z:P[3].position.z},P[4]=new THREE.DirectionalLight(16777215,10),P[4].position.set(0,2e3,1e3),P[4].visible=!1,i.add(P[4]);var s=(new THREE.Color).setHSL(0,0,0);TweenMax.to(P[4].color,1,{r:s.r,g:s.g,b:s.b,onComplate:function(){P[4].visible=!0}}),(l=new THREE.PointLight(0,15,0)).position.set(0,0,600),i.add(l),l.origData={x:l.position.x,y:l.position.y,z:l.position.z},(B=new THREE.Mesh(new THREE.CircleGeometry(1e3,32),new THREE.MeshPhongMaterial({emissive:ra}))).receiveShadow=!0,B.position.set(0,-32,5),B.rotation.x=ut(-95),i.add(B),B.position.y=2*-se;var r=ut(35);(F=new THREE.SpotLight(16777215,2,200,r,1,1)).position.set(5,162,5),F.castShadow=!0,F.shadow.mapSize.width=1024,F.shadow.mapSize.height=1024,F.shadow.camera.near=.5,F.shadow.camera.far=31,i.add(F),V=new THREE.AmbientLight(16777215,.05),i.add(V),(d=new THREE.WebGLRenderer({canvas:n.getElementById(L),alpha:!0,antialias:!0})).setSize(O,A),d.shadowMap.enabled=!0,d.shadowMap.type=THREE.PCFSoftShadowMap,(J=new THREE.ShaderPass(THREE.HorizontalBlurShader)).enabled=!0,J.uniforms.h.value=.05,(Q=new THREE.ShaderPass(THREE.VerticalBlurShader)).enabled=!0,Q.uniforms.v.value=1/O,(q=new THREE.ShaderPass(THREE.BrightnessContrastShader)).enabled=!0,q.uniforms.contrast.value=1.2;var c,p,u,f,m,h=new THREE.RenderPass(i,t),v=new THREE.ShaderPass(THREE.CopyShader);v.renderToScreen=!0,(X=new THREE.EffectComposer(d)).addPass(h),X.addPass(J),X.addPass(Q),X.addPass(q),X.addPass(v),ot(),c=new THREE.SphereGeometry(60,60,60),p=new THREE.MeshBasicMaterial({color:2105376,map:z.load(w.textures[5]),side:THREE.DoubleSide}),(U=new THREE.Mesh(c,p)).position.set(0,200,-4e3),U.scale.setScalar(35),U.scale.x=80,U.scale.y=40,i.add(U),at(!0,!0),tt(!0),function(){re=new THREE.ShaderMaterial({uniforms:{time:{value:0},limits:{value:new THREE.Vector2(-400,Sa)},speed:{value:18}},vertexShader:T,fragmentShader:g,vertexColors:THREE.VertexColors});for(var e=[],a=0;a<=Ma;a++)e.push(1,1,0,0);(le=new THREE.GridHelper(800,Ma,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),le.material=re,i.add(le),le.position.set(0,60,-30),le.origData={x:le.position.x,y:le.position.y,z:le.position.z,rx:le.rotation.x,ry:le.rotation.y,rz:le.rotation.z,sx:le.scale.x,sy:le.scale.y,sz:le.scale.z},(de=new THREE.GridHelper(800,Ma,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),de.material=re,i.add(de),de.position.set(0,-60,-30),de.origData={x:de.position.x,y:de.position.y,z:de.position.z,rx:de.rotation.x,ry:de.rotation.y,rz:de.rotation.z,sx:de.scale.x,sy:de.scale.y,sz:de.scale.z},le.position.z=3*oe,de.position.z=3*oe,le.scale.x=Fe,de.scale.x=Fe}(),u=new THREE.BoxGeometry(1.5,1.5,1.5,0,0),f=new THREE.MeshPhongMaterial({flatShading:!0,transparent:!0,color:255}),m=function(e){for(var a=[],t=[],o=400,n=o,i=0;i<o;i++){a[i]=new THREE.Mesh(u,f),a[i].position.y=60,a[i].scale.set(1*Math.random(),1*Math.random(),1*Math.random()),t[i]=new THREE.Object3D,t[i].add(a[i]),t[i].rotation.z=i*(360/n)*Math.PI/180;var s=155*Math.random(),r=Math.random();t[i].position.z=s,t[i].speed=r,t[i].origData={x:t[i].position.x,y:t[i].position.y,z:t[i].position.z,rx:t[i].rotation.x,ry:t[i].rotation.y,rz:t[i].rotation.z,sx:t[i].scale.x,sy:t[i].scale.y,sz:t[i].scale.z},da.push(t[i]),e.add(t[i])}},W=new THREE.Object3D,m(W),(Y=new THREE.Object3D).add(W),Y.rotation.z=360*Math.PI/180,la.add(Y),i.add(la),la.scale.setScalar(.08),nt("sphere",15,"ball-fly"),nt("sphere",80,"ball-pinprick"),nt("sphere",3,"ball-nav"),Re=new THREE.Object3D,Me=new THREE.Object3D,I.load(w.fonts[2],(function(e){var a,t,o=new THREE.Color(16777215);Oe={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Se={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},He={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Ce={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var n=new THREE.ShaderMaterial({uniforms:Oe,vertexShader:_,fragmentShader:b,transparent:!0}),s=new THREE.ShaderMaterial({uniforms:Se,vertexShader:_,fragmentShader:b,transparent:!0}),r=new THREE.ShaderMaterial({uniforms:He,vertexShader:_,fragmentShader:b,transparent:!0}),l=new THREE.ShaderMaterial({uniforms:Ce,vertexShader:_,fragmentShader:b,transparent:!0}),d=function(d,c,p){var u=d,f=11,m=e.generateShapes(u,f),h=new THREE.ShapeBufferGeometry(m);h.computeBoundingBox(),a=-.5*(h.boundingBox.max.x-h.boundingBox.min.x),h.translate(a,0,0),"work"==p&&(t=new THREE.Mesh(h,s)),"about"==p&&(t=new THREE.Mesh(h,r)),"contact"==p&&(t=new THREE.Mesh(h,l)),t.position.z=0,t.position.y=1.7*f*c,t.name="nucleus__menu-"+p,Re.add(t),Re.position.z=-50,Re.scale.setScalar(1.35),i.add(Re);for(var v=[],E=0;E<m.length;E++){var x=m[E];if(x.holes&&x.holes.length>0)for(var y=0;y<x.holes.length;y++){var w=x.holes[y];v.push(w)}}m.push.apply(m,v);for(var g=THREE.SVGLoader.getStrokeStyle(.4,o.getStyle()),T=new THREE.Group,b=0;b<m.length;b++){var _=m[b].getPoints(),R=THREE.SVGLoader.pointsToStroke(_,g);R.translate(a,0,0);var M=new THREE.Mesh(R,n);T.add(M)}T.position.y=1.7*f*c,T.name="nucleus__menustroke-"+p,Me.add(T),Me.position.z=-50,Me.scale.setScalar(1.35),i.add(Me)};d("PROJECTS",1,"work"),d("ABOUT",0,"about"),d("CONTACT",-1,"contact")})),function(){var e=new THREE.CircleGeometry(64,64,64);ue=function(a,t,o){var s=n.createElement("video");s.src=a;var r=new THREE.VideoTexture(s);r.minFilter=THREE.LinearFilter,r.magFilter=THREE.LinearFilter,r.format=THREE.RGBFormat,r.image.autoplay=!0,r.image.loop=!0,r.image.currentTime=0,r.image.muted=!0,r.image.play(),fe={uTexture:{value:r},uOffset:{value:new THREE.Vector2(-2,-1.3)},uAlpha:{value:0}};for(var l=new THREE.ShaderMaterial({uniforms:fe,vertexShader:_,fragmentShader:b,transparent:!0}),d=new THREE.Mesh(e,l),c=0;c<60;c++){var p=200+5*Math.sin(c);d.geometry.faces[c].color=new THREE.Color("hsl("+Math.abs(p)+", 100%, 50%)")}return i.add(d),d.scale.setScalar(t),d}(Ba[0],30);var a=new THREE.IcosahedronGeometry(1.2,1),t=new THREE.ShaderMaterial({uniforms:fe,vertexShader:_,fragmentShader:b,transparent:!0,wireframe:!0,side:THREE.DoubleSide});me=new THREE.Mesh(a,t),ue.add(me)}(),function(){ye=new THREE.Object3D;for(var e=function(e,a){var t=16/9,o=new THREE.BoxGeometry(20*t,20,1),n=z.load(e);n.anisotropy=d.capabilities.getMaxAnisotropy(),n.generateMipmaps=!1,n.wrapS=n.wrapT=THREE.ClampToEdgeWrapping,n.minFilter=THREE.LinearFilter;var i=new THREE.MeshBasicMaterial({map:n,side:THREE.DoubleSide}),s=new THREE.Mesh(o,i);s.name="obj-"+a;var r=0,l=se*a,c=0,p=new THREE.Vector3(r,l,c);return s.pos=p,s.position.copy(p),s},a=0;a<w.workTextures.length;a++){var t=e(w.workTextures[a],a);ye.add(t),i.add(ye),ye.scale.setScalar(Fe),ye.origData={x:ye.rotation.x,y:ye.rotation.y,z:ye.rotation.z,rx:ye.rotation.x,ry:ye.rotation.y,rz:ye.rotation.z,sx:ye.scale.x,sy:ye.scale.y,sz:ye.scale.z}}_e=it(0,0,0,1.5,0,0,10),i.add(_e),_e.scale.setScalar(Fe),Te={uTexture:{value:z.load(w.textures[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var o=new THREE.PlaneGeometry(4*ie,3*se,32),n=new THREE.ShaderMaterial({uniforms:Te,vertexShader:_,fragmentShader:b,transparent:!0});we=new THREE.Mesh(o,n),i.add(we),be={uTexture:{value:z.load(w.textures[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var s=new THREE.PlaneGeometry(2*ie,2*se,32),r=new THREE.ShaderMaterial({uniforms:be,vertexShader:_,fragmentShader:b,transparent:!0});(ge=new THREE.Mesh(s,r)).position.z=50,i.add(ge)}(),function(){var e=Ea[0].origData,a=e.z+70;Le=e.y;for(var t=new THREE.TetrahedronGeometry(1.5,0),o=new THREE.MeshStandardMaterial({color:1797375,roughness:.4,metalness:1,map:z.load(w.textures[3]),side:THREE.DoubleSide}),n=0;n<50;n++){var s=e.x+pt(ie/2,ie),r=Le+se/2+Math.random()*se/2,l=a-100+50*Math.random(),d=Math.random(),c=new THREE.Mesh(t,o);c.position.set(s,r,l),c.position.multiplyScalar(1*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.name="nucleus__tetrahedron-particles-"+n,c.speed=d,c.origData={x:c.position.x,y:c.position.y,z:c.position.z,rx:c.rotation.x,ry:c.rotation.y,rz:c.rotation.z,sx:c.scale.x,sy:c.scale.y,sz:c.scale.z},Oa.add(c),i.add(Oa)}var p=[];Oa.children.forEach((function(e,a){p.push(e.position)})),TweenMax.set(p,{y:"-="+3*se})}(),o.addEventListener("resize",Xa,!1),n.getElementById(L).addEventListener("pointermove",Ja,!1),n.getElementById(L).addEventListener("pointerdown",Qa,!1),n.getElementById(L).addEventListener("pointerup",qa,!1),o.addEventListener("pointermove",Ka),o.addEventListener("pointerup",$a)},render:function a(){requestAnimationFrame(a);var n=Ue.getDelta();Be+=n,d.setClearColor(ra);var s,r,l=2*Pe/o.innerWidth;if(o.innerHeight,(Ie=.002*Pe)<-.1&&(Ie=-.1),Ie>.1&&(Ie=.1),(ke=.002*De)>.3&&(ke=.3),ke<-.3&&(ke=-.3),Ne+=.01*(Ie-Ne),Ge+=.01*(ke-Ge),Math.sin(3.5*Ne),Math.cos(3.5*Ne),Ra.uniforms.time.value+=1.5*n,re.uniforms.time.value=Be,3==Re.children.length&&3==Me.children.length&&(Re.children[0].rotation.y=.2*l,Me.children[0].rotation.y=.2*l,Re.children[1].rotation.y=.3*-l,Me.children[1].rotation.y=.3*-l,Re.children[2].rotation.y=.4*l,Me.children[2].rotation.y=.4*l),We&&(ta.rotation.y+=Ie*n*.5),oa.rotation.y+=n*pt(.03,.8),na.rotation.y+=-.21*n,fa&&(Ea[0].rotation.y+=n*pt(.3,.8),Ea[0].rotation.x+=n*pt(.5,1.4),Ea[1].rotation.y+=n*pt(1,2.5),Ea[1].rotation.x+=n*pt(.5,.9),Ea[2].rotation.y+=n*pt(.2,.6),Ea[2].rotation.x+=n*pt(.5,.8)),me&&(me.rotation.x+=.2*n,me.rotation.y+=.1*n),U&&(U.rotation.x+=5e-4),ue&&(ue.geometry.vertices.forEach((function(e,a){e.normalize().multiplyScalar(.15*Ve.noise3D(.4*e.x+1e-4*Date.now(),.4*e.y,.4*e.z)+1)})),ue.geometry.computeVertexNormals(),ue.geometry.normalsNeedUpdate=!0,ue.geometry.verticesNeedUpdate=!0),ye&&ye.children.forEach((function(e,a){e.rotation.y+=.5*n,e.rotation.x+=.3*n})),k){var c=G.getWorldPosition(new THREE.Vector3),p=k.geometry.attributes.position.array;ft(k,[p[0],p[1],p[2],c.x,c.y,c.z]);var u=N.geometry.attributes.position.array;ft(N,[u[0],u[1],u[2],c.x,c.y,c.z])}if(sa&&sa.children.forEach((function(e){e.rotation.y+=.005})),ia.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workmain-")&&(e.rotation.x+=e.rotationSpeed)})),ia.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__worktitle-")&&(e.rotation.y+=aa?.01:.001)})),ia.rotation.z+=aa?.01:.001,(Z=pa.intersectObjects(ia.children,!0)).length>0){if(ee!=Z[0].object&&!Z[0].object.name.includes("nucleus__worktitle-")){var f=Z[0].object.parent.parent.parent.parent;if(null!==f){console.log("onPointerMove: ",f.name),ee=Z[0].object,TweenMax.to(f.scale,.3,{x:180,y:180,z:180}),H.addClass("is-hover");var m=i.getObjectByName("nucleus__workcover-"+f.targetid);sa.children.forEach((function(e){e.visible=!1})),m.visible=!0,G=f,k.visible=!0,N.visible=!0}}}else{if(ee){var h=ee.parent.parent.parent.parent;null!==h&&(TweenMax.to(h.scale,.3,{x:h.origData.sx,y:h.origData.sy,z:h.origData.sz}),H.removeClass("is-hover"),sa.children.forEach((function(e){e.visible=!1})),k.visible=!1,N.visible=!1)}ee=null}if(qe&&(Ha.forEach((function(e,a){ce.geometry.vertices[a].y=2.5+Math.sin((Be+e.initValue)*e.speed)*e.amplitude})),ce.geometry.verticesNeedUpdate=!0,pe.geometry.verticesNeedUpdate=!0),Je?ya.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-ie-80&&(e.position.x=ie/2)})):ya.forEach((function(e,a){e.rotation.y+=.001})),wa.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-ie-80&&(e.position.x=ie/2)})),da.forEach((function(e,a){e.rotation.z+=.2*e.speed*n})),$e&&Oa.children.forEach((function(e,a){e.rotation.x+=.01,e.rotation.y+=.02,e.position.y+=-3*e.speed*.2,e.position.y<-Le-80&&(e.position.y=Le+se/2)})),pa.setFromCamera(ca,t),ua=Ea.concat(Re.children).concat(Me.children),Ha.length>0&&(ua=ua.concat(ce)),(K=pa.intersectObjects(ua)).length>0){if($!=K[0].object&&Ye){if($=K[0].object,H.addClass("is-hover"),$.name.indexOf("nucleus__menuball-")>=0)switch($&&$.material.emissive.setHex($.currentHex),$.currentHex=$.material.emissive.getHex(),$.material.emissive.setHex(16711680),$.material.wireframe=!0,$.name){case"nucleus__menuball-0":s=[],r=[],ya.forEach((function(e,a){s.push(e.position),r.push(e.scale)})),Ta.classList.add("is-hover"),TweenMax.to(xa[0].scale,.2,{x:3,y:3,z:3});break;case"nucleus__menuball-1":!function(){var e=[],a=[];ya.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),ba.classList.add("is-hover"),TweenMax.to(xa[1].scale,.2,{x:2,y:2,z:2})}();break;case"nucleus__menuball-2":!function(){var e=[],a=[];ya.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),_a.classList.add("is-hover"),TweenMax.to(xa[2].scale,.2,{x:2,y:2,z:2})}()}$.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&(e(".app-menu__wrapper").hasClass("has-clicked-item")||e(".app-topnav__wrapper").hasClass("scene-start"))&&("nucleus__menu-work"==$.name&&TweenMax.to(Se.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-about"==$.name&&TweenMax.to(He.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-contact"==$.name&&TweenMax.to(Ce.uAlpha,.5,{value:1,ease:Power2.easeOut})),$.name.indexOf("nucleus__menu-")>=0&&(e("body").hasClass("primarymenu-active")||!e(".app-topnav__wrapper").hasClass("scene-start"))&&H.removeClass("is-hover")}}else $&&(H.removeClass("is-hover"),$.name.indexOf("nucleus__menuball-")>=0&&($.material.emissive.setHex($.currentHex),$.material.wireframe=!1),$.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&(e(".app-menu__wrapper").hasClass("has-clicked-item")||e(".app-topnav__wrapper").hasClass("scene-start"))&&("nucleus__menu-work"==$.name&&TweenMax.to(Se.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-about"==$.name&&TweenMax.to(He.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-contact"==$.name&&TweenMax.to(Ce.uAlpha,.5,{value:0,ease:Power2.easeOut})),Ta.classList.remove("is-hover"),ba.classList.remove("is-hover"),_a.classList.remove("is-hover"),TweenMax.to([xa[0].scale,xa[1].scale,xa[2].scale],.2,{x:1.5,y:1.5,z:1.5})),$=null;X.render()},getRendererCanvasID:function(){return L},getScene:function(){return i},getCamera:function(){return t}}}();O.init(),O.render()},e.MAIN.pageLoaded=function(){},e.components.documentReady.push(e.MAIN.documentReady),e.components.pageLoaded.push(e.MAIN.pageLoaded))}(n,jQuery,window,document);function O(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,a,t){return a&&O(e.prototype,a),t&&O(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}!function(e,a,t,o){null!==t.AJAX_PUSH_CONTENT&&(e.AJAX_PUSH_CONTENT=e.AJAX_PUSH_CONTENT||{},e.AJAX_PUSH_CONTENT.version="0.1.0custom",e.AJAX_PUSH_CONTENT.documentReady=function(e){var a,n="[data-ajax-push-content],[data-primary-pagination],[data-cat-id],[data-tag-id],[data-archive-id],[data-author-id],[data-temp-id],[data-id],[data-homepage]",s=[],r={container:"#app-ajax-popwin-page-container",target:"#app-ajax-page-container",loading:'<div class="my-loader"><span class="app-loader-spinner"></span></div>',method:"GET"},l=(o.title,t.location.href),d=0;TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var c=function(e){console.log("detail progress: "+e)},p=function(e){e()},u=function(e){"hide"==e&&(TweenMax.to(".app-detail-transitionMask",.3,{delay:1,css:{opacity:0,display:"none"}}),TweenMax.to(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],.5,{opacity:1})),"show"==e&&TweenMax.to(".app-detail-transitionMask",.3,{css:{opacity:1,display:"block"}})};function f(o,n,r,l,p,f,m,h){if(0==o.length)return!1;"undefined"!==L(p)&&""!=p||(p="POST"),e.ajax({timeout:15e3,url:l,method:p,dataType:"html",data:{action:"load_singlepages_ajax_content"},beforeSend:function(){e("body, .uix-menu-mobile__toggle").removeClass("js-uix-menu-opened is-opened"),c(0),u("show"),(m||h)&&e("#app-loading").removeClass("is-active"),m&&(e("#app-ajax-popwin-page-mask").addClass("is-active"),e("#app-ajax-popwin-page-mask--list").hasClass("is-active")&&e("#app-ajax-popwin-page-mask--list").removeClass("is-active")),h&&e("#app-ajax-popwin-page-mask--list").addClass("is-active"),m||h||(e("#app-loader-mask--in").addClass("is-active"),setTimeout((function(){e("#app-loader-mask").hasClass("is-active")&&(e("#app-loader-mask, #app-loading").removeClass("is-active"),e("#app-loader-mask").css({opacity:1,display:"block"}))}),1e3))}}).done((function(r){var l,p=n?e(r).find(n).html():"";s=[],e(r).find("img").each((function(){s.push({url:this.src,id:"img-"+i.create(),type:"img"})})),e(r).find(".uix-video__slider > video").each((function(){var a=e(this).find("source:first").attr("src");"undefined"===L(a)&&(e(this).attr("src"),function(e){throw new TypeError('"'+e+'" is read-only')}("_src")),s.push({url:a,id:"video-"+i.create(),type:"video"})}));var v=1;0==s.length?(c(l=100),u("hide")):(c(0),u("hide"));var E=function(e){e.url,e.w,e.h;l=parseInt(v/s.length*100),console.log("progress: "+l+"%"),isNaN(l)&&(l=100),d=l,c(l),u("hide");return v++,l},x=function(){!function(a,t,o,n,i,s){if(console.log("loadedProgress: "+d),d<100)return!1;var r=function(){i||s||e("#app-loader-mask").hasClass("is-active")||e("#app-loader-mask").addClass("is-active"),e("#app-loading").hasClass("is-active")||e("#app-loading").addClass("is-active"),i&&(e("#app-ajax-popwin-page-container, .app-close-btn__wrapper").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").addClass("is-loaded")),s&&(e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").addClass("is-loaded")),a.html(t).promise().done((function(){e("#app-ajax-popwin-page-container").addClass("app-none-bg").find("#uix-maincontent").addClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").addClass("app-none-bg"),n&&n.data("request-running",!1)}))};i||s?r():TweenMax.set("#app-loader-mask--in",{delay:2,css:{opacity:0,display:"none"},onComplete:function(){e(this.target).removeClass("is-active").css({opacity:1,display:"block"}),r()}})}(o,p,e(r).filter("title").text(),f,m,h)};(function(){for(var a=[],t=function(t){"img"==s[t].type?a.push(new Promise((function(e,a){var o=new Image;o.crossOrigin="anonymous",o.src=s[t].url,o.onload=function(a){return"undefined"===L(a.path)?e({w:0,h:0,url:a.target.currentSrc}):e({w:a.path[0].naturalWidth,h:a.path[0].naturalHeight,url:a.path[0].currentSrc})}})).then(E)):a.push(new Promise((function(a,o){return e("#"+s[t].id).one("loadedmetadata",a),a({url:s[t].url})})).then(E))},o=0;o<s.length;o++)t(o);return Promise.all(a)})().then((function(e){clearInterval(a),x()}));var y=(new Date).getTime();a&&clearInterval(a),a=setInterval((function(){((new Date).getTime()-y)/1e3>=10&&(console.log("Page load timeout!"),htmlCode.indexOf("<body")>=0?t.location.href=location.href:u("hide"),clearInterval(a),x())}),500)})).fail((function(e,a,o){t.location.href=l}))}e(o).off("click.AJAX_PUSH_CONTENT").on("click.AJAX_PUSH_CONTENT",n,(function(a){a.preventDefault(),setTimeout((function(){}),500),TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var t=e(this),o=t.attr("href"),n=t.data("ajax-push-content"),i=!!e(this).hasClass("app-popwin"),s=!!e(this).hasClass("app-popwin--list");if(d=0,"undefined"==L(n)&&(n=r),"undefined"===L(o)&&(o=t.closest("a").attr("href")),!t.data("request-running"))return t.data("request-running",!0),history.pushState?history.pushState(null,null,o):location.hash=o,f(e(n.container),n.target,n.loading,o,n.method,t,i,s),!1})),t.addEventListener("popstate",(function(a){var t=null,o=location.href;e(n).each((function(){this.href===location.href&&(t=this,o=this.href)})),null==t&&e(n).each((function(){var a=e(this).data("ajax-push-content");"undefined"!=L(a)&&p((function(){e(a.container).html(""),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").removeClass("is-loaded")}))}));var i=e(t).data("ajax-push-content"),s=!!e(t).hasClass("app-popwin"),r=!!e(t).hasClass("app-popwin--list");"undefined"!=L(i)&&f(e(i.container),i.target,i.loading,o,i.method,e(t),s,r)})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN",".app-close-btn__wrapper.is-loaded",(function(){var a=e(this);p((function(){var t;a.prev("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").prev("#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST",".app-close-btn__wrapper--list.is-loaded",(function(){var a=e(this);p((function(){a.prev("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container--list").prev("#app-ajax-popwin-page-mask--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER","#app-ajax-popwin-page-mask.is-loaded",(function(){var a=e(this);p((function(){var t;a.next("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").next(".app-close-btn__wrapper").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER","#app-ajax-popwin-page-mask--list.is-loaded",(function(){var a=e(this);p((function(){a.next("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container--list").next(".app-close-btn__wrapper--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))}))},e.components.documentReady.push(e.AJAX_PUSH_CONTENT.documentReady))}(n,jQuery,window,document)})()})();
//# sourceMappingURL=js/uix-kit.min.js.map