/*! For license information please see uix-kit.min.js.LICENSE.txt */
(()=>{var e={925:()=>{!function(e){"use strict";e.fn.UixParallax=function(a){var t=e.extend({speed:.25,transition:"all 0.4s cubic-bezier(0, 0, 0.34, 0.96) 0s",bg:{enable:!0,xPos:"50%"}},a);this.each((function(){var a=t.bg,o=e(this),n="50%",i=-parseFloat(t.speed);a&&(a=t.bg.enable,n=t.bg.xPos),o.css({transition:"none"}),e(window).on("scroll.UixParallax touchmove.UixParallax",(function(e){var s;s=o[0].getBoundingClientRect().top,a?TweenMax.set(o,{css:{"background-position":n+" "+(0-s*i)+"px",transition:t.transition}}):TweenMax.set(o,{css:{transform:"matrix(1, 0, 0, 1, 0, "+(0-s*i)+")",transition:t.transition}})})),a?TweenMax.set(o,{backgroundPosition:n+" "+-o.offset().top*i+"px"}):TweenMax.set(o,{y:0})}))}}(jQuery)}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var i=a[o]={exports:{}};return e[o](i,i.exports,t),i.exports}(()=>{"use strict";function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}"undefined"==typeof APP_ROOTPATH?("",""):(APP_ROOTPATH.templateUrl.replace(/\/\s*$/,""),APP_ROOTPATH.homeUrl.replace(/\/\s*$/,""),APP_ROOTPATH.ajaxUrl.replace(/\/\s*$/,""));try{document.addEventListener("test",null,{get passive(){!0}})}catch(e){}var a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=/(android)/i.test(navigator.userAgent),n=(navigator.userAgent.match(/(iPhone|iPod|Android|ios|Mobile)/i),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),!!window.ActiveXObject||window,function(a,t,o){var n={},i={documentReady:[],pageLoaded:[]};function s(t){t="undefined"==e(t)?a:t,i.documentReady.forEach((function(e){e(t)}))}function r(t){t="object"==e(t)?a:t,i.pageLoaded.forEach((function(e){e(t)}))}return 0==a("img").length&&a("body").prepend('<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" style="display:none">'),a.isFunction(a.fn.waitForImages)?a("body").waitForImages(r):a(t).on("load",r),a(o).ready(s),n.setContext=function(t){var o=a;return"undefined"!==e(t)?function(e){return a(t).find(e)}:o},n.components=i,n.documentReady=s,n.pageLoaded=r,n}($,window,document)),i=i||function(){function e(){}return e.version="0.0.1",e.create=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0;return("x"==e?a:3&a|8).toString(16)}))},e}(),s=s||function(){function e(){}return e.version="0.0.1",e.evaluate=function(e){var a=e.replace(/\s/g,"").split(""),t=[],o=[],n=0,i=!0;t[n]="";for(var s=0;s<a.length;s++)isNaN(parseInt(a[s]))&&"."!==a[s]&&!i?(o[n]=a[s],t[++n]="",i=!0):(t[n]+=a[s],i=!1);e=parseFloat(t[0]);for(var r=0;r<o.length;r++){var l=parseFloat(t[r+1]);switch(o[r]){case"+":e+=l;break;case"-":e-=l;break;case"*":e*=l;break;case"/":e/=l}}return e},e}(),r=r||function(){function a(){}return a.version="0.0.1",a.getTransitionDuration=function(a){if("undefined"===e(a))return 0;var t=window.getComputedStyle(a),o=t.webkitTransitionDuration,n=t.webkitTransitionDelay;return"undefined"!=e(o)?(o=o.indexOf("ms")>-1?parseFloat(o):1e3*parseFloat(o),n=n.indexOf("ms")>-1?parseFloat(n):1e3*parseFloat(n),o):0},a.getAbsoluteCoordinates=function(e){var a=window.innerWidth,t=null,o=null;return document.getElementsByTagName("body")[0].className.match(/rtl/)?(t=0==e.offsetLeft?a-(e.parentElement.offsetLeft+e.parentElement.offsetWidth):a-(e.offsetLeft+e.offsetWidth),o=0==e.offsetTop?a-(e.parentElement.offsetTop+e.parentElement.offsetHeight):a-(e.offsetTop+e.offsetHeight)):(t=0==e.offsetLeft?e.parentElement.offsetLeft:e.offsetLeft,o=0==e.offsetTop?e.parentElement.offsetTop:e.offsetTop),{left:t,top:o}},a}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,a,t){return a&&d(e.prototype,a),t&&d(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.fn.UixModuleFilter=function(a){var t=e.extend({destroy:!1,add:{moduleName:"OLD_MODULE_NAME",pageLoaded:!1,version:"0.0.1",callback:function(){}}},a);this.each((function(){if(t.destroy&&"[object String]"==Object.prototype.toString.call(t.destroy)){var a=t.destroy;"undefined"!=l(n[a])&&delete n[a]}if(t.add&&"[object Object]"==Object.prototype.toString.call(t.add)&&t.add.hasOwnProperty("pageLoaded")){var o=t.add.moduleName;if("undefined"!=l(n[o]))console.log("The module already exists, please destroy the old module or change the new module name.");else{if(!t.add.pageLoaded||0==t.add.pageLoaded){var i=(r=n,jQuery,window,document,r[o]=r[o]||{},r[o].version=t.add.version,r[o].documentReady=function(e){t.add.callback()},r.components.documentReady.push(r[o].documentReady),i);n[o].documentReady(e)}if(t.add.pageLoaded||1==t.add.pageLoaded){var s=function(e,a,n,i){return e[o]=e[o]||{},e[o].version=t.add.version,e[o].pageLoaded=function(){t.add.callback()},e.components.pageLoaded.push(e[o].pageLoaded),s}(n,jQuery,window,document);n[o].pageLoaded()}}}var r}))}}(jQuery),function(e){e.fn.UixApplyAsyncScripts=function(a){var t=e.extend({scrollReveal:!0,ajaxPostList:!0,ajaxDDList:!0,counterAnim:!0,lightBox:!0},a);this.each((function(){n.MAIN&&n.MAIN.pageLoaded(),n.COMMON_HEIGHT&&n.COMMON_HEIGHT.pageLoaded(),n.ADVANCED_SLIDER&&n.ADVANCED_SLIDER.pageLoaded(),n.ADVANCED_SLIDER_FILTER&&n.ADVANCED_SLIDER_FILTER.pageLoaded(),n.FULL_WIDTH_COLUMN_TO_EDGE&&n.FULL_WIDTH_COLUMN_TO_EDGE.pageLoaded(),n.STICKY_EL&&n.STICKY_EL.pageLoaded(),n.TEXT_EFFECT&&n.TEXT_EFFECT.pageLoaded(),n.TIMELINE&&n.TIMELINE.pageLoaded(),n.HYBRID_CONTENT_SLIDER&&n.HYBRID_CONTENT_SLIDER.pageLoaded(),n.MAIN&&n.MAIN.documentReady(e),n.TABLE&&n.TABLE.documentReady(e),n.TABLE_SORTER&&n.TABLE_SORTER.documentReady(e),n.MODAL_DIALOG&&n.MODAL_DIALOG.documentReady(e),n.PARALLAX&&n.PARALLAX.documentReady(e),n.VIDEOS&&n.VIDEOS.documentReady(e),n.BODY_AND_HEADER&&n.BODY_AND_HEADER.documentReady(e),n.SET_BG&&n.SET_BG.documentReady(e),n.GET_CUSTOM_ATTRS&&n.GET_CUSTOM_ATTRS.documentReady(e),n.PAGINATION&&n.PAGINATION.documentReady(e),n.FORM&&n.FORM.documentReady(e),n.FLEXSLIDER&&n.FLEXSLIDER.documentReady(e),n.RETINA&&n.RETINA.documentReady(e),n.SHOW_MORELESS&&n.SHOW_MORELESS.documentReady(e),n.DROPDOWN_MENU&&n.DROPDOWN_MENU.documentReady(e),n.DROPDOWN_MENU2&&n.DROPDOWN_MENU2.documentReady(e),n.ACCORDION&&n.ACCORDION.documentReady(e),n.GALLERY&&n.GALLERY.documentReady(e),n.IMAGE_SHAPES&&n.IMAGE_SHAPES.documentReady(e),n.PERIODICAL_SCROLL&&n.PERIODICAL_SCROLL.documentReady(e),n.PRICING&&n.PRICING.documentReady(e),n.PROGRESS_BAR&&n.PROGRESS_BAR.documentReady(e),n.PROGRESS_LINE&&n.PROGRESS_LINE.documentReady(e),n.ROTATING_EL&&n.ROTATING_EL.documentReady(e),n.SMOOTH_SCROLLING_ANCHORLINK&&n.SMOOTH_SCROLLING_ANCHORLINK.documentReady(e),n.TABS&&n.TABS.documentReady(e),n.TEAM_FOCUS&&n.TEAM_FOCUS.documentReady(e),n.LAVA_LAMP_STYLE_MENU&&n.LAVA_LAMP_STYLE_MENU.documentReady(e),n.CIRCLE_LAYOUT&&n.CIRCLE_LAYOUT.documentReady(e),n.MULTI_ITEMS_CAROUSEL&&n.MULTI_ITEMS_CAROUSEL.documentReady(e),n.THREE_BACKGROUND&&n.THREE_BACKGROUND.documentReady(e),n.THREE_CAROUSEL&&n.THREE_CAROUSEL.documentReady(e),n.THREE_LIQUID_SCROLLSPY_SLIDER&&n.THREE_LIQUID_SCROLLSPY_SLIDER.documentReady(e),t.scrollReveal&&n.SCROLL_REVEAL&&n.SCROLL_REVEAL.documentReady(e),t.ajaxPostList&&n.POST_LIST_AJAX&&n.POST_LIST_AJAX.documentReady(e),t.ajaxDDList&&n.DYNAMIC_DD_LIST&&n.DYNAMIC_DD_LIST.documentReady(e),t.counterAnim&&n.COUNTER&&n.COUNTER.documentReady(e),t.lightBox&&n.LIGHTBOX&&n.LIGHTBOX.pageLoaded(),e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery),function(e){e.fn.UixApplyAsyncAllScripts=function(a){var t=e.extend({runAll:!0},a);this.each((function(){var a=n.components.pageLoaded,o=n.components.documentReady;if(t.runAll){for(var i=0;i<a.length;i++)a[i]();for(var s=0;s<o.length;s++)o[s](e)}e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery);!function(e,a,t,o){null!==t.BODY_AND_HEADER&&(e.BODY_AND_HEADER=e.BODY_AND_HEADER||{},e.BODY_AND_HEADER.version="0.0.7",e.BODY_AND_HEADER.documentReady=function(e){if(e("body").hasClass("onepage"))return!1;var a=e(t),o=t.innerWidth;t.innerHeight;function n(a){var t=e(".uix-header__placeholder.js-uix-header__placeholder-autoheight");a>768?(t.css("height",e(".uix-header__container").outerHeight(!0)+"px"),e("body").removeClass("is-mobile")):(t.css("height",0),e("body").addClass("is-mobile"))}n(o),a.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}));var i=e(".uix-header__container, .uix-header__placeholder");a.off("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER").on("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER",(function(){e(this).scrollTop()>=220?i.addClass("is-fixed"):i.removeClass("is-fixed")}))},e.components.documentReady.push(e.BODY_AND_HEADER.documentReady))}(n,jQuery,window,document);function p(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,a,t){return a&&p(e.prototype,a),t&&p(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e,a,t,o){null!==t.COMMON_HEIGHT&&(e.COMMON_HEIGHT=e.COMMON_HEIGHT||{},e.COMMON_HEIGHT.version="0.0.3",e.COMMON_HEIGHT.pageLoaded=function(){var e=a(t),o=t.innerWidth;t.innerHeight;function n(e){a(".js-uix-common-height").each((function(){var t=a(this),o="[class*=col-], [class*=uix-core-grid__col-]",n=0;t.children(o).each((function(){var e=a(this);e.find("img").each((function(){"inline"==a(this).parent("a").css("display")&&a(this).parent("a").css("display","inline-block")})),(e.hasClass("max-height")||e.height()>n)&&(n=e.outerHeight())})),e>768?t.children(o).each((function(){a(this).css("height",n)})):t.children(o).each((function(){a(this).css("height","auto")}))}))}n(o),e.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}))},e.components.pageLoaded.push(e.COMMON_HEIGHT.pageLoaded))}(n,jQuery,window,document);function f(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,a,t){return a&&f(e.prototype,a),t&&f(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(e,a,t,o){null!==t.GET_CUSTOM_ATTRS&&(e.GET_CUSTOM_ATTRS=e.GET_CUSTOM_ATTRS||{},e.GET_CUSTOM_ATTRS.version="0.0.1",e.GET_CUSTOM_ATTRS.documentReady=function(e){e("[data-my-custom-datas]").each((function(){var a=e(this).attr(),t="";e.each(a,(function(e,a){e.indexOf("data-custom-field-")>=0&&(t+='"'+e.replace("data-custom-field-","")+'": "'+a+'", ')})),t=t.replace(/,\s*$/,"")}))},e.components.documentReady.push(e.GET_CUSTOM_ATTRS.documentReady))})(n,jQuery,window,document),t(925);function h(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,a,t){return a&&h(e.prototype,a),t&&h(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}!function(e,a,t,o){null!==t.SET_BG&&(e.SET_BG=e.SET_BG||{},e.SET_BG.version="0.0.6",e.SET_BG.documentReady=function(e){var a=e(t),o=t.innerWidth,n=t.innerHeight;function i(a,t){e("[data-bg]").each((function(){var a=e(this),t=a.data("bg");if("undefined"===E(t)&&(t={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",position:"top left",size:"cover",repeat:"no-repeat",fill:!1,parallax:0,transition:"none 0s ease 0s",move:!1}),t){var o=t.src,n=t.position,i=t.size,s=t.repeat,r=t.transition,l=t.parallax,d=t.move;"undefined"===E(n)&&(n="top left"),"undefined"===E(i)&&(i="cover"),"undefined"===E(s)&&(s="no-repeat"),"undefined"===E(r)&&(r="none 0s ease 0s"),"undefined"===E(d)&&(d=!1),l&&"undefined"!=E(l)&&0!=l&&(n=n.replace("top","50%"));var c="none",p="infinite";if(d&&"[object Object]"==Object.prototype.toString.call(d)){switch(d.loop||(p="1 forwards"),n="0 0",d.dir){case"top":c="js-uix-cssanim--move-t "+parseInt(d.speed)+"s "+"linear "+p;break;case"bottom":c="js-uix-cssanim--move-b "+parseInt(d.speed)+"s "+"linear "+p;break;case"left":c="js-uix-cssanim--move-l "+parseInt(d.speed)+"s "+"linear "+p;break;case"right":c="js-uix-cssanim--move-r "+parseInt(d.speed)+"s "+"linear "+p}0==e("#js-uix-cssanim--move-t").length&&e('<style id="js-uix-cssanim--move-t">').text("@keyframes js-uix-cssanim--move-t{from{background-position:0 0;}to{background-position:0 -19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-b").length&&e('<style id="js-uix-cssanim--move-b">').text("@keyframes js-uix-cssanim--move-b{from{background-position:0 0;}to{background-position:0 19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-l").length&&e('<style id="js-uix-cssanim--move-l">').text("@keyframes js-uix-cssanim--move-l{from{background-position:0 0;}to{background-position:-19999px 0;}").appendTo("head"),0==e("#js-uix-cssanim--move-r").length&&e('<style id="js-uix-cssanim--move-r">').text("@keyframes js-uix-cssanim--move-r{from{background-position:0 0;}to{background-position:19999px 0;}").appendTo("head")}"undefined"!=E(o)&&""!=o&&(t.fill?Modernizr.cssanimations&&a.css({background:"url("+o+") "+s,"background-size":i,"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",animation:c}):a.css({"background-image":"url("+o+")","background-position":n,"background-size":i,"background-repeat":s,animation:c}),l&&"undefined"!=E(l)&&0!=l&&a.UixParallax({speed:l,transition:r,bg:{enable:!0,xPos:"50%"}}))}}))}i(o,n),a.on("resize",(function(){t.innerWidth!=o&&(o=t.innerWidth,n=t.innerHeight,i(o,n))}))},e.components.documentReady.push(e.SET_BG.documentReady))}(n,jQuery,window,document);function y(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,a,t){return a&&y(e.prototype,a),t&&y(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}!function(e,a,t,n){null!==t.VIDEOS&&(e.VIDEOS=e.VIDEOS||{},e.VIDEOS.version="0.1.3",e.VIDEOS.documentReady=function(e){e(t);var a=t.innerWidth,i=t.innerHeight;e(".uix-video").each((function(){var t=e(this),n=t.find("video").attr("id"),i="videocover-"+n,s=t.closest("[data-embed-video-wrapper]").width(),r=t.data("embed-video-autoplay"),l=t.data("embed-video-loop"),d=t.data("embed-video-controls"),c=t.data("embed-video-width"),p=t.data("embed-video-height");if(t.find(".video-js").attr("id",n),"undefined"===x(r)&&(r=!0),"undefined"===x(l)&&(l=!0),"undefined"===x(d)&&(d=!1),"undefined"!==x(c)&&"auto"!=c||(c=s),"undefined"!==x(p)&&"auto"!=p||(p=s/1.77777777777778),0==e("#"+i).length){e('<div id="'+i+'" class="uix-video__cover"><span class="uix-video__cover__placeholder" style="background-image:url('+t.find("video").attr("poster")+')"></span><span class="uix-video__cover__playbtn"></span></div>').insertBefore(t);var u=Modernizr.touchevents?"touchstart":"click";e("#"+i+" .uix-video__cover__playbtn").on(u,(function(a){a.preventDefault(),f.play(),e("#"+i).hide()})),r&&!o||e("#"+i+" .uix-video__cover__playbtn").show()}a<=768&&t.find(".video-js").attr({playsinline:"true"});var f=videojs(n,{width:c,height:p,loop:l,autoplay:r},(function(){var a=function(e){var a,o,n=e.videoWidth(),i=e.videoHeight();o=i*((a=s)/n),isNaN(a)||isNaN(o)||(e.height(o),e.width(a)),t.css("visibility","visible"),t.find(".vjs-loading-spinner, .vjs-big-play-button").hide()};a(this),this.on("loadedmetadata",(function(){a(this)})),r&&(this.muted(!0),this.play()),d||this.controls(!1);this.on("timeupdate",(function(){this.duration()>0&&(!0,this.currentTime()>0&&(!0,this.off("timeupdate"),e("#"+i).hide()))}))}))}));var s="[data-video-win]";e(s).each((function(){var a=e(this),t="",o=a.data("video-mp4"),n=a.data("video-webm"),i=a.data("video-ogv"),s=a.data("video-poster"),r=a.data("modal-id"),l=r+"--videopush";if("undefined"===x(o)&&(o=""),"undefined"===x(n)&&(n=""),"undefined"===x(i)&&(i=""),a.find("[data-video-iframe]").length>0&&(t=a.find("[data-video-iframe]").html()),0==e("#"+r).length){var d="",c="",p="",u="";""!=o&&(c='<source src="'+o+'" type="video/mp4">'),""!=n&&(p='<source src="'+n+'" type="video/webm">'),""!=i&&(u='<source src="'+i+'" type="video/ogv">'),d+='<div class="uix-modal-box is-fullscreen is-video" role="dialog" tabindex="-1" aria-hidden="true" id="'+r+'">',d+='<button type="button" class="uix-modal-box__close" data-modal-close-trigger="true"></button>',d+='<div class="uix-modal-box__content" role="document">',d+='<div class="uix-modal-box__video-waiting"></div><div class="uix-modal-box__video-container" data-video-player-init="0">',a.find("[data-video-iframe]").length>0&&""!=t?(d+='<div id="'+l+'" class="embed-responsive embed-responsive-16by9">',d+=t,d+="</div>"):(d+='<video id="'+l+'" class="video-js vjs-default-skin" controls poster="'+s+'">',d+=c+p+u,d+="</video>"),d+="</div>",d+="</div>",e(d+="</div>").appendTo("body")}})),e(n).off("click.VIDEOS").on("click.VIDEOS",s,(function(){var t=e(this).data("modal-id")+"--videopush",o=a-80,s=i-80,r=e("#"+t).closest(".uix-modal-box__video-container"),l=r.prev(".uix-modal-box__video-waiting"),d=r.data("video-player-init"),c=!1,p=function(){TweenMax.set(r,{alpha:1}),l.removeClass("is-active")};if(e("#"+t).find("iframe").length>0?c=e("#"+t).find("iframe"):(TweenMax.set(r,{alpha:0}),l.addClass("is-active")),c&&"object"===x(c)){if(c.length>0){var u=c.width(),f=c.height(),m=u,h=f;f>s&&(m=u*((h=s)/f)),m>o&&(h=f*((m=o)/u)),c.css({left:(o-m)/2+"px",top:(s-h)/2+"px",height:h+"px",width:m+"px"}),a<=768&&c.css({top:0}).parent(".embed-responsive").css({top:(s-h)/2+"px"})}return!1}a<=768&&e("#"+t).attr({playsinline:"true"});var v=videojs(t,{width:1,height:1,autoplay:!0,loop:!0},(function(){var e=function(e){var a=e.videoWidth(),t=e.videoHeight(),n=a,l=t;t>s&&(n=a*((l=s)/t)),n>o&&(l=t*((n=o)/a)),e.height(l),e.width(n),r.find(" > div.video-js").css({width:n+"px"});var d=parseFloat(i-l)/2-50;r.css({transform:"translateY("+d+"px)"}),p()};e(this),this.on("loadedmetadata",(function(){e(this),r.data("video-player-init",1)})),this.play(),this.on("timeupdate",(function(){var e=this.duration();e>0&&this.currentTime()})),this.on("ended",(function(){}))}));1===d&&p(),e(n).off("click.VIDEOS_CLOSE").on("click.VIDEOS_CLOSE",".uix-modal-box [data-modal-close-trigger], .uix-modal-mask:not(.js-uix-disabled)",(function(){v.ready((function(){this.pause()}))}))}))},e.components.documentReady.push(e.VIDEOS.documentReady))}(n,jQuery,window,document);const g="#define GLSLIFY 1\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4(vColor, 1.);\n}     ",T="#define GLSLIFY 1\nuniform float time;\nuniform vec2 limits;\nuniform float speed;\nattribute float moveable;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    float limLen = limits.y - limits.x;\n    vec3 pos = position;\n    if (floor(moveable + 0.5) > 0.5) {\n        float dist = speed * time;\n        float currPos = mod((pos.z + dist) - limits.x, limLen) + limits.x;\n        pos.z = currPos;\n    }\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}",b="#define GLSLIFY 1\n uniform sampler2D uTexture;\n uniform float uAlpha;\n uniform vec2 uOffset;\n\n varying vec2 vUv;\n\n vec3 rgbShift(sampler2D texture, vec2 uv, vec2 offset) {\n   float r = texture2D(uTexture,vUv + 0.0).r;\n   vec2 gb = texture2D(uTexture,vUv).gb;\n   return vec3(r,gb);\n }\n\n void main() {\n   vec3 color = rgbShift(uTexture,vUv,uOffset);\n   gl_FragColor = vec4(color,uAlpha);\n }   ",_="#define GLSLIFY 1\n uniform vec2 uOffset;\n varying vec2 vUv;\n\n #define M_PI 3.1415926535897932384626433832795\n\n vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n   position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n   position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n   return position;\n }\n\n void main() {\n   vUv = uv;\n   vec3 newPosition = deformationCurve(position, uv, uOffset);\n   gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n }",R="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n\tfloat intensity = pow( 0.7 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), 4.0 ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}",M="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";function S(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,a,t){return a&&S(e.prototype,a),t&&S(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}!function(e,t,o,n){null!==o.MAIN&&(e.MAIN=e.MAIN||{},e.MAIN.version="0.0.1",e.MAIN.documentReady=function(e){if(e("body").hasClass("page"))return!1;var t=!1,i=!1,s=!1,r=!1,l=!1,d=!1,c=!0,p=!1,u=!1,f=!1,m=!1,h=!0;n.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()}));var v=0;n.addEventListener("touchend",(function(e){var a=(new Date).getTime();a-v<=300&&e.preventDefault(),v=a}),!1);var E="#app-mouse-overlay";0==e(E).length&&e("body").prepend('<div id="app-mouse-overlay" style="background-color: rgba(1, 1, 1, 0);bottom: 0;left: 0;position: fixed;right: 0;top: 0;z-index: 999999999;width: 100vw; height: 100vh;display: none;"></div>');var y=function(){u=!0,e(E).show();var a=function(e){e.stopPropagation(),e.preventDefault()};n.addEventListener("pointerdown",a,!0),setTimeout((function(){e(E).hide(),n.removeEventListener("pointerdown",a,!0),u=!1}),3e3)};n.addEventListener("contextmenu",(function(e){return e.preventDefault()}));var w=".app-cursor .app-cursor__progress svg.dot circle",x=".app-cursor .app-cursor__progress svg.circle path",S=".app-cursor .app-cursor__progress svg.arrow path",C=".app-loader-progress",O=".app-loader-progress__counter",A=".app-loader-headphone",L=".app-enter-btn",P=".uix-brand",D=".app-topnav__wrapper",z=".app-scrolling-textbox__wrapper",I=".app-scrolling-textbox > p",j="#app-screen-home",k="#app-screen-home .app-screen-home__desc",N=["assets/fonts/fjalla-one/FjallaOne_Regular.json?ver=1","assets/fonts/abeezee/ABeeZee_Regular.json?ver=1","assets/fonts/almonte/Almonte_Regular.json?ver=1"],G=["assets/models/gltf/cave-webgl.glb?ver=1","assets/models/gltf/brand.glb?ver=1","assets/models/gltf/stone-anim.glb?ver=1","assets/models/gltf/stone.glb?ver=1"],U=["assets/textures/sprites/water-blue.jpg?ver=1","assets/textures/sprites/water.jpg?ver=1","assets/textures/sprites/ps_ball.png?ver=1","assets/textures/sprites/metal.jpg?ver=1","assets/textures/sprites/metal-env.jpg?ver=1","assets/textures/sprites/planet4-black.jpg?ver=1","assets/textures/sprites/mask.jpg?ver=1","assets/textures/sprites/txt-bg.jpg?ver=1"],B=["assets/audios/bg.ogg?ver=1","assets/audios/enter-scene.ogg?ver=1","assets/audios/btn-hover.ogg?ver=1"],F=["assets/videos/about.mp4","assets/videos/about2.mp4","assets/videos/about3.mp4"];function V(e){TweenMax.to(w,.5,{drawSVG:e+"%"})}var W=e(".app-cursor");e(n).on("pointermove.CURSOR touchmove.CURSOR",(function(e){var a,t,o,n=e.touches;n&&n.length?(a=n[0].clientX,t=n[0].clientY):(a=e.clientX,t=e.clientY),TweenMax.to(W,.2,{left:a,top:t,ease:Power4.easeOut}),W.addClass("is-moving"),clearTimeout(o),o=setTimeout((function(){W.removeClass("is-moving")}),300),W.hasClass("is-down")&&W.removeClass("is-down")})).on("pointerdown.CURSOR touchstart.CURSOR",(function(e){var a,t,o=e.touches;o&&o.length?(a=o[0].clientX,t=o[0].clientY):(a=e.clientX,t=e.clientY),TweenMax.to(W,.2,{left:a,top:t,ease:Power4.easeOut}),W.addClass("is-down")})).on("pointerup.CURSOR touchend.CURSOR",(function(e){W.removeClass("is-down")})),e(L).on("pointerenter.CURSOR_ENTER",(function(){e(w).parent().addClass("is-disabled"),e(x).parent().addClass("is-disabled"),e(S).parent().addClass("is-active")})).on("pointerleave.CURSOR_ENTER",(function(){e(w).parent().removeClass("is-disabled"),e(x).parent().removeClass("is-disabled"),e(S).parent().removeClass("is-active")})).on("click.CURSOR_ENTER",(function(){W.addClass("is-down"),e(w).parent().removeClass("is-disabled"),e(x).parent().removeClass("is-disabled"),e(S).parent().removeClass("is-active").addClass("is-down"),y()}));var Y=function(){e(o);var v,E,x,S,Y=o.innerWidth,X=o.innerHeight,J="app-main",Q=[],q=new THREE.LoadingManager;q.onLoad=function(){},q.onProgress=function(e,a,t){},q.onError=function(e){console.log("▶▶▶▶▶ There was an error loading ◀◀◀◀◀◀  "+e)};var K=new THREE.TextureLoader(q),$=new THREE.GLTFLoader(q),Z=new THREE.FontLoader(q);K.crossOrigin="anonymous",$.crossOrigin="anonymous",Z.crossOrigin="anonymous";var ee,ae,te,oe,ne,ie,se,re,le,de,ce,pe,ue,fe,me,he,ve,Ee,ye,we,xe,ge,Te,be,_e,Re,Me,Se,Ce,He,Oe,Ae,Le,Pe,De,ze,Ie,je,ke,Ne,Ge,Ue,Be,Fe,Ve,We,Ye,Xe,Je=0,Qe=0,qe=Y/2,Ke=X/2,$e=0,Ze=0,ea=0,aa=0,ta=new THREE.Clock,oa=0,na=1e-8,ia=new SimplexNoise,sa=new THREE.Object3D,ra=new THREE.Object3D,la=new THREE.Object3D,da=new THREE.Object3D,ca=new THREE.Object3D,pa="#".concat((new THREE.Color).setHSL(0,0,0).getHexString()),ua=new THREE.Object3D,fa=[],ma=new THREE.Vector2,ha=new THREE.Raycaster,va=[],Ea=new THREE.Object3D,ya=new THREE.Object3D,wa=new THREE.Object3D,xa=new THREE.ShaderMaterial({uniforms:{c:{type:"f",value:2.5},p:{type:"f",value:14}},vertexShader:"#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#define GLSLIFY 1\nuniform float c;\nuniform float p;\nvarying vec3 vNormal;\nvoid main() \n{\n    float intensity = pow( c - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), p ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}"}),ga=[],Ta=[],ba=[],_a=[],Ra=null,Ma=new THREE.ShaderMaterial({uniforms:{diffuse:{value:new THREE.Color(16777215)},dashSize:{value:1},gapSize:{value:1},dotSize:{value:.15},opacity:{value:.8},time:{value:0}},fragmentShader:"#define GLSLIFY 1\n  uniform vec3 diffuse;\n  uniform float opacity;\n  uniform float time; // added time uniform\n\n  uniform float dashSize;\n  uniform float gapSize;\n  uniform float dotSize;\n  varying float vLineDistance;\n\n  void main() {\n    float totalSize = dashSize + gapSize;\n    float modulo = mod( vLineDistance + time, totalSize ); // time added to vLineDistance\n    float dotDistance = dashSize + (gapSize * .5) - (dotSize * .5);\n\n    if ( modulo > dashSize && mod(modulo, dotDistance) > dotSize ) {\n      discard;\n    }\n\n    gl_FragColor = vec4( diffuse, opacity );\n  }",vertexShader:"#define GLSLIFY 1\n  attribute float lineDistance;\n  varying float vLineDistance;\n\n  void main() {\n    vLineDistance = lineDistance;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n  }",transparent:!0}),Sa=20,Ca=400,Ha=[],Oa=".app-sound-switch",Aa=new THREE.Object3D,La=".app-cursor .app-cursor__progress svg.dot-back circle",Pa=".app-cursor .app-cursor__progress svg.back",Da=o.document,za=0,Ia=!1;function ja(e){Ia=!0,e.preventDefault()}function ka(e){Ia=!1}function Na(){W.addClass("is-backbtn"),e(w).parent().addClass("is-disabled"),e(La).parent().removeClass("is-disabled"),e(Pa).addClass("is-active").removeClass("is-down"),TweenMax.set(La,{drawSVG:"0%"}),TweenMax.to(W,.5,{scale:1.5})}function Ga(){W.removeClass("is-backbtn"),e(w).parent().removeClass("is-disabled"),e(La).parent().addClass("is-disabled"),e(Pa).removeClass("is-active").addClass("is-down"),TweenMax.to(W,.5,{scale:1})}Da.addEventListener("pointerdown",ja,!1),Da.addEventListener("pointerup",ka,!1),Da.addEventListener("touchstart",ja,!1),Da.addEventListener("touchend",ka,!1),function a(){m&&(Ia?(za++,function(){if(u)return;if(za<=60){if(m){var a=za*(100/60);TweenMax.set(La,{drawSVG:a})}}else m&&Ga(),e("body").removeClass("primarymenu-active"),e(P).removeClass("scene-start").addClass("scene-end"),e(D).removeClass("scene-start").addClass("scene-end"),l=!1,TweenMax.to(v.position,2,{x:0,y:0,z:100,onComplete:function(){lt("open",null),e(j).removeClass("is-click"),tt(!1,!0),TweenMax.to(sa.rotation,1,{y:sa.origData.ry,ease:Power2.easeOut}),TweenMax.to(sa.position,1,{x:sa.origData.x,y:sa.origData.y,z:sa.origData.z,ease:Power2.easeOut}),l||at(),c=!0,t=!0}}),TweenMax.to(je.uAlpha,.5,{delay:1,value:0,ease:Power2.easeIn}),TweenMax.to(Ne.scale,.5,{x:na,y:na,z:na,ease:Power2.easeIn}),He&&(TweenMax.to(He.uAlpha,1.5,{value:0,ease:Power4.easeOut}),TweenMax.to(He.uOffset.value,1.5,{x:-2,y:-1.3,ease:Power4.easeOut})),function(){Le&&De&&(TweenMax.to([Le.uAlpha,De.uAlpha],1.5,{value:0,ease:Power4.easeOut}),TweenMax.to([Le.uOffset.value,De.uOffset.value],1.5,{x:-6,y:-5.3,ease:Power4.easeOut}));var e=[],a=[];_a.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(a,2,{delay:.7,x:500,ease:Power3.easeIn}),TweenMax.to(e,2,{delay:.7,x:function(e,a){return _a[e].origData.x},y:function(e,a){return _a[e].origData.y},onComplate:function(){TweenMax.to(a,1.5,{delay:.7,x:na,ease:Power4.easeOut})},ease:Power3.easeIn})}(),rt("close-all"),TweenMax.resumeAll(),console.log("%c About closed","color: orange;"),TweenMax.to("#app-screen-detail__about",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus"),TweenMax.set(z,{css:{display:"none"},alpha:0,onComplete:function(){TweenMax.killTweensOf([z,I])}})}}),function(){console.log("%c Contact closed","color: orange;"),TweenMax.to("#app-screen-detail__contact",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus")}});(new TimelineMax).staggerTo(".app-social-links a",.1,{x:5,alpha:0},.1,0).to(".app-social-links",.5,{css:{display:"none"}})}(),function(){console.log("%c Works closed","color: orange;"),TweenMax.to(da.position,3,{y:2e3,ease:Power2.easeIn}),TweenMax.to(Q[3].position,1.2,{delay:1,z:Q[3].origData.z}),TweenMax.to(x.position,1.2,{delay:1,z:x.origData.z});var e=(new THREE.Color).setHSL(0,0,0);TweenMax.to(Q[4].color,1,{r:e.r,g:e.g,b:e.b})}(),m=!1}()):(za=0,TweenMax.to(La,.5,{drawSVG:0}))),requestAnimationFrame(a)}();var Ua=function(){y(),rt("open"),lt("close",-1),e(P).removeClass("scene-end").addClass("scene-start"),e(D).removeClass("scene-end").addClass("scene-start")},Ba=new TimelineMax;e(D+" > a").on("pointerenter",(function(a){var t=e(this).find(".app-topnav__bars");t.removeAttr("style"),Ba.add("start").staggerTo(t,.35,{x:"35px",opacity:.2,ease:Power4.easeOut},.04,"start").staggerTo(t,.2,{x:"-40px"},.02,"+=0.01"),W.addClass("is-hover")})).on("pointerleave",(function(a){W.removeClass("is-hover");var t=e(this).find(".app-topnav__bars");Ba.add("end").staggerTo(t,.2,{x:"0px",opacity:1,ease:Power4.easeOut},.02,"+=0.01")})).on("click",(function(){e(D).hasClass("scene-start")||Ua()})),e(D).on("pointermove",(function(e){var a=e.offsetX/this.offsetWidth*40-20,t=e.offsetY/this.offsetHeight*40-20;this.style.transform="translate(".concat(a,"px, ").concat(t,"px)")})).on("pointerleave",(function(e){this.style.transform=""})),e(".app-social-links > a").on("pointerenter",(function(e){W.addClass("is-hover")})).on("pointerleave",(function(e){W.removeClass("is-hover")}));var Fa,Va=[F[0],F[1]],Wa=0;Fa=Va.length,console.log("videosTotal: "+Fa+", videosLoaded: "+Wa);var Ya=G.length,Xa=0,Ja=0;function Qa(){v.aspect=o.innerWidth/o.innerHeight,v.updateProjectionMatrix(),S.setSize(o.innerWidth,o.innerHeight)}function qa(e){var a,t,n=e.touches;n&&n.length?(a=n[0].clientX,t=n[0].clientY):(a=e.clientX,t=e.clientY),Je=a-qe,Qe=t-Ke,ma.x=a/o.innerWidth*2-1,ma.y=-t/o.innerHeight*2+1,Number.prototype.map=function(e,a,t,o){return(this-e)*(o-t)/(a-e)+t};var i=ma.x.map(-1,1,-qe,qe),s=ma.y.map(-1,1,-Ke,Ke);c&&x&&(x.position.x=i,x.position.y=s),TweenMax.to(Ce.position,.5,{z:Math.sqrt(i)-120})}function Ka(a){var i,d;a.preventDefault();var c=a.touches;if(c&&c.length?(i=c[0].clientX,d=c[0].clientY):(i=a.clientX,d=a.clientY),Je=i-qe,Qe=d-Ke,!s)return!1;if(ma.x=i/o.innerWidth*2-1,ma.y=-d/o.innerHeight*2+1,ha.setFromCamera(ma,v),va=ga.concat(Me).concat(Ge.children).concat(Ue.children),(fe=ha.intersectObjects(va)).length>0&&"nucleus__audio-controller"==fe[0].object.name&&(console.log("--- [audio controller] --- : "+fe[0].object.name),e(Oa).toggleClass("is-switched"),e(Oa).hasClass("is-switched")?Ye.setVolume(0):Ye.setVolume(.5)),fe.length>0&&fe[0].object.name.indexOf("nucleus__menuball-")>=0&&(console.log("--- [Ball of Navigation] --- : "+fe[0].object.name),Ua()),fe.length>0&&fe[0].object.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")){if(console.log("--- [primary 3D navigation] --- : "+fe[0].object.name),"undefined"!=H(fe[0])){var p=fe[0].object;switch(fe[0].object.name){case"nucleus__menu-work":Ra=ga[0].origData,t=!1,function(){console.log("%c Works","color: green;");ga[0].origData;TweenMax.to([Be.uAlpha,Fe.uAlpha,Ve.uAlpha],.5,{value:0,ease:Power2.easeOut}),TweenMax.to([Q[3].position,x.position],1.2,{z:-300}),setTimeout((function(){m=!0,Na()}),2500),setTimeout((function(){ct("open",null)}),500),TweenMax.to(sa.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:5*Te,ease:Power2.easeOut,onComplete:function(){TweenMax.to(da.position,2,{x:da.origData.x,y:da.origData.y,z:da.origData.z,ease:Power2.easeOut});var e=(new THREE.Color).setHSL(1,1,1);TweenMax.to(Q[4].color,1,{r:e.r,g:e.g,b:e.b})}})}})}(),rt("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-about":Ra=ga[1].origData,t=!1,function(){console.log("%c About","color: green;"),TweenMax.to("#app-screen-detail__about",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),m=!0,Na(),TweenMax.to(z,1.2,{css:{display:"block"},alpha:1,ease:Power2.easeOut})}}),e(z).addClass("scene-detail"),nt();var a=ga[1].origData;TweenMax.to([Be.uAlpha,Fe.uAlpha,Ve.uAlpha],.5,{value:0,ease:Power2.easeOut}),setTimeout((function(){ct("open",null)}),500),TweenMax.to(sa.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:-Te/2-20,ease:Power2.easeOut,onComplete:function(){TweenMax.set(Ce.position,{x:a.x,y:a.y,z:a.z-30}),TweenMax.to(He.uAlpha,1.5,{value:1,ease:Power4.easeOut}),TweenMax.to(He.uOffset.value,1.5,{x:0,y:0,ease:Power4.easeOut})}})}})}(),rt("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-contact":Ra=ga[2].origData,t=!1,function(){console.log("%c Contact","color: green;"),TweenMax.to("#app-screen-detail__contact",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),m=!0,Na();(new TimelineMax).to(".app-social-links",.5,{css:{display:"block"}}).staggerTo(".app-social-links a",.1,{x:0,alpha:1},.1,0)}});var e=ga[2].origData;TweenMax.to([Be.uAlpha,Fe.uAlpha,Ve.uAlpha],.5,{value:0,ease:Power2.easeOut});var a=[],t=[];_a.forEach((function(e,o){a.push(e.position),t.push(e.scale)})),TweenMax.to(sa.rotation,1,{y:-1.3,ease:Power1.easeOut});var o=n.createElement("video");o.src=Va[1];var i=new THREE.VideoTexture(o);i.minFilter=THREE.LinearFilter,i.magFilter=THREE.LinearFilter,i.format=THREE.RGBFormat,i.image.autoplay=!0,i.image.loop=!0,i.image.currentTime=0,i.image.muted=!0,i.image.play(),Le={uTexture:{value:i},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var s=new THREE.ShaderMaterial({uniforms:Le,vertexShader:_,fragmentShader:b,transparent:!0});(Ae=new THREE.Mesh(new THREE.CircleGeometry(12,32),s)).receiveShadow=!0,E.add(Ae),De={uTexture:{value:i},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var d=new THREE.ShaderMaterial({uniforms:De,vertexShader:_,fragmentShader:b,transparent:!0});Pe=new THREE.Mesh(new THREE.CircleGeometry(7,0),d),E.add(Pe),Pe.receiveShadow=!0,E.add(Pe),setTimeout((function(){ct("open",null)}),500);var c=5;TweenMax.to(sa.position,1,{x:"+=-200",z:"+=100",onComplete:function(){r=!1,l=!0,TweenMax.to(a,.5,{y:-Te/3,x:-ge/2,ease:Power2.easeOut}),TweenMax.to(a,1.5,{delay:.7,x:function(e,a){return-Math.random()*ge/2},ease:Power2.easeOut}),TweenMax.to(t,1.5,{delay:.7,x:function(e,a){return e%c*30-(ge/3-350)},ease:Power2.easeOut}),setTimeout((function(){TweenMax.set(Ae.position,{x:e.x+20,y:e.y+8,z:e.z+50}),TweenMax.set(Pe.position,{x:e.x-20,y:e.y-3,z:e.z+50}),TweenMax.to([Le.uAlpha,De.uAlpha],3,{delay:.7,value:1,ease:Power4.easeOut}),TweenMax.to([Le.uOffset.value,De.uOffset.value],3,{delay:.8,x:0,y:0,ease:Power4.easeOut})}),500)}})}(),rt("close-onlynav"),e("body").addClass("primarymenu-active")}p.updateMatrix()}null!=Ra&&TweenMax.to(v.position,2,{x:Ra.x,y:Ra.y,z:Ra.z+100,onUpdate:function(){v.up.set(0,1,0),v.updateProjectionMatrix()}})}}function $a(e){var a,t;e.preventDefault();var n=e.touches;n&&n.length?(a=n[0].clientX,t=n[0].clientY):(a=e.clientX,t=e.clientY),Je=a-qe,Qe=t-Ke,ma.x=a/o.innerWidth*2-1,ma.y=-t/o.innerHeight*2+1}function Za(e){he=ha.intersectObjects(da.children,!0),h=!(he.length>0)}function et(e){if(e.preventDefault(),s&&he.length>0&&!he[0].object.name.includes("nucleus__worktitle-")){var a=he[0].object.parent.parent.parent.parent;console.log("onPointerUp: ",a.name),o.open(a.href,"_blank")}}function at(){r=!0;var e=[],a=[];ba.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(e,1.5,{y:function(e,a){return ba[e].origData.y},z:function(e,a){return ba[e].origData.z}}),TweenMax.killTweensOf(a),TweenMax.to(a,1.5,{x:function(e,a){return ba[e].origData.sx},y:function(e,a){return ba[e].origData.sy},z:function(e,a){return ba[e].origData.sz}})}function tt(a,t){var o=function(){e(k).each((function(a){var t=e(this);[t.find("> h2"),t.find("> p")].forEach((function(e,a){var t=new SplitText(e,{type:"chars"});TweenMax.set(t.chars,{y:70,alpha:0})}))}))};if(a)o();else{var n=e(k),i=0;e(j).addClass("is-active");!function a(){if(!0){var s=n.eq(i),r=[s.find("> h2"),s.find("> p")];!1,r.forEach((function(e,a){for(var t=new SplitText(e,{type:"chars"}),o=t.chars.length,n=new TimelineMax({repeat:0,onComplete:function(){}}),i=0;i<o;i++)n.from(t.chars[i],1,{opacity:0,webkitFilter:"blur(0)",ease:Back.easeOut},1*Math.random());n.add("explode","+=2");for(var s=0;s<o;s++)n.to(t.chars[s],.5,{delay:1.5,opacity:0,webkitFilter:"blur(5px)"},"explode+="+.2*Math.random())})),e(j).hasClass("is-click")||!t?(TweenMax.killAll(!1,!1,!0,!1),setTimeout((function(){o()}),1e3)):TweenMax.delayedCall(e(j).data("tween-delay"),a)}i<n.length-1?i++:i=0}()}}function ot(e){e&&(TweenMax.set(ue.uniforms.contrast,{value:0}),TweenMax.set(ce.uniforms.h,{value:0}))}function nt(){var a=e(z).height();TweenMax.set(z,{scale:.5}),TweenMax.set(I,{y:function(e){return 20*e}}),TweenMax.to(I,3,{ease:Linear.easeNone,y:"+="+a,modifiers:{y:function(e){return e%a}},repeat:-1}),TweenMax.set(z,{overflow:"hidden"})}function it(e,a,t){for(var o=function(e,a){e.faces.forEach((function(e){for(var t=e instanceof THREE.Face3?3:4,o=0;o<t;o++)e.vertexColors[o]=a}))},i=0;i<a;i++){var s=void 0;"cube"==e?s=new THREE.BoxGeometry(4,4,4):"sphere"==e?("ball-nav"==t&&(s=new THREE.SphereGeometry(10,32,32)),"ball-fly"==t&&(s=new THREE.IcosahedronGeometry(2,2)),"ball-pinprick"==t&&(s=new THREE.IcosahedronGeometry(2,2))):"poly"==e&&(s=new THREE.CylinderGeometry(3,6,3,5,1));var r=new THREE.Color;r.setRGB(Math.random(),Math.random(),Math.random()),o(s,r);var l=void 0,d=void 0;if("ball-nav"==t){l=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!1,map:function(){var e=n.createElement("canvas");e.width=16,e.height=16;var a=e.getContext("2d"),t=a.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(.2,"rgba(0,255,255,1)"),t.addColorStop(.4,"rgba(0,0,64,1)"),t.addColorStop(1,"rgba(0,0,0,1)"),a.fillStyle=t,a.fillRect(0,0,e.width,e.height);var o=new THREE.Texture(e);return o.needsUpdate=!0,o}(),side:THREE.DoubleSide}),(d=new THREE.Mesh(s,l)).name="nucleus__menuball-"+i,d.position.x=-65*i+65,0==a&&(d.position.y=0),1==a&&(d.position.y=ut(-60,10)),2==a&&(d.position.y=ut(-60,10)),d.scale.setScalar(.4+1*Math.random()),d.position.z=350,E.add(d),d.speed=ut(.8,1),d.origData={x:d.position.x,y:d.position.y,z:-v.position.z,rx:d.rotation.x,ry:d.rotation.y,rz:d.rotation.z,sx:d.scale.x,sy:d.scale.y,sz:d.scale.z};var c=new THREE.MeshBasicMaterial({map:K.load(U[0])}),p=new THREE.Mesh(s,c);d.add(p),p.position.x=0;var u=new THREE.Mesh(s.clone(),xa);p.add(u);var f=st(0,0,0,1.5,0,0,10);d.add(f),Ta.push(f),Ea.add(d),E.add(Ea),Ea.position.y=-10,ga.push(d)}"ball-fly"==t&&(l=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:K.load(U[0]),side:THREE.DoubleSide}),(d=new THREE.Mesh(s,l)).name="nucleus__flyingball-"+i,d.position.x=ut(-xe/2,xe/2+Math.random()*ge*2),d.position.y=ut(-Math.random()*Te*2,Math.random()*Te*2),d.rotation.x=2*Math.random()*Math.PI,d.rotation.y=2*Math.random()*Math.PI,d.rotation.z=2*Math.random()*Math.PI,d.scale.setScalar(.25+.3*Math.random()),E.add(d),d.speed=.5+Math.random(),d.origData={x:d.position.x,y:d.position.y,z:d.position.z,rx:d.rotation.x,ry:d.rotation.y,rz:d.rotation.z,sx:d.scale.x,sy:d.scale.y,sz:d.scale.z},d.position.z=350,ya.add(d),E.add(ya),ba.push(d)),"ball-pinprick"==t&&(l=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:K.load(U[0]),side:THREE.DoubleSide}),(d=new THREE.Mesh(s,l)).name="nucleus__pinprickball-"+i,d.position.x=-ge/2,d.position.y=2*-Te,d.rotation.x=2*Math.random()*Math.PI,d.rotation.y=2*Math.random()*Math.PI,d.rotation.z=2*Math.random()*Math.PI,d.scale.setScalar(.25+.5*Math.random()),d.scale.x=na,E.add(d),d.speed=.5+Math.random(),d.origData={x:d.position.x,y:d.position.y,z:d.position.z,rx:d.rotation.x,ry:d.rotation.y,rz:d.rotation.z,sx:d.scale.x,sy:d.scale.y,sz:d.scale.z},d.position.z=-200,wa.add(d),E.add(wa),_a.push(d))}}function st(e,a,t,o,n,i,s){var r=s,l=new THREE.CircleGeometry(10,50);l.vertices.shift();for(var d=new THREE.Object3D,c=0;c<r;c++){var p=new THREE.LineSegments(l,Ma);p.computeLineDistances(),p.position.set(0,0,0),p.scale.setScalar(1-c/199),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},d.add(p),d.position.set(e,a,t),d.rotation.x=n,d.rotation.y=i,d.scale.setScalar(o)}return d}function rt(a){"open"==a&&(m=!0,Na(),TweenMax.set(_e.scale,{x:1,onComplete:function(){TweenMax.to(_e.position,1.2,{z:_e.origData.z,ease:Power2.easeOut})}}),TweenMax.set(Re.scale,{x:1,onComplete:function(){TweenMax.to(Re.position,1.2,{z:Re.origData.z,ease:Power2.easeOut})}}),ct("close","zoomIn"),dt("close"),e(j).addClass("is-click"),setTimeout((function(){tt(!1,!1)}),1e3),TweenMax.to(We.uAlpha,1.5,{delay:1.5,value:1,ease:Power2.easeOut}),TweenMax.set([Ge.position,Ue.position],{z:f?-120:-50})),"close-all"==a&&(Ga(),m=!1,f=!1,TweenMax.to(We.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([_e.position,Re.position],1,{z:3*we,ease:Power2.easeIn}),TweenMax.to([_e.scale,Re.scale],.5,{delay:1,x:na,onComplate:function(){dt("open"),lt("open",null)}}),setTimeout((function(){ct("open",null)}),300)),"close-onlynav"==a&&(y(),Ga(),m=!1,f=!1,TweenMax.to(We.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([_e.position,Re.position],1,{z:3*we,ease:Power2.easeIn}),TweenMax.to([_e.scale,Re.scale],.5,{delay:1,x:na}))}function lt(e,a){var t=[];ga.forEach((function(e,a){t.push(e.position)})),"open"==e&&TweenMax.to(t,3,{z:function(e,a){return ga[e].origData.z},ease:Power2.easeOut}),"close"==e&&(-1!=a?TweenMax.to(t,3,{z:function(e,t){return e==a?200:-3500},ease:Power3.easeInOut}):TweenMax.to(t,3,{z:-3500,ease:Power3.easeInOut}))}function dt(e){var a=[];ba.forEach((function(e,t){a.push(e.position)})),"open"==e&&TweenMax.to(a,1,{z:function(e,a){return ba[e].origData.z},ease:Power2.easeOut}),"close"==e&&TweenMax.to(a,1,{z:-1200,ease:Power2.easeOut})}function ct(e,a){"open"==e&&TweenMax.to(sa.position,1,{z:sa.origData.z,ease:Power2.easeOut}),"close"==e&&("zoomIn"==a&&TweenMax.to(sa.position,2,{delay:.7,z:-1200,ease:Power2.easeOut}),"zoomOut"==a&&TweenMax.to(sa.position,2,{delay:.7,z:1200,ease:Power2.easeOut}))}function pt(e,a,t,o){var n=new THREE.Vector3;n.setFromMatrixPosition(e.matrixWorld);var i=t/2,s=o/2,r=o/t;n.project(a),n.x=n.x*i+i,n.y=-n.y*s+s;var l=(new THREE.Box3).setFromObject(e).getSize(new THREE.Vector3);return{position:n,width:(7*l.x*r).toFixed(2),height:(7*l.y*r).toFixed(2)}}function ut(e,a){return Math.random()*(a-e)+e}function ft(e){return e*Math.PI/180}function mt(e,a){var t;a instanceof Float32Array?t=a:Array.isArray(a)&&(t=new Float32Array(a));var o=e.geometry.getAttribute("position");o.array=t,o.needsUpdate=!0}return e("body").waitForImages().progress((function(a,t,o){Ja=t;var n=parseInt(a/(t-(1-Fa-Ya))*100);e("img").length<=1&&(n=100),isNaN(n)&&(n=100),Xa=n,e(C+" span").text(n);for(var i=1;i<10-Ya+1;i++)n<i*(10-Ya+1)&&e("body").addClass("loaded"+i);TweenMax.set(w,{scale:1,x:0,y:0,fill:"rgba(255,255,255,0)",drawSVG:"0%",alpha:1}),V(n),console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+n+'%  ----- ["images"] )')})).done((function(){console.log("loadedPercent: "+Xa+", imageTotal: "+Ja),function(o,l){var c=function(){var l=G,c=l.length,p=function(e){if(e.lengthComputable)e.loaded,e.total},u=function(e){};l.forEach((function(l){$.load(l,(function(p){var u=parseInt(o+Math.round(100-o)/c);if(e("body").addClass("loaded"+(10-(c-1))),e(C+" span").text(u),V(u),l.indexOf("cave-webgl.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+u+'% ----- ["3d main object", "images"] )');var f=p.scene;f.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!0,map:K.load(U[0]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),sa.add(f),E.add(sa),sa.scale.setScalar(.7),sa.position.x=0,sa.position.y=-60,sa.position.z=-280,sa.rotation.x=-3.2,sa.rotation.y=0,sa.rotation.z=0,sa.loadingData={x:sa.position.x,y:sa.position.y,z:sa.position.z,rx:sa.rotation.x,ry:sa.rotation.y,rz:sa.rotation.z,sx:sa.scale.x,sy:sa.scale.y,sz:sa.scale.z},sa.scale.setScalar(na)}if(l.indexOf("brand.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+u+'% ----- ["3d sub object 1 (brand)", "3d main object", "images"] )');var m=p.scene;m.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:50,wireframe:!0,side:THREE.DoubleSide,map:K.load(U[6]),fog:!1}),e.castShadow=!0)})),ra.add(m),sa.add(ra),ra.scale.setScalar(30),ra.position.x=70,ra.position.y=60,ra.position.z=0,ra.rotation.x=3.3,ra.rotation.y=-5.6,ra.rotation.z=0}if(l.indexOf("stone-anim.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+u+'% ----- ["3d sub object 2 (stone)", "3d main object", "images"] )');var h=p.scene;h.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:1,wireframe:!1,map:K.load(U[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),la.add(h),sa.add(la),la.scale.setScalar(50),la.position.x=0,la.position.y=0,la.position.z=0,la.loadingData={x:la.position.x,y:la.position.y,z:la.position.z,rx:la.rotation.x,ry:la.rotation.y,rz:la.rotation.z,sx:la.scale.x,sy:la.scale.y,sz:la.scale.z}}l.indexOf("stone.glb")>=0&&(console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+u+'% ----- ["3d sub object 3 (stone for works)", "3d main object", "images"] )'),Z.load(N[0],(function(t){var o="",n=550,i=2*Math.PI/worksData.length,s=p.scene;s.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:1,wireframe:!1,map:K.load(U[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),s.material=new THREE.ShaderMaterial({uniforms:{},vertexShader:M,fragmentShader:R,transparent:!0,wireframe:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),s.scale.set(150,150,150),da.scale.setScalar(.2),da.position.x=100,da.position.y=420+Te,da.position.z=0,da.rotation.x=-1.6,da.origData={x:da.position.x,y:da.position.y,z:da.position.z,rx:da.rotation.x,ry:da.rotation.y,rz:da.rotation.z,sx:da.scale.x,sy:da.scale.y,sz:da.scale.z},worksData.forEach((function(e,a){var r,l,d,c,p,u,f,m,h,E=a+1,y=s.clone(),w=Math.sin(E*i)*n,x=Math.cos(E*i)*n,g=0;da.add((r=t,l=e.title,d="nucleus__worktitle-"+E,c=w,p=x,u=g,f=new THREE.TextGeometry(l,{font:r,size:30,height:1,curveSegments:5,bevelEnabled:!0,bevelThickness:1,bevelSize:2,bevelOffset:0,bevelSegments:5}),m=new THREE.MeshPhongMaterial({side:THREE.DoubleSide,map:K.load(U[7]),color:new THREE.Color(16777215)}),(h=new THREE.Mesh(f,m)).geometry.center(),h.geometry.computeBoundingSphere(),h.name=d,h.position.set(c+70,p-100,u-100),h.rotation.set(4.8,0,0),h.visible=!1,h)),da.add(y),y.name="nucleus__workmain-"+E,y.targetid=E,y.href=e.url,y.origData={x:y.position.x,y:y.position.y,z:y.position.z,rx:y.rotation.x,ry:y.rotation.y,rz:y.rotation.z,sx:y.scale.x,sy:y.scale.y,sz:y.scale.z},y.rotationSpeed=.006*Math.random(),y.position.set(w,x,g),y.rotation.set(1*Math.random(),0,1*Math.random());var T=new THREE.TetrahedronGeometry(2,0),b=K.load(e.cover);b.anisotropy=S.capabilities.getMaxAnisotropy(),b.generateMipmaps=!1,b.wrapS=b.wrapT=THREE.ClampToEdgeWrapping,b.minFilter=THREE.LinearFilter;var _=new THREE.MeshPhongMaterial({color:6710886,shininess:0,map:b,side:THREE.DoubleSide}),R=new THREE.Mesh(T,_);R.name="nucleus__workcover-"+E,R.visible=!1;var M=new THREE.Plane(new THREE.Vector3(0,0,1),0),C=new THREE.Vector2,H=new THREE.Vector3;C.set(1,1),ha.setFromCamera(C,v),ha.ray.intersectPlane(M,H),R.position.copy(H).add(new THREE.Vector3(10,-40,-80)),ca.add(R),o+='<div class="app-tooltip" id="app-workdesc__nucleus-'.concat(a,'"><h3>').concat(e.title,"</h3>").concat(e.desc,"</div>")})),0===e("#app-screen-detail__works .app-tooltip").length&&e("#app-tooltip__container").prepend(o),E.add(ca),da.position.y=2e3;var r=(te=da.children[1]).getWorldPosition(new THREE.Vector3),l=ca.children[0].getWorldPosition(new THREE.Vector3),d=new THREE.LineBasicMaterial({color:14540253}),c=[];c.push(l),c.push(r);var u=(new THREE.BufferGeometry).setFromPoints(c);(ee=new THREE.Line(u,d)).visible=!1,E.add(ee);var f=[];f.push(new THREE.Vector3(l.x,l.y,l.z+40)),f.push(r);var m=(new THREE.BufferGeometry).setFromPoints(f);(ae=new THREE.Line(m,d)).visible=!1,E.add(ae);for(var h=a?30:120,y=0;y<h;y++){var w=Math.sin(5*y)*(1e3*ut(.2,2)),x=Math.cos(5*y)*(1e3*ut(.2,2)),g=Math.tan(5*y)*(200*ut(.2,1)),T=new THREE.TetrahedronGeometry(15,0),b=new THREE.MeshPhongMaterial({color:6710886,shininess:3,wireframe:!1,map:K.load(U[6]),side:THREE.DoubleSide,fog:!1}),_=new THREE.Mesh(T,b);_.position.set(w,x,g),_.rotation.set(1*Math.random(),0,1*Math.random()),_.scale.setScalar(1*Math.random()),da.add(_)}sa.add(da)}))),100==u&&(TweenMax.to([C+" span",C+" strong"],1,{alpha:0,onComplete:function(){TweenMax.set(this.target,{css:{display:"none"}})}}),TweenMax.to(w,1,{scale:.1,x:16,y:16,fill:"#ffffff",ease:Power1.easeInOut}),TweenMax.to(ua.scale,1.5,{x:.1,y:.1,z:.1,ease:Power3.easeInOut}),TweenMax.to(ne.position,1,{y:-32,onComplete:function(){var a=Q[3].color.getHSL(Q[3]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){Q[3].color.setHSL(a.h,a.s,a.l)}}),TweenMax.to(sa.position,.5,{x:0,y:-15,z:.8,onComplete:function(){var a=pt(sa,v,S.domElement.width,S.domElement.height);n.querySelector(L).style.top=a.position.y+40+"px",e(L).delay(500).queue("fx",(function(){e(this).addClass("is-active")})),e(P).addClass("scene-ready"),e(z).addClass("scene-ready"),TweenMax.to(z,1.2,{alpha:1,ease:Power2.easeOut})}}),TweenMax.to(sa.scale,1.5,{delay:1,x:.035,y:.035,z:.035,ease:Power2.easeOut}),(new TimelineMax).to(sa.rotation,1.5,{x:-3.2,y:0,z:0,onComplete:function(){TweenMax.to(L,1.2,{alpha:1,ease:Power2.easeOut}),e(L).off("click.ENTER").on("click.ENTER",(function(){var a,o;a=ie.color.getHSL(ie),o=se.color.getHSL(se),TweenMax.to(a,1.2,{h:0,s:0,l:0,onUpdate:function(){ie.color.setHSL(a.h,a.s,a.l)},ease:Power2.easeIn}),TweenMax.to(o,1.2,{h:0,s:0,l:0,onUpdate:function(){se.color.setHSL(o.h,o.s,o.l)},ease:Power2.easeIn}),TweenMax.to(ne.scale,1,{x:na,y:na,z:na,ease:Power2.easeIn,onComplete:function(){TweenMax.to(ne.position,.5,{y:-Te});var e=Q[0].color.getHSL(Q[0]);TweenMax.to(e,.5,{h:1,s:1,l:1,onUpdate:function(){Q[0].color.setHSL(e.h,e.s,e.l)}});var a=Q[2].color.getHSL(Q[2]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){Q[2].color.setHSL(a.h,a.s,a.l)}});var t=Q[3].color.getHSL(Q[3]);TweenMax.to(t,.5,{h:0,s:0,l:0,onUpdate:function(){Q[3].color.setHSL(t.h,t.s,t.l)}})}}),e(P).removeClass("scene-ready").addClass("scene-start"),e(z).addClass("scene-start"),TweenMax.to(sa.rotation,1.2,{y:sa.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(la.rotation,1.2,{y:la.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(L,1.2,{alpha:0,onComplete:function(){var a;TweenMax.set(this.target,{css:{display:"none"}}),TweenMax.set(z,{css:{display:"none"}}),TweenMax.killAll(),function(){TweenMax.to(la.position,8,{delay:1,z:-3e3,onComplete:function(){sa.remove(la)}});var a=x.color.getHSL(x);TweenMax.to(a,3.5,{h:1,s:1,l:1,onUpdate:function(){x.color.setHSL(a.h,a.s,a.l)}}),r=!0,!0;var o=5,n=3.2;TweenMax.to(ua.scale,o,{x:.3,y:.3,z:.3,ease:CustomEase.create("custom","M0,0 C0,0 0.18896,-0.00276 0.30884,0.00136 0.36737,0.00338 0.40409,0.00477 0.45896,0.01577 0.50378,0.02476 0.53639,0.03458 0.5758,0.0549 0.61295,0.07407 0.64028,0.09366 0.66908,0.12417 0.70781,0.16517 0.73204,0.19964 0.76069,0.25068 0.80038,0.32141 0.82111,0.36969 0.85057,0.44758 0.88752,0.54527 0.90538,0.60421 0.93298,0.70622 0.96361,0.81946 1,1 1,1 ")}),TweenMax.to(ua.position,4,{z:120,ease:Power1.easeIn}),TweenMax.to(ua.scale,3.5,{z:40,ease:Power2.easeIn});var l={var:512};TweenMax.to(l,3,{var:0,onUpdate:function(){e(O).html("<em>"+Math.trunc(l.var)+"</em>")},onComplete:function(){TweenMax.to(O,.5,{alpha:0,onComplete:function(){e(O).closest(C).hide(),e(A).addClass("is-hide")}})},ease:Power2.easeOut});var d=[];ga.forEach((function(e,a){d.push(e.position)})),TweenMax.to(d,o-1,{z:-100,delay:n+1,onComplete:function(){i=!0}});var c=[];ba.forEach((function(e,a){c.push(e.position)})),TweenMax.to(c,o,{z:-100,delay:n,ease:Power2.easeOut}),TweenMax.to(sa.scale,o,{x:sa.loadingData.sx,y:sa.loadingData.sy,z:sa.loadingData.sz,ease:Power2.easeIn}),TweenMax.to(sa.position,2.5,{y:-20}),TweenMax.to(sa.position,o,{x:0,y:110,z:-115,delay:n,ease:Power2.easeIn}),TweenMax.to(sa.rotation,o,{x:-3,y:-.8,z:0,delay:n,ease:Power2.easeOut,onComplete:function(){var a;sa.origData={x:sa.position.x,y:sa.position.y,z:sa.position.z,rx:sa.rotation.x,ry:sa.rotation.y,rz:sa.rotation.z,sx:sa.scale.x,sy:sa.scale.y,sz:sa.scale.z},s=!0,t=!0,a=[],ga.forEach((function(e,t){a.push(e.scale)})),TweenMax.to(a,1.5,{x:function(e,a){return ga[e].speed*ga[e].origData.sx},y:function(e,a){return ga[e].speed*ga[e].origData.sy},z:function(e,a){return ga[e].speed*ga[e].origData.sz},repeat:-1,yoyo:!0}),e(".app-menu").addClass("is-active"),ot(!1),tt(!1,!0),Me.scale.setScalar(1),e(P).removeClass("scene-start").addClass("scene-end"),e(D).removeClass("scene-start").addClass("scene-end"),!0,at()}})}(),a=new THREE.AudioListener,v.add(a),Ye=new THREE.Audio(a),(new THREE.AudioLoader).load(B[0],(function(e){Ye.setBuffer(e),Ye.setLoop(!0),Ye.setVolume(.6),Ye.play()})),function(){for(var e=0;e<21;e++)Ha.push({initValue:THREE.Math.randFloat(-1,1),amplitude:THREE.Math.randFloat(1,3),speed:THREE.Math.randFloat(.5,2)});!function(e){var a=new THREE.PlaneGeometry(e-10,1,e-1,1);a.translate(0,.5,0),(Me=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:14540253,wireframe:!1,side:THREE.DoubleSide,transparent:!0,opacity:0}))).name="nucleus__audio-controller",E.add(Me);for(var t=new THREE.Geometry,o=0;o<Me.geometry.parameters.widthSegments+1;o++)t.vertices.push(a.vertices[o]);Se=new THREE.Line(t,new THREE.LineBasicMaterial({color:14540253,linewidth:4})),Me.add(Se);var n=new THREE.Plane(new THREE.Vector3(0,0,1),0),i=new THREE.Vector2,s=new THREE.Vector3;i.set(1,-1),ha.setFromCamera(i,v),ha.ray.intersectPlane(n,s),Me.position.copy(s).add(new THREE.Vector3(3,1,-10)),Me.scale.setScalar(.001)}(21)}(),d=!0}})}))}}).to(sa.rotation,25,{y:ft(360),ease:Linear.easeNone,repeat:-1})}})),c--}),p,u)}))};o<100&&Va.forEach((function(e){var a=n.createElement("video");a.src=e,a.addEventListener("loadedmetadata",(function(e){Wa++,console.log("videosTotal: "+Fa+", videosLoaded: "+Wa),console.log("videos loaded!"),Wa==Fa&&c()}),!1)}));Wa==Fa&&c()}(Xa)})),{init:function(){60,Ee=Y/X,1,1e4,(v=new THREE.PerspectiveCamera(60,Ee,1,1e4)).position.set(0,0,100),v.lookAt(new THREE.Vector3(0,0,0));var e=30*Math.PI/180;Te=(v.position.z+15)*Math.tan(e),ge=Te*v.aspect,1e3,ye=THREE.Math.degToRad(v.fov),we=2*Math.tan(ye/2)*1e3,xe=we*v.aspect,(E=new THREE.Scene).fog=new THREE.Fog(pa,.0025,250),Q[0]=new THREE.PointLight(0,5,0),Q[0].position.set(0,200,50),E.add(Q[0]),Q[2]=new THREE.PointLight(0,10,0),Q[2].position.set(100,200,-1100),E.add(Q[2]);var a=ft(25);Q[1]=new THREE.SpotLight(1797375,2,800,a,1,1),Q[1].position.set(5,-5,130),Q[1].castShadow=!0,Q[1].shadow.mapSize.width=1024,Q[1].shadow.mapSize.height=1024,Q[1].shadow.camera.near=.5,Q[1].shadow.camera.far=31,E.add(Q[1]),Q[3]=new THREE.PointLight(0,13,0),Q[3].position.set(0,20,700),E.add(Q[3]),Q[3].origData={x:Q[3].position.x,y:Q[3].position.y,z:Q[3].position.z},Q[4]=new THREE.DirectionalLight(16777215,10),Q[4].position.set(0,2e3,1e3),Q[4].visible=!1,E.add(Q[4]);var t=(new THREE.Color).setHSL(0,0,0);TweenMax.to(Q[4].color,1,{r:t.r,g:t.g,b:t.b,onComplate:function(){Q[4].visible=!0}}),(x=new THREE.PointLight(0,15,0)).position.set(0,0,600),E.add(x),x.origData={x:x.position.x,y:x.position.y,z:x.position.z},(ne=new THREE.Mesh(new THREE.CircleGeometry(1e3,32),new THREE.MeshPhongMaterial({emissive:pa}))).receiveShadow=!0,ne.position.set(0,-32,5),ne.rotation.x=ft(-95),E.add(ne),ne.position.y=2*-Te;var i=ft(35);(ie=new THREE.SpotLight(16777215,2,200,i,1,1)).position.set(5,162,5),ie.castShadow=!0,ie.shadow.mapSize.width=1024,ie.shadow.mapSize.height=1024,ie.shadow.camera.near=.5,ie.shadow.camera.far=31,E.add(ie),se=new THREE.AmbientLight(16777215,.05),E.add(se),(S=new THREE.WebGLRenderer({canvas:n.getElementById(J),alpha:!0,antialias:!0})).setSize(Y,X),S.shadowMap.enabled=!0,S.shadowMap.type=THREE.PCFSoftShadowMap,(ce=new THREE.ShaderPass(THREE.HorizontalBlurShader)).enabled=!1,ce.uniforms.h.value=.05,(pe=new THREE.ShaderPass(THREE.VerticalBlurShader)).enabled=!1,pe.uniforms.v.value=1/Y,(ue=new THREE.ShaderPass(THREE.BrightnessContrastShader)).enabled=!0,ue.uniforms.contrast.value=1.2;var s,r,l,d,c,p=new THREE.RenderPass(E,v),u=new THREE.ShaderPass(THREE.CopyShader);u.renderToScreen=!0,(de=new THREE.EffectComposer(S)).addPass(p),de.addPass(ce),de.addPass(pe),de.addPass(ue),de.addPass(u),nt(),s=new THREE.SphereGeometry(60,60,60),r=new THREE.MeshBasicMaterial({color:2105376,map:K.load(U[5]),side:THREE.DoubleSide}),(oe=new THREE.Mesh(s,r)).position.set(0,200,-4e3),oe.scale.setScalar(35),oe.scale.x=80,oe.scale.y=40,E.add(oe),tt(!0,!0),ot(!0),function(){be=new THREE.ShaderMaterial({uniforms:{time:{value:0},limits:{value:new THREE.Vector2(-400,Ca)},speed:{value:18}},vertexShader:T,fragmentShader:g,vertexColors:THREE.VertexColors});for(var e=[],a=0;a<=Sa;a++)e.push(1,1,0,0);(_e=new THREE.GridHelper(800,Sa,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),_e.material=be,E.add(_e),_e.position.set(0,60,-30),_e.origData={x:_e.position.x,y:_e.position.y,z:_e.position.z,rx:_e.rotation.x,ry:_e.rotation.y,rz:_e.rotation.z,sx:_e.scale.x,sy:_e.scale.y,sz:_e.scale.z},(Re=new THREE.GridHelper(800,Sa,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),Re.material=be,E.add(Re),Re.position.set(0,-60,-30),Re.origData={x:Re.position.x,y:Re.position.y,z:Re.position.z,rx:Re.rotation.x,ry:Re.rotation.y,rz:Re.rotation.z,sx:Re.scale.x,sy:Re.scale.y,sz:Re.scale.z},_e.position.z=3*we,Re.position.z=3*we,_e.scale.x=na,Re.scale.x=na}(),l=new THREE.BoxGeometry(1.5,1.5,1.5,0,0),d=new THREE.MeshPhongMaterial({flatShading:!0,transparent:!0,color:255}),c=function(e){for(var a=[],t=[],o=400,n=o,i=0;i<o;i++){a[i]=new THREE.Mesh(l,d),a[i].position.y=60,a[i].scale.set(1*Math.random(),1*Math.random(),1*Math.random()),t[i]=new THREE.Object3D,t[i].add(a[i]),t[i].rotation.z=i*(360/n)*Math.PI/180;var s=155*Math.random(),r=Math.random();t[i].position.z=s,t[i].speed=r,t[i].origData={x:t[i].position.x,y:t[i].position.y,z:t[i].position.z,rx:t[i].rotation.x,ry:t[i].rotation.y,rz:t[i].rotation.z,sx:t[i].scale.x,sy:t[i].scale.y,sz:t[i].scale.z},fa.push(t[i]),e.add(t[i])}},re=new THREE.Object3D,c(re),(le=new THREE.Object3D).add(re),le.rotation.z=360*Math.PI/180,ua.add(le),E.add(ua),ua.scale.setScalar(.08),it("sphere",15,"ball-fly"),it("sphere",80,"ball-pinprick"),it("sphere",3,"ball-nav"),Ge=new THREE.Object3D,Ue=new THREE.Object3D,Z.load(N[2],(function(e){var a,t,o=new THREE.Color(16777215);We={uTexture:{value:K.load(U[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Be={uTexture:{value:K.load(U[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Fe={uTexture:{value:K.load(U[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Ve={uTexture:{value:K.load(U[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var n=new THREE.ShaderMaterial({uniforms:We,vertexShader:_,fragmentShader:b,transparent:!0}),i=new THREE.ShaderMaterial({uniforms:Be,vertexShader:_,fragmentShader:b,transparent:!0}),s=new THREE.ShaderMaterial({uniforms:Fe,vertexShader:_,fragmentShader:b,transparent:!0}),r=new THREE.ShaderMaterial({uniforms:Ve,vertexShader:_,fragmentShader:b,transparent:!0}),l=function(l,d,c){var p=l,u=11,f=e.generateShapes(p,u),m=new THREE.ShapeBufferGeometry(f);m.computeBoundingBox(),a=-.5*(m.boundingBox.max.x-m.boundingBox.min.x),m.translate(a,0,0),"work"==c&&(t=new THREE.Mesh(m,i)),"about"==c&&(t=new THREE.Mesh(m,s)),"contact"==c&&(t=new THREE.Mesh(m,r)),t.position.z=0,t.position.y=1.7*u*d,t.name="nucleus__menu-"+c,Ge.add(t),Ge.position.z=-50,Ge.scale.setScalar(1.35),E.add(Ge);for(var h=[],v=0;v<f.length;v++){var y=f[v];if(y.holes&&y.holes.length>0)for(var w=0;w<y.holes.length;w++){var x=y.holes[w];h.push(x)}}f.push.apply(f,h);for(var g=THREE.SVGLoader.getStrokeStyle(.4,o.getStyle()),T=new THREE.Group,b=0;b<f.length;b++){var _=f[b].getPoints(),R=THREE.SVGLoader.pointsToStroke(_,g);R.translate(a,0,0);var M=new THREE.Mesh(R,n);T.add(M)}T.position.y=1.7*u*d,T.name="nucleus__menustroke-"+c,Ue.add(T),Ue.position.z=-50,Ue.scale.setScalar(1.35),E.add(Ue)};l("PROJECTS",1,"work"),l("ABOUT",0,"about"),l("CONTACT",-1,"contact")})),function(){var e=new THREE.CircleGeometry(64,64,64);Ce=function(a,t,o){var i=n.createElement("video");i.src=a;var s=new THREE.VideoTexture(i);s.minFilter=THREE.LinearFilter,s.magFilter=THREE.LinearFilter,s.format=THREE.RGBFormat,s.image.autoplay=!0,s.image.loop=!0,s.image.currentTime=0,s.image.muted=!0,s.image.play(),He={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-2,-1.3)},uAlpha:{value:0}};for(var r=new THREE.ShaderMaterial({uniforms:He,vertexShader:_,fragmentShader:b,transparent:!0}),l=new THREE.Mesh(e,r),d=0;d<60;d++){var c=200+5*Math.sin(d);l.geometry.faces[d].color=new THREE.Color("hsl("+Math.abs(c)+", 100%, 50%)")}return E.add(l),l.scale.setScalar(t),l}(Va[0],30);var a=new THREE.IcosahedronGeometry(1.2,1),t=new THREE.ShaderMaterial({uniforms:He,vertexShader:_,fragmentShader:b,transparent:!0,wireframe:!0,side:THREE.DoubleSide});Oe=new THREE.Mesh(a,t),Ce.add(Oe)}(),function(){Ne=st(0,0,0,1.5,0,0,10),E.add(Ne),Ne.scale.setScalar(na),je={uTexture:{value:K.load(U[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var e=new THREE.PlaneGeometry(4*ge,3*Te,32),a=new THREE.ShaderMaterial({uniforms:je,vertexShader:_,fragmentShader:b,transparent:!0});ze=new THREE.Mesh(e,a),E.add(ze),ke={uTexture:{value:K.load(U[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var t=new THREE.PlaneGeometry(2*ge,2*Te,32),o=new THREE.ShaderMaterial({uniforms:ke,vertexShader:_,fragmentShader:b,transparent:!0});(Ie=new THREE.Mesh(t,o)).position.z=50,E.add(Ie)}(),function(){var e=ga[0].origData,a=e.z+70;Xe=e.y;for(var t=new THREE.TetrahedronGeometry(1.5,0),o=new THREE.MeshStandardMaterial({color:1797375,roughness:.4,metalness:1,map:K.load(U[3]),side:THREE.DoubleSide}),n=0;n<50;n++){var i=e.x+ut(ge/2,ge),s=Xe+Te/2+Math.random()*Te/2,r=a-100+50*Math.random(),l=Math.random(),d=new THREE.Mesh(t,o);d.position.set(i,s,r),d.position.multiplyScalar(1*Math.random()),d.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),d.name="nucleus__tetrahedron-particles-"+n,d.speed=l,d.origData={x:d.position.x,y:d.position.y,z:d.position.z,rx:d.rotation.x,ry:d.rotation.y,rz:d.rotation.z,sx:d.scale.x,sy:d.scale.y,sz:d.scale.z},Aa.add(d),E.add(Aa)}var c=[];Aa.children.forEach((function(e,a){c.push(e.position)})),TweenMax.set(c,{y:"-="+3*Te})}(),o.addEventListener("resize",Qa,!1),n.getElementById(J).addEventListener("pointermove",qa,!1),n.getElementById(J).addEventListener("pointerdown",Ka,!1),n.getElementById(J).addEventListener("pointerup",$a,!1),o.addEventListener("pointermove",Za),o.addEventListener("pointerup",et)},render:function a(){requestAnimationFrame(a);var s=ta.getDelta();oa+=s,S.setClearColor(pa);var l,c,u=2*Je/o.innerWidth;if(o.innerHeight,($e=.002*Je)<-.1&&($e=-.1),$e>.1&&($e=.1),(Ze=.002*Qe)>.3&&(Ze=.3),Ze<-.3&&(Ze=-.3),ea+=.01*($e-ea),aa+=.01*(Ze-aa),Math.sin(3.5*ea),Math.cos(3.5*ea),Ma.uniforms.time.value+=1.5*s,be.uniforms.time.value=oa,3==Ge.children.length&&3==Ue.children.length&&(Ge.children[0].rotation.y=.2*u,Ue.children[0].rotation.y=.2*u,Ge.children[1].rotation.y=.3*-u,Ue.children[1].rotation.y=.3*-u,Ge.children[2].rotation.y=.4*u,Ue.children[2].rotation.y=.4*u),t&&(sa.rotation.y+=$e*s*.5),ra.rotation.y+=s*ut(.03,.8),la.rotation.y+=-.21*s,Ea&&(ga[0].rotation.y+=s*ut(.3,.8),ga[0].rotation.x+=s*ut(.5,1.4),ga[1].rotation.y+=s*ut(1,2.5),ga[1].rotation.x+=s*ut(.5,.9),ga[2].rotation.y+=s*ut(.2,.6),ga[2].rotation.x+=s*ut(.5,.8)),Oe&&(Oe.rotation.x+=.2*s,Oe.rotation.y+=.1*s),oe&&(oe.rotation.x+=5e-4),Ce&&(Ce.geometry.vertices.forEach((function(e,a){e.normalize().multiplyScalar(.15*ia.noise3D(.4*e.x+1e-4*Date.now(),.4*e.y,.4*e.z)+1)})),Ce.geometry.computeVertexNormals(),Ce.geometry.normalsNeedUpdate=!0,Ce.geometry.verticesNeedUpdate=!0),ee){var f=te.getWorldPosition(new THREE.Vector3),m=ee.geometry.attributes.position.array;mt(ee,[m[0],m[1],m[2],f.x,f.y,f.z]);var y=ae.geometry.attributes.position.array;mt(ae,[y[0],y[1],y[2],f.x,f.y,f.z])}if(ca&&ca.children.forEach((function(e){e.rotation.y+=.005})),da.children.forEach((function(e){e.name.includes("nucleus__workmain-")&&(e.rotation.x+=e.rotationSpeed)})),da.children.forEach((function(e){e.name.includes("nucleus__worktitle-")&&(e.rotation.y+=h?.01:.001)})),da.rotation.z+=h?.01:.001,(he=ha.intersectObjects(da.children,!0)).length>0){if(ve!=he[0].object&&!he[0].object.name.includes("nucleus__worktitle-")){var w=he[0].object.parent.parent.parent.parent;if(null!==w){console.log("onPointerMove: ",w.name),ve=he[0].object,TweenMax.to(w.scale,.3,{x:180,y:180,z:180}),W.addClass("is-hover");var x=E.getObjectByName("nucleus__workcover-"+w.targetid);ca.children.forEach((function(e){e.visible=!1})),x.visible=!0,te=w,ee.visible=!0,ae.visible=!0;var g=pt(w,v,S.domElement.width,S.domElement.height),T=n.querySelector("#app-workdesc__nucleus-".concat(w.targetid-1));T.style.top=g.position.y+"px",T.style.left=g.position.x+"px",T.style.transform="translate("+g.width/2+"px, "+g.height/2+"px)",[].slice.call(n.querySelectorAll("#app-screen-detail__works .app-tooltip")).forEach((function(e){e.classList.remove("is-hover")})),T.classList.add("is-hover")}}}else{if(ve){var b=ve.parent.parent.parent.parent;null!==b&&(TweenMax.to(b.scale,.3,{x:b.origData.sx,y:b.origData.sy,z:b.origData.sz}),W.removeClass("is-hover"),ca.children.forEach((function(e){e.visible=!1})),ee.visible=!1,ae.visible=!1,[].slice.call(n.querySelectorAll("#app-screen-detail__works .app-tooltip")).forEach((function(e){e.classList.remove("is-hover")})))}ve=null}if(d&&(Ha.forEach((function(e,a){Me.geometry.vertices[a].y=2.5+Math.sin((oa+e.initValue)*e.speed)*e.amplitude})),Me.geometry.verticesNeedUpdate=!0,Se.geometry.verticesNeedUpdate=!0),r?ba.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-ge-80&&(e.position.x=ge/2)})):ba.forEach((function(e,a){e.rotation.y+=.001})),_a.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-ge-80&&(e.position.x=ge/2)})),fa.forEach((function(e,a){e.rotation.z+=.2*e.speed*s})),p&&Aa.children.forEach((function(e,a){e.rotation.x+=.01,e.rotation.y+=.02,e.position.y+=-3*e.speed*.2,e.position.y<-Xe-80&&(e.position.y=Xe+Te/2)})),ha.setFromCamera(ma,v),va=ga.concat(Ge.children).concat(Ue.children),Ha.length>0&&(va=va.concat(Me)),(fe=ha.intersectObjects(va)).length>0){if(me!=fe[0].object&&i){if(me=fe[0].object,W.addClass("is-hover"),me.name.indexOf("nucleus__menuball-")>=0)switch(me&&me.material.emissive.setHex(me.currentHex),me.currentHex=me.material.emissive.getHex(),me.material.emissive.setHex(16711680),me.material.wireframe=!0,me.name){case"nucleus__menuball-0":l=[],c=[],ba.forEach((function(e,a){l.push(e.position),c.push(e.scale)})),TweenMax.to(Ta[0].scale,.2,{x:3,y:3,z:3});break;case"nucleus__menuball-1":!function(){var e=[],a=[];ba.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(Ta[1].scale,.2,{x:2,y:2,z:2})}();break;case"nucleus__menuball-2":!function(){var e=[],a=[];ba.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(Ta[2].scale,.2,{x:2,y:2,z:2})}()}me.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&e(".app-topnav__wrapper").hasClass("scene-start")&&("nucleus__menu-work"==me.name&&TweenMax.to(Be.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-about"==me.name&&TweenMax.to(Fe.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-contact"==me.name&&TweenMax.to(Ve.uAlpha,.5,{value:1,ease:Power2.easeOut})),me.name.indexOf("nucleus__menu-")>=0&&(e("body").hasClass("primarymenu-active")||!e(".app-topnav__wrapper").hasClass("scene-start"))&&W.removeClass("is-hover")}}else me&&(W.removeClass("is-hover"),me.name.indexOf("nucleus__menuball-")>=0&&(me.material.emissive.setHex(me.currentHex),me.material.wireframe=!1),me.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&e(".app-topnav__wrapper").hasClass("scene-start")&&("nucleus__menu-work"==me.name&&TweenMax.to(Be.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-about"==me.name&&TweenMax.to(Fe.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-contact"==me.name&&TweenMax.to(Ve.uAlpha,.5,{value:0,ease:Power2.easeOut})),TweenMax.to([Ta[0].scale,Ta[1].scale,Ta[2].scale],.2,{x:1.5,y:1.5,z:1.5})),me=null;de.render()},getRendererCanvasID:function(){return J},getScene:function(){return E},getCamera:function(){return v}}}();Y.init(),Y.render()},e.MAIN.pageLoaded=function(){},e.components.documentReady.push(e.MAIN.documentReady),e.components.pageLoaded.push(e.MAIN.pageLoaded))}(n,jQuery,window,document);function O(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,a,t){return a&&O(e.prototype,a),t&&O(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}!function(e,a,t,o){null!==t.AJAX_PUSH_CONTENT&&(e.AJAX_PUSH_CONTENT=e.AJAX_PUSH_CONTENT||{},e.AJAX_PUSH_CONTENT.version="0.1.0custom",e.AJAX_PUSH_CONTENT.documentReady=function(e){var a,n="[data-ajax-push-content],[data-primary-pagination],[data-cat-id],[data-tag-id],[data-archive-id],[data-author-id],[data-temp-id],[data-id],[data-homepage]",s=[],r={container:"#app-ajax-popwin-page-container",target:"#app-ajax-page-container",loading:'<div class="my-loader"><span class="app-loader-spinner"></span></div>',method:"GET"},l=(o.title,t.location.href),d=0;TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var c=function(e){console.log("detail progress: "+e)},p=function(e){e()},u=function(e){"hide"==e&&(TweenMax.to(".app-detail-transitionMask",.3,{delay:1,css:{opacity:0,display:"none"}}),TweenMax.to(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],.5,{opacity:1})),"show"==e&&TweenMax.to(".app-detail-transitionMask",.3,{css:{opacity:1,display:"block"}})};function f(o,n,r,l,p,f,m,h){if(0==o.length)return!1;"undefined"!==L(p)&&""!=p||(p="POST"),e.ajax({timeout:15e3,url:l,method:p,dataType:"html",data:{action:"load_singlepages_ajax_content"},beforeSend:function(){e("body, .uix-menu-mobile__toggle").removeClass("js-uix-menu-opened is-opened"),c(0),u("show"),(m||h)&&e("#app-loading").removeClass("is-active"),m&&(e("#app-ajax-popwin-page-mask").addClass("is-active"),e("#app-ajax-popwin-page-mask--list").hasClass("is-active")&&e("#app-ajax-popwin-page-mask--list").removeClass("is-active")),h&&e("#app-ajax-popwin-page-mask--list").addClass("is-active"),m||h||(e("#app-loader-mask--in").addClass("is-active"),setTimeout((function(){e("#app-loader-mask").hasClass("is-active")&&(e("#app-loader-mask, #app-loading").removeClass("is-active"),e("#app-loader-mask").css({opacity:1,display:"block"}))}),1e3))}}).done((function(r){var l,p=n?e(r).find(n).html():"";s=[],e(r).find("img").each((function(){s.push({url:this.src,id:"img-"+i.create(),type:"img"})})),e(r).find(".uix-video__slider > video").each((function(){var a=e(this).find("source:first").attr("src");"undefined"===L(a)&&(e(this).attr("src"),function(e){throw new TypeError('"'+e+'" is read-only')}("_src")),s.push({url:a,id:"video-"+i.create(),type:"video"})}));var v=1;0==s.length?(c(l=100),u("hide")):(c(0),u("hide"));var E=function(e){e.url,e.w,e.h;l=parseInt(v/s.length*100),console.log("progress: "+l+"%"),isNaN(l)&&(l=100),d=l,c(l),u("hide");return v++,l},y=function(){!function(a,t,o,n,i,s){if(console.log("loadedProgress: "+d),d<100)return!1;var r=function(){i||s||e("#app-loader-mask").hasClass("is-active")||e("#app-loader-mask").addClass("is-active"),e("#app-loading").hasClass("is-active")||e("#app-loading").addClass("is-active"),i&&(e("#app-ajax-popwin-page-container, .app-close-btn__wrapper").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").addClass("is-loaded")),s&&(e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").addClass("is-loaded")),a.html(t).promise().done((function(){e("#app-ajax-popwin-page-container").addClass("app-none-bg").find("#uix-maincontent").addClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").addClass("app-none-bg"),n&&n.data("request-running",!1)}))};i||s?r():TweenMax.set("#app-loader-mask--in",{delay:2,css:{opacity:0,display:"none"},onComplete:function(){e(this.target).removeClass("is-active").css({opacity:1,display:"block"}),r()}})}(o,p,e(r).filter("title").text(),f,m,h)};(function(){for(var a=[],t=function(t){"img"==s[t].type?a.push(new Promise((function(e,a){var o=new Image;o.crossOrigin="anonymous",o.src=s[t].url,o.onload=function(a){return"undefined"===L(a.path)?e({w:0,h:0,url:a.target.currentSrc}):e({w:a.path[0].naturalWidth,h:a.path[0].naturalHeight,url:a.path[0].currentSrc})}})).then(E)):a.push(new Promise((function(a,o){return e("#"+s[t].id).one("loadedmetadata",a),a({url:s[t].url})})).then(E))},o=0;o<s.length;o++)t(o);return Promise.all(a)})().then((function(e){clearInterval(a),y()}));var w=(new Date).getTime();a&&clearInterval(a),a=setInterval((function(){((new Date).getTime()-w)/1e3>=10&&(console.log("Page load timeout!"),htmlCode.indexOf("<body")>=0?t.location.href=location.href:u("hide"),clearInterval(a),y())}),500)})).fail((function(e,a,o){t.location.href=l}))}e(o).off("click.AJAX_PUSH_CONTENT").on("click.AJAX_PUSH_CONTENT",n,(function(a){a.preventDefault(),setTimeout((function(){}),500),TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var t=e(this),o=t.attr("href"),n=t.data("ajax-push-content"),i=!!e(this).hasClass("app-popwin"),s=!!e(this).hasClass("app-popwin--list");if(d=0,"undefined"==L(n)&&(n=r),"undefined"===L(o)&&(o=t.closest("a").attr("href")),!t.data("request-running"))return t.data("request-running",!0),history.pushState?history.pushState(null,null,o):location.hash=o,f(e(n.container),n.target,n.loading,o,n.method,t,i,s),!1})),t.addEventListener("popstate",(function(a){var t=null,o=location.href;e(n).each((function(){this.href===location.href&&(t=this,o=this.href)})),null==t&&e(n).each((function(){var a=e(this).data("ajax-push-content");"undefined"!=L(a)&&p((function(){e(a.container).html(""),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").removeClass("is-loaded")}))}));var i=e(t).data("ajax-push-content"),s=!!e(t).hasClass("app-popwin"),r=!!e(t).hasClass("app-popwin--list");"undefined"!=L(i)&&f(e(i.container),i.target,i.loading,o,i.method,e(t),s,r)})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN",".app-close-btn__wrapper.is-loaded",(function(){var a=e(this);p((function(){var t;a.prev("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").prev("#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST",".app-close-btn__wrapper--list.is-loaded",(function(){var a=e(this);p((function(){a.prev("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container--list").prev("#app-ajax-popwin-page-mask--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER","#app-ajax-popwin-page-mask.is-loaded",(function(){var a=e(this);p((function(){var t;a.next("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").next(".app-close-btn__wrapper").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER","#app-ajax-popwin-page-mask--list.is-loaded",(function(){var a=e(this);p((function(){a.next("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container--list").next(".app-close-btn__wrapper--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))}))},e.components.documentReady.push(e.AJAX_PUSH_CONTENT.documentReady))}(n,jQuery,window,document)})()})();
//# sourceMappingURL=js/uix-kit.min.js.map