/*! For license information please see uix-kit.min.js.LICENSE.txt */
(()=>{var e={925:()=>{!function(e){"use strict";e.fn.UixParallax=function(a){var t=e.extend({speed:.25,transition:"all 0.4s cubic-bezier(0, 0, 0.34, 0.96) 0s",bg:{enable:!0,xPos:"50%"}},a);this.each((function(){var a=t.bg,o=e(this),n="50%",i=-parseFloat(t.speed);a&&(a=t.bg.enable,n=t.bg.xPos),o.css({transition:"none"}),e(window).on("scroll.UixParallax touchmove.UixParallax",(function(e){var s;s=o[0].getBoundingClientRect().top,a?TweenMax.set(o,{css:{"background-position":n+" "+(0-s*i)+"px",transition:t.transition}}):TweenMax.set(o,{css:{transform:"matrix(1, 0, 0, 1, 0, "+(0-s*i)+")",transition:t.transition}})})),a?TweenMax.set(o,{backgroundPosition:n+" "+-o.offset().top*i+"px"}):TweenMax.set(o,{y:0})}))}}(jQuery)}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var i=a[o]={exports:{}};return e[o](i,i.exports,t),i.exports}(()=>{"use strict";function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}"undefined"==typeof APP_ROOTPATH?("",""):(APP_ROOTPATH.templateUrl.replace(/\/\s*$/,""),APP_ROOTPATH.homeUrl.replace(/\/\s*$/,""),APP_ROOTPATH.ajaxUrl.replace(/\/\s*$/,""));try{document.addEventListener("test",null,{get passive(){!0}})}catch(e){}var a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=/(android)/i.test(navigator.userAgent),n=(navigator.userAgent.match(/(iPhone|iPod|Android|ios|Mobile)/i),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),!!window.ActiveXObject||window,function(a,t,o){var n={},i={documentReady:[],pageLoaded:[]};function s(t){t="undefined"==e(t)?a:t,i.documentReady.forEach((function(e){e(t)}))}function r(t){t="object"==e(t)?a:t,i.pageLoaded.forEach((function(e){e(t)}))}return 0==a("img").length&&a("body").prepend('<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" style="display:none">'),a.isFunction(a.fn.waitForImages)?a("body").waitForImages(r):a(t).on("load",r),a(o).ready(s),n.setContext=function(t){var o=a;return"undefined"!==e(t)?function(e){return a(t).find(e)}:o},n.components=i,n.documentReady=s,n.pageLoaded=r,n}($,window,document)),i=i||function(){function e(){}return e.version="0.0.1",e.create=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0;return("x"==e?a:3&a|8).toString(16)}))},e}(),s=s||function(){function e(){}return e.version="0.0.1",e.evaluate=function(e){var a=e.replace(/\s/g,"").split(""),t=[],o=[],n=0,i=!0;t[n]="";for(var s=0;s<a.length;s++)isNaN(parseInt(a[s]))&&"."!==a[s]&&!i?(o[n]=a[s],t[++n]="",i=!0):(t[n]+=a[s],i=!1);e=parseFloat(t[0]);for(var r=0;r<o.length;r++){var l=parseFloat(t[r+1]);switch(o[r]){case"+":e+=l;break;case"-":e-=l;break;case"*":e*=l;break;case"/":e/=l}}return e},e}(),r=r||function(){function a(){}return a.version="0.0.1",a.getTransitionDuration=function(a){if("undefined"===e(a))return 0;var t=window.getComputedStyle(a),o=t.webkitTransitionDuration,n=t.webkitTransitionDelay;return"undefined"!=e(o)?(o=o.indexOf("ms")>-1?parseFloat(o):1e3*parseFloat(o),n=n.indexOf("ms")>-1?parseFloat(n):1e3*parseFloat(n),o):0},a.getAbsoluteCoordinates=function(e){var a=window.innerWidth,t=null,o=null;return document.getElementsByTagName("body")[0].className.match(/rtl/)?(t=0==e.offsetLeft?a-(e.parentElement.offsetLeft+e.parentElement.offsetWidth):a-(e.offsetLeft+e.offsetWidth),o=0==e.offsetTop?a-(e.parentElement.offsetTop+e.parentElement.offsetHeight):a-(e.offsetTop+e.offsetHeight)):(t=0==e.offsetLeft?e.parentElement.offsetLeft:e.offsetLeft,o=0==e.offsetTop?e.parentElement.offsetTop:e.offsetTop),{left:t,top:o}},a}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,a,t){return a&&d(e.prototype,a),t&&d(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.fn.UixModuleFilter=function(a){var t=e.extend({destroy:!1,add:{moduleName:"OLD_MODULE_NAME",pageLoaded:!1,version:"0.0.1",callback:function(){}}},a);this.each((function(){if(t.destroy&&"[object String]"==Object.prototype.toString.call(t.destroy)){var a=t.destroy;"undefined"!=l(n[a])&&delete n[a]}if(t.add&&"[object Object]"==Object.prototype.toString.call(t.add)&&t.add.hasOwnProperty("pageLoaded")){var o=t.add.moduleName;if("undefined"!=l(n[o]))console.log("The module already exists, please destroy the old module or change the new module name.");else{if(!t.add.pageLoaded||0==t.add.pageLoaded){var i=(r=n,jQuery,window,document,r[o]=r[o]||{},r[o].version=t.add.version,r[o].documentReady=function(e){t.add.callback()},r.components.documentReady.push(r[o].documentReady),i);n[o].documentReady(e)}if(t.add.pageLoaded||1==t.add.pageLoaded){var s=function(e,a,n,i){return e[o]=e[o]||{},e[o].version=t.add.version,e[o].pageLoaded=function(){t.add.callback()},e.components.pageLoaded.push(e[o].pageLoaded),s}(n,jQuery,window,document);n[o].pageLoaded()}}}var r}))}}(jQuery),function(e){e.fn.UixApplyAsyncScripts=function(a){var t=e.extend({scrollReveal:!0,ajaxPostList:!0,ajaxDDList:!0,counterAnim:!0,lightBox:!0},a);this.each((function(){n.MAIN&&n.MAIN.pageLoaded(),n.COMMON_HEIGHT&&n.COMMON_HEIGHT.pageLoaded(),n.ADVANCED_SLIDER&&n.ADVANCED_SLIDER.pageLoaded(),n.ADVANCED_SLIDER_FILTER&&n.ADVANCED_SLIDER_FILTER.pageLoaded(),n.FULL_WIDTH_COLUMN_TO_EDGE&&n.FULL_WIDTH_COLUMN_TO_EDGE.pageLoaded(),n.STICKY_EL&&n.STICKY_EL.pageLoaded(),n.TEXT_EFFECT&&n.TEXT_EFFECT.pageLoaded(),n.TIMELINE&&n.TIMELINE.pageLoaded(),n.HYBRID_CONTENT_SLIDER&&n.HYBRID_CONTENT_SLIDER.pageLoaded(),n.MAIN&&n.MAIN.documentReady(e),n.TABLE&&n.TABLE.documentReady(e),n.TABLE_SORTER&&n.TABLE_SORTER.documentReady(e),n.MODAL_DIALOG&&n.MODAL_DIALOG.documentReady(e),n.PARALLAX&&n.PARALLAX.documentReady(e),n.VIDEOS&&n.VIDEOS.documentReady(e),n.BODY_AND_HEADER&&n.BODY_AND_HEADER.documentReady(e),n.SET_BG&&n.SET_BG.documentReady(e),n.GET_CUSTOM_ATTRS&&n.GET_CUSTOM_ATTRS.documentReady(e),n.PAGINATION&&n.PAGINATION.documentReady(e),n.FORM&&n.FORM.documentReady(e),n.FLEXSLIDER&&n.FLEXSLIDER.documentReady(e),n.RETINA&&n.RETINA.documentReady(e),n.SHOW_MORELESS&&n.SHOW_MORELESS.documentReady(e),n.DROPDOWN_MENU&&n.DROPDOWN_MENU.documentReady(e),n.DROPDOWN_MENU2&&n.DROPDOWN_MENU2.documentReady(e),n.ACCORDION&&n.ACCORDION.documentReady(e),n.GALLERY&&n.GALLERY.documentReady(e),n.IMAGE_SHAPES&&n.IMAGE_SHAPES.documentReady(e),n.PERIODICAL_SCROLL&&n.PERIODICAL_SCROLL.documentReady(e),n.PRICING&&n.PRICING.documentReady(e),n.PROGRESS_BAR&&n.PROGRESS_BAR.documentReady(e),n.PROGRESS_LINE&&n.PROGRESS_LINE.documentReady(e),n.ROTATING_EL&&n.ROTATING_EL.documentReady(e),n.SMOOTH_SCROLLING_ANCHORLINK&&n.SMOOTH_SCROLLING_ANCHORLINK.documentReady(e),n.TABS&&n.TABS.documentReady(e),n.TEAM_FOCUS&&n.TEAM_FOCUS.documentReady(e),n.LAVA_LAMP_STYLE_MENU&&n.LAVA_LAMP_STYLE_MENU.documentReady(e),n.CIRCLE_LAYOUT&&n.CIRCLE_LAYOUT.documentReady(e),n.MULTI_ITEMS_CAROUSEL&&n.MULTI_ITEMS_CAROUSEL.documentReady(e),n.THREE_BACKGROUND&&n.THREE_BACKGROUND.documentReady(e),n.THREE_CAROUSEL&&n.THREE_CAROUSEL.documentReady(e),n.THREE_LIQUID_SCROLLSPY_SLIDER&&n.THREE_LIQUID_SCROLLSPY_SLIDER.documentReady(e),t.scrollReveal&&n.SCROLL_REVEAL&&n.SCROLL_REVEAL.documentReady(e),t.ajaxPostList&&n.POST_LIST_AJAX&&n.POST_LIST_AJAX.documentReady(e),t.ajaxDDList&&n.DYNAMIC_DD_LIST&&n.DYNAMIC_DD_LIST.documentReady(e),t.counterAnim&&n.COUNTER&&n.COUNTER.documentReady(e),t.lightBox&&n.LIGHTBOX&&n.LIGHTBOX.pageLoaded(),e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery),function(e){e.fn.UixApplyAsyncAllScripts=function(a){var t=e.extend({runAll:!0},a);this.each((function(){var a=n.components.pageLoaded,o=n.components.documentReady;if(t.runAll){for(var i=0;i<a.length;i++)a[i]();for(var s=0;s<o.length;s++)o[s](e)}e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery);!function(e,a,t,o){null!==t.BODY_AND_HEADER&&(e.BODY_AND_HEADER=e.BODY_AND_HEADER||{},e.BODY_AND_HEADER.version="0.0.7",e.BODY_AND_HEADER.documentReady=function(e){if(e("body").hasClass("onepage"))return!1;var a=e(t),o=t.innerWidth;t.innerHeight;function n(a){var t=e(".uix-header__placeholder.js-uix-header__placeholder-autoheight");a>768?(t.css("height",e(".uix-header__container").outerHeight(!0)+"px"),e("body").removeClass("is-mobile")):(t.css("height",0),e("body").addClass("is-mobile"))}n(o),a.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}));var i=e(".uix-header__container, .uix-header__placeholder");a.off("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER").on("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER",(function(){e(this).scrollTop()>=220?i.addClass("is-fixed"):i.removeClass("is-fixed")}))},e.components.documentReady.push(e.BODY_AND_HEADER.documentReady))}(n,jQuery,window,document);function p(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,a,t){return a&&p(e.prototype,a),t&&p(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e,a,t,o){null!==t.COMMON_HEIGHT&&(e.COMMON_HEIGHT=e.COMMON_HEIGHT||{},e.COMMON_HEIGHT.version="0.0.3",e.COMMON_HEIGHT.pageLoaded=function(){var e=a(t),o=t.innerWidth;t.innerHeight;function n(e){a(".js-uix-common-height").each((function(){var t=a(this),o="[class*=col-], [class*=uix-core-grid__col-]",n=0;t.children(o).each((function(){var e=a(this);e.find("img").each((function(){"inline"==a(this).parent("a").css("display")&&a(this).parent("a").css("display","inline-block")})),(e.hasClass("max-height")||e.height()>n)&&(n=e.outerHeight())})),e>768?t.children(o).each((function(){a(this).css("height",n)})):t.children(o).each((function(){a(this).css("height","auto")}))}))}n(o),e.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}))},e.components.pageLoaded.push(e.COMMON_HEIGHT.pageLoaded))}(n,jQuery,window,document);function f(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,a,t){return a&&f(e.prototype,a),t&&f(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(e,a,t,o){null!==t.GET_CUSTOM_ATTRS&&(e.GET_CUSTOM_ATTRS=e.GET_CUSTOM_ATTRS||{},e.GET_CUSTOM_ATTRS.version="0.0.1",e.GET_CUSTOM_ATTRS.documentReady=function(e){e("[data-my-custom-datas]").each((function(){var a=e(this).attr(),t="";e.each(a,(function(e,a){e.indexOf("data-custom-field-")>=0&&(t+='"'+e.replace("data-custom-field-","")+'": "'+a+'", ')})),t=t.replace(/,\s*$/,"")}))},e.components.documentReady.push(e.GET_CUSTOM_ATTRS.documentReady))})(n,jQuery,window,document),t(925);function h(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,a,t){return a&&h(e.prototype,a),t&&h(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}!function(e,a,t,o){null!==t.SET_BG&&(e.SET_BG=e.SET_BG||{},e.SET_BG.version="0.0.6",e.SET_BG.documentReady=function(e){var a=e(t),o=t.innerWidth,n=t.innerHeight;function i(a,t){e("[data-bg]").each((function(){var a=e(this),t=a.data("bg");if("undefined"===x(t)&&(t={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",position:"top left",size:"cover",repeat:"no-repeat",fill:!1,parallax:0,transition:"none 0s ease 0s",move:!1}),t){var o=t.src,n=t.position,i=t.size,s=t.repeat,r=t.transition,l=t.parallax,d=t.move;"undefined"===x(n)&&(n="top left"),"undefined"===x(i)&&(i="cover"),"undefined"===x(s)&&(s="no-repeat"),"undefined"===x(r)&&(r="none 0s ease 0s"),"undefined"===x(d)&&(d=!1),l&&"undefined"!=x(l)&&0!=l&&(n=n.replace("top","50%"));var c="none",p="infinite";if(d&&"[object Object]"==Object.prototype.toString.call(d)){switch(d.loop||(p="1 forwards"),n="0 0",d.dir){case"top":c="js-uix-cssanim--move-t "+parseInt(d.speed)+"s "+"linear "+p;break;case"bottom":c="js-uix-cssanim--move-b "+parseInt(d.speed)+"s "+"linear "+p;break;case"left":c="js-uix-cssanim--move-l "+parseInt(d.speed)+"s "+"linear "+p;break;case"right":c="js-uix-cssanim--move-r "+parseInt(d.speed)+"s "+"linear "+p}0==e("#js-uix-cssanim--move-t").length&&e('<style id="js-uix-cssanim--move-t">').text("@keyframes js-uix-cssanim--move-t{from{background-position:0 0;}to{background-position:0 -19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-b").length&&e('<style id="js-uix-cssanim--move-b">').text("@keyframes js-uix-cssanim--move-b{from{background-position:0 0;}to{background-position:0 19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-l").length&&e('<style id="js-uix-cssanim--move-l">').text("@keyframes js-uix-cssanim--move-l{from{background-position:0 0;}to{background-position:-19999px 0;}").appendTo("head"),0==e("#js-uix-cssanim--move-r").length&&e('<style id="js-uix-cssanim--move-r">').text("@keyframes js-uix-cssanim--move-r{from{background-position:0 0;}to{background-position:19999px 0;}").appendTo("head")}"undefined"!=x(o)&&""!=o&&(t.fill?Modernizr.cssanimations&&a.css({background:"url("+o+") "+s,"background-size":i,"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",animation:c}):a.css({"background-image":"url("+o+")","background-position":n,"background-size":i,"background-repeat":s,animation:c}),l&&"undefined"!=x(l)&&0!=l&&a.UixParallax({speed:l,transition:r,bg:{enable:!0,xPos:"50%"}}))}}))}i(o,n),a.on("resize",(function(){t.innerWidth!=o&&(o=t.innerWidth,n=t.innerHeight,i(o,n))}))},e.components.documentReady.push(e.SET_BG.documentReady))}(n,jQuery,window,document);function E(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,a,t){return a&&E(e.prototype,a),t&&E(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}!function(e,a,t,n){null!==t.VIDEOS&&(e.VIDEOS=e.VIDEOS||{},e.VIDEOS.version="0.1.3",e.VIDEOS.documentReady=function(e){e(t);var a=t.innerWidth,i=t.innerHeight;e(".uix-video").each((function(){var t=e(this),n=t.find("video").attr("id"),i="videocover-"+n,s=t.closest("[data-embed-video-wrapper]").width(),r=t.data("embed-video-autoplay"),l=t.data("embed-video-loop"),d=t.data("embed-video-controls"),c=t.data("embed-video-width"),p=t.data("embed-video-height");if(t.find(".video-js").attr("id",n),"undefined"===w(r)&&(r=!0),"undefined"===w(l)&&(l=!0),"undefined"===w(d)&&(d=!1),"undefined"!==w(c)&&"auto"!=c||(c=s),"undefined"!==w(p)&&"auto"!=p||(p=s/1.77777777777778),0==e("#"+i).length){e('<div id="'+i+'" class="uix-video__cover"><span class="uix-video__cover__placeholder" style="background-image:url('+t.find("video").attr("poster")+')"></span><span class="uix-video__cover__playbtn"></span></div>').insertBefore(t);var u=Modernizr.touchevents?"touchstart":"click";e("#"+i+" .uix-video__cover__playbtn").on(u,(function(a){a.preventDefault(),f.play(),e("#"+i).hide()})),r&&!o||e("#"+i+" .uix-video__cover__playbtn").show()}a<=768&&t.find(".video-js").attr({playsinline:"true"});var f=videojs(n,{width:c,height:p,loop:l,autoplay:r},(function(){var a=function(e){var a,o,n=e.videoWidth(),i=e.videoHeight();o=i*((a=s)/n),isNaN(a)||isNaN(o)||(e.height(o),e.width(a)),t.css("visibility","visible"),t.find(".vjs-loading-spinner, .vjs-big-play-button").hide()};a(this),this.on("loadedmetadata",(function(){a(this)})),r&&(this.muted(!0),this.play()),d||this.controls(!1);this.on("timeupdate",(function(){this.duration()>0&&(!0,this.currentTime()>0&&(!0,this.off("timeupdate"),e("#"+i).hide()))}))}))}));var s="[data-video-win]";e(s).each((function(){var a=e(this),t="",o=a.data("video-mp4"),n=a.data("video-webm"),i=a.data("video-ogv"),s=a.data("video-poster"),r=a.data("modal-id"),l=r+"--videopush";if("undefined"===w(o)&&(o=""),"undefined"===w(n)&&(n=""),"undefined"===w(i)&&(i=""),a.find("[data-video-iframe]").length>0&&(t=a.find("[data-video-iframe]").html()),0==e("#"+r).length){var d="",c="",p="",u="";""!=o&&(c='<source src="'+o+'" type="video/mp4">'),""!=n&&(p='<source src="'+n+'" type="video/webm">'),""!=i&&(u='<source src="'+i+'" type="video/ogv">'),d+='<div class="uix-modal-box is-fullscreen is-video" role="dialog" tabindex="-1" aria-hidden="true" id="'+r+'">',d+='<button type="button" class="uix-modal-box__close" data-modal-close-trigger="true"></button>',d+='<div class="uix-modal-box__content" role="document">',d+='<div class="uix-modal-box__video-waiting"></div><div class="uix-modal-box__video-container" data-video-player-init="0">',a.find("[data-video-iframe]").length>0&&""!=t?(d+='<div id="'+l+'" class="embed-responsive embed-responsive-16by9">',d+=t,d+="</div>"):(d+='<video id="'+l+'" class="video-js vjs-default-skin" controls poster="'+s+'">',d+=c+p+u,d+="</video>"),d+="</div>",d+="</div>",e(d+="</div>").appendTo("body")}})),e(n).off("click.VIDEOS").on("click.VIDEOS",s,(function(){var t=e(this).data("modal-id")+"--videopush",o=a-80,s=i-80,r=e("#"+t).closest(".uix-modal-box__video-container"),l=r.prev(".uix-modal-box__video-waiting"),d=r.data("video-player-init"),c=!1,p=function(){TweenMax.set(r,{alpha:1}),l.removeClass("is-active")};if(e("#"+t).find("iframe").length>0?c=e("#"+t).find("iframe"):(TweenMax.set(r,{alpha:0}),l.addClass("is-active")),c&&"object"===w(c)){if(c.length>0){var u=c.width(),f=c.height(),m=u,h=f;f>s&&(m=u*((h=s)/f)),m>o&&(h=f*((m=o)/u)),c.css({left:(o-m)/2+"px",top:(s-h)/2+"px",height:h+"px",width:m+"px"}),a<=768&&c.css({top:0}).parent(".embed-responsive").css({top:(s-h)/2+"px"})}return!1}a<=768&&e("#"+t).attr({playsinline:"true"});var v=videojs(t,{width:1,height:1,autoplay:!0,loop:!0},(function(){var e=function(e){var a=e.videoWidth(),t=e.videoHeight(),n=a,l=t;t>s&&(n=a*((l=s)/t)),n>o&&(l=t*((n=o)/a)),e.height(l),e.width(n),r.find(" > div.video-js").css({width:n+"px"});var d=parseFloat(i-l)/2-50;r.css({transform:"translateY("+d+"px)"}),p()};e(this),this.on("loadedmetadata",(function(){e(this),r.data("video-player-init",1)})),this.play(),this.on("timeupdate",(function(){var e=this.duration();e>0&&this.currentTime()})),this.on("ended",(function(){}))}));1===d&&p(),e(n).off("click.VIDEOS_CLOSE").on("click.VIDEOS_CLOSE",".uix-modal-box [data-modal-close-trigger], .uix-modal-mask:not(.js-uix-disabled)",(function(){v.ready((function(){this.pause()}))}))}))},e.components.documentReady.push(e.VIDEOS.documentReady))}(n,jQuery,window,document);const g="#define GLSLIFY 1\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4(vColor, 1.);\n}     ",T="#define GLSLIFY 1\nuniform float time;\nuniform vec2 limits;\nuniform float speed;\nattribute float moveable;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    float limLen = limits.y - limits.x;\n    vec3 pos = position;\n    if (floor(moveable + 0.5) > 0.5) {\n        float dist = speed * time;\n        float currPos = mod((pos.z + dist) - limits.x, limLen) + limits.x;\n        pos.z = currPos;\n    }\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}",_="#define GLSLIFY 1\n uniform sampler2D uTexture;\n uniform float uAlpha;\n uniform vec2 uOffset;\n\n varying vec2 vUv;\n\n vec3 rgbShift(sampler2D texture, vec2 uv, vec2 offset) {\n   float r = texture2D(uTexture,vUv + 0.0).r;\n   vec2 gb = texture2D(uTexture,vUv).gb;\n   return vec3(r,gb);\n }\n\n void main() {\n   vec3 color = rgbShift(uTexture,vUv,uOffset);\n   gl_FragColor = vec4(color,uAlpha);\n }   ",b="#define GLSLIFY 1\n uniform vec2 uOffset;\n varying vec2 vUv;\n\n #define M_PI 3.1415926535897932384626433832795\n\n vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n   position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n   position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n   return position;\n }\n\n void main() {\n   vUv = uv;\n   vec3 newPosition = deformationCurve(position, uv, uOffset);\n   gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n }",R="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n\tfloat intensity = pow( 0.7 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), 4.0 ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}",M="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";function S(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,a,t){return a&&S(e.prototype,a),t&&S(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}!function(e,t,o,n){null!==o.MAIN&&(e.MAIN=e.MAIN||{},e.MAIN.version="0.0.1",e.MAIN.documentReady=function(e){if(e("body").hasClass("page"))return!1;n.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()}));var t=0;n.addEventListener("touchend",(function(e){var a=(new Date).getTime();a-t<=300&&e.preventDefault(),t=a}),!1);var i="#app-mouse-overlay";0==e(i).length&&e("body").prepend('<div id="app-mouse-overlay" style="background-color: rgba(1, 1, 1, 0);bottom: 0;left: 0;position: fixed;right: 0;top: 0;z-index: 999999999;width: 100vw; height: 100vh;display: none;"></div>');var s=function(){e(i).show(),setTimeout((function(){e(i).hide()}),3e3)},r=".app-cursor .app-cursor__progress svg.dot circle",l=".app-cursor .app-cursor__progress svg.circle path",d=".app-cursor .app-cursor__progress svg.arrow path",c=".app-loader-progress",p=".app-loader-progress__counter",u=".app-loader-headphone",f=".app-enter-btn",m=".uix-brand",h=".app-topnav__wrapper",v=".app-scrolling-textbox__wrapper",x=".app-scrolling-textbox > p",E="#app-screen-home",y="#app-screen-home .app-screen-home__desc",w={fonts:["assets/fonts/fjalla-one/FjallaOne_Regular.json?ver=1","assets/fonts/abeezee/ABeeZee_Regular.json?ver=1","assets/fonts/almonte/Almonte_Regular.json?ver=1"],models:["assets/models/gltf/cave-webgl.glb?ver=1","assets/models/gltf/brand.glb?ver=1","assets/models/gltf/stone-anim.glb?ver=1","assets/models/gltf/stone.glb?ver=1"],textures:["assets/textures/sprites/water-blue.jpg?ver=1","assets/textures/sprites/water.jpg?ver=1","assets/textures/sprites/ps_ball.png?ver=1","assets/textures/sprites/metal.jpg?ver=1","assets/textures/sprites/metal-env.jpg?ver=1","assets/textures/sprites/planet4-black.jpg?ver=1","assets/textures/sprites/mask.jpg?ver=1","assets/textures/sprites/txt-bg.jpg?ver=1"],audios:["assets/audios/bg.ogg?ver=1","assets/audios/enter-scene.ogg?ver=1","assets/audios/btn-hover.ogg?ver=1"],aboutTextures:["assets/videos/about.mp4","assets/videos/about2.mp4","assets/videos/about3.mp4"],workTextures:["assets/images/works/1.jpg","assets/images/works/2.jpg","assets/images/works/3.jpg","assets/images/works/4.jpg"]};function S(e){TweenMax.to(r,.5,{drawSVG:e+"%"})}var C=e(".app-cursor");e(n).on("pointermove.CURSOR touchmove.CURSOR",(function(e){var a,t,o,n=e.touches;n&&n.length?(a=n[0].clientX,t=n[0].clientY):(a=e.clientX,t=e.clientY),TweenMax.to(C,.2,{left:a,top:t,ease:Power4.easeOut}),C.addClass("is-moving"),clearTimeout(o),o=setTimeout((function(){C.removeClass("is-moving")}),300),C.hasClass("is-down")&&C.removeClass("is-down")})).on("pointerdown.CURSOR touchstart.CURSOR",(function(e){var a,t,o=e.touches;o&&o.length?(a=o[0].clientX,t=o[0].clientY):(a=e.clientX,t=e.clientY),TweenMax.to(C,.2,{left:a,top:t,ease:Power4.easeOut}),C.addClass("is-down")})).on("pointerup.CURSOR touchend.CURSOR",(function(e){C.removeClass("is-down")})),e(f).on("pointerenter.CURSOR_ENTER",(function(){e(r).parent().addClass("is-disabled"),e(l).parent().addClass("is-disabled"),e(d).parent().addClass("is-active")})).on("pointerleave.CURSOR_ENTER",(function(){e(r).parent().removeClass("is-disabled"),e(l).parent().removeClass("is-disabled"),e(d).parent().removeClass("is-active")})).on("click.CURSOR_ENTER",(function(){C.addClass("is-down"),e(r).parent().removeClass("is-disabled"),e(l).parent().removeClass("is-disabled"),e(d).parent().removeClass("is-active").addClass("is-down"),s()}));var O=function(){e(o);var t,i,l,d,O=o.innerWidth,A=o.innerHeight,L="app-main",P=[],D=new THREE.LoadingManager;D.onLoad=function(){},D.onProgress=function(e,a,t){},D.onError=function(e){console.log("▶▶▶▶▶ There was an error loading ◀◀◀◀◀◀  "+e)};var z=new THREE.TextureLoader(D),j=new THREE.GLTFLoader(D),I=new THREE.FontLoader(D);z.crossOrigin="anonymous",j.crossOrigin="anonymous",I.crossOrigin="anonymous";var k,N,G,U,B,F,V,Y,W,X,J,Q,q,K,$,Z,ee,ae,te,oe,ne,ie,se,re,le,de,ce,pe,ue,fe,me,he,ve,xe,Ee,ye,we,ge,Te,_e,be,Re,Me,Se,Ce,He,Oe=0,Ae=0,Le=O/2,Pe=A/2,De=0,ze=0,je=0,Ie=0,ke=new THREE.Clock,Ne=0,Ge=1e-8,Ue=new SimplexNoise,Be=!1,Fe=!1,Ve=!1,Ye=!1,We=!1,Xe=!1,Je=!0,Qe=!1,qe=!1,Ke=!1,$e=!0,Ze=new THREE.Object3D,ea=new THREE.Object3D,aa=new THREE.Object3D,ta=new THREE.Object3D,oa="#".concat((new THREE.Color).setHSL(0,0,0).getHexString()),na=new THREE.Object3D,ia=[],sa=new THREE.Vector2,ra=new THREE.Raycaster,la=[],da=new THREE.Object3D,ca=new THREE.Object3D,pa=new THREE.Object3D,ua=new THREE.ShaderMaterial({uniforms:{c:{type:"f",value:2.5},p:{type:"f",value:14}},vertexShader:"#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#define GLSLIFY 1\nuniform float c;\nuniform float p;\nvarying vec3 vNormal;\nvoid main() \n{\n    float intensity = pow( c - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), p ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}"}),fa=[],ma=[],ha=[],va=[],xa=null,Ea=n.querySelector("#app-menu__nucleus-0"),ya=n.querySelector("#app-menu__nucleus-1"),wa=n.querySelector("#app-menu__nucleus-2"),ga=new THREE.ShaderMaterial({uniforms:{diffuse:{value:new THREE.Color(16777215)},dashSize:{value:1},gapSize:{value:1},dotSize:{value:.15},opacity:{value:.8},time:{value:0}},fragmentShader:"#define GLSLIFY 1\n  uniform vec3 diffuse;\n  uniform float opacity;\n  uniform float time; // added time uniform\n\n  uniform float dashSize;\n  uniform float gapSize;\n  uniform float dotSize;\n  varying float vLineDistance;\n\n  void main() {\n    float totalSize = dashSize + gapSize;\n    float modulo = mod( vLineDistance + time, totalSize ); // time added to vLineDistance\n    float dotDistance = dashSize + (gapSize * .5) - (dotSize * .5);\n\n    if ( modulo > dashSize && mod(modulo, dotDistance) > dotSize ) {\n      discard;\n    }\n\n    gl_FragColor = vec4( diffuse, opacity );\n  }",vertexShader:"#define GLSLIFY 1\n  attribute float lineDistance;\n  varying float vLineDistance;\n\n  void main() {\n    vLineDistance = lineDistance;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n  }",transparent:!0}),Ta=20,_a=400,ba=[],Ra=".app-sound-switch",Ma=new THREE.Object3D,Sa=".app-cursor .app-cursor__progress svg.dot-back circle",Ca=".app-cursor .app-cursor__progress svg.back",Ha=o.document,Oa=0,Aa=!1;function La(e){Aa=!0,e.preventDefault()}function Pa(e){Aa=!1}function Da(){C.addClass("is-backbtn"),e(r).parent().addClass("is-disabled"),e(Sa).parent().removeClass("is-disabled"),e(Ca).addClass("is-active").removeClass("is-down"),TweenMax.set(Sa,{drawSVG:"0%"}),TweenMax.to(C,.5,{scale:1.5})}function za(){C.removeClass("is-backbtn"),e(r).parent().removeClass("is-disabled"),e(Sa).parent().addClass("is-disabled"),e(Ca).removeClass("is-active").addClass("is-down"),TweenMax.to(C,.5,{scale:1})}Ha.addEventListener("pointerdown",La,!1),Ha.addEventListener("pointerup",Pa,!1),Ha.addEventListener("touchstart",La,!1),Ha.addEventListener("touchend",Pa,!1),function a(){Ke&&(Aa?(Oa++,function(){if(Oa<=60){if(Ke){var a=Oa*(100/60);TweenMax.set(Sa,{drawSVG:a})}}else Ke&&za(),e("body").removeClass("primarymenu-active"),!1,e(m).removeClass("scene-start").addClass("scene-end"),e(h).removeClass("scene-start").addClass("scene-end"),We=!1,TweenMax.to(t.position,2,{x:0,y:0,z:100,onComplete:function(){ot("open",null),e(E).removeClass("is-click"),Ka(!1,!0),TweenMax.to(Ze.rotation,1,{y:Ze.origData.ry,ease:Power2.easeOut}),TweenMax.to(Ze.position,1,{x:Ze.origData.x,y:Ze.origData.y,z:Ze.origData.z,ease:Power2.easeOut}),We||Qa(),Je=!0,Be=!0}}),TweenMax.to(ve.position,1.2,{x:2*te,ease:Power2.easeIn,onComplete:function(){TweenMax.set(ve.position,{x:ve.origData.x,y:ve.origData.y,z:ve.origData.z}),TweenMax.set(ve.scale,{x:Ge,y:Ge,z:Ge})}}),TweenMax.to(ye.uAlpha,.5,{delay:1,value:0,ease:Power2.easeIn}),TweenMax.to(ge.scale,.5,{x:Ge,y:Ge,z:Ge,ease:Power2.easeIn}),ce&&(TweenMax.to(ce.uAlpha,1.5,{value:0,ease:Power4.easeOut}),TweenMax.to(ce.uOffset.value,1.5,{x:-2,y:-1.3,ease:Power4.easeOut})),function(){fe&&he&&(TweenMax.to([fe.uAlpha,he.uAlpha],1.5,{value:0,ease:Power4.easeOut}),TweenMax.to([fe.uOffset.value,he.uOffset.value],1.5,{x:-6,y:-5.3,ease:Power4.easeOut}));var e=[],a=[];va.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(a,2,{delay:.7,x:500,ease:Power3.easeIn}),TweenMax.to(e,2,{delay:.7,x:function(e,a){return va[e].origData.x},y:function(e,a){return va[e].origData.y},onComplate:function(){TweenMax.to(a,1.5,{delay:.7,x:Ge,ease:Power4.easeOut})},ease:Power3.easeIn})}(),tt("close-all"),TweenMax.resumeAll(),console.log("%c About closed","color: orange;"),TweenMax.to("#app-screen-detail__about",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus"),TweenMax.set(v,{css:{display:"none"},alpha:0,onComplete:function(){TweenMax.killTweensOf([v,x])}})}}),function(){console.log("%c Contact closed","color: orange;"),TweenMax.to("#app-screen-detail__contact",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus")}});(new TimelineMax).staggerTo(".app-social-links a",.1,{x:5,alpha:0},.1,0).to(".app-social-links",.5,{css:{display:"none"}})}(),function(){console.log("%c Works closed","color: orange;"),TweenMax.to(ta.position,3,{y:2e3,ease:Power2.easeIn}),TweenMax.to(P[3].position,1.2,{delay:1,z:P[3].origData.z}),TweenMax.to(l.position,1.2,{delay:1,z:l.origData.z});var e=(new THREE.Color).setHSL(0,0,0);TweenMax.to(P[4].color,1,{r:e.r,g:e.g,b:e.b})}(),Ke=!1}()):(Oa=0,TweenMax.to(Sa,.5,{drawSVG:0}))),requestAnimationFrame(a)}();var ja=new TimelineMax;e(h+" > a").on("pointerenter",(function(a){var t=e(this).find(".app-topnav__bars");t.removeAttr("style"),ja.add("start").staggerTo(t,.35,{x:"35px",opacity:.2,ease:Power4.easeOut},.04,"start").staggerTo(t,.2,{x:"-40px"},.02,"+=0.01"),C.addClass("is-hover")})).on("pointerleave",(function(a){C.removeClass("is-hover");var t=e(this).find(".app-topnav__bars");ja.add("end").staggerTo(t,.2,{x:"0px",opacity:1,ease:Power4.easeOut},.02,"+=0.01")})).on("click",(function(){e(h).hasClass("scene-start")||(!0,s(),tt("open"),ot("close",-1),e(m).removeClass("scene-end").addClass("scene-start"),e(h).removeClass("scene-end").addClass("scene-start"))})),e(h).on("pointermove",(function(e){var a=e.offsetX/this.offsetWidth*40-20,t=e.offsetY/this.offsetHeight*40-20;this.style.transform="translate(".concat(a,"px, ").concat(t,"px)")})).on("pointerleave",(function(e){this.style.transform=""})),e(".app-social-links > a").on("pointerenter",(function(e){C.addClass("is-hover")})).on("pointerleave",(function(e){C.removeClass("is-hover")}));var Ia,ka=[w.aboutTextures[0],w.aboutTextures[1]],Na=0;Ia=ka.length,console.log("videosTotal: "+Ia+", videosLoaded: "+Na);var Ga=w.models.length,Ua=0,Ba=0;function Fa(){t.aspect=o.innerWidth/o.innerHeight,t.updateProjectionMatrix(),d.setSize(o.innerWidth,o.innerHeight)}function Va(e){Oe=e.clientX-Le,Ae=e.clientY-Pe,sa.x=e.clientX/o.innerWidth*2-1,sa.y=-e.clientY/o.innerHeight*2+1,Number.prototype.map=function(e,a,t,o){return(this-e)*(o-t)/(a-e)+t};var a=sa.x.map(-1,1,-Le,Le),t=sa.y.map(-1,1,-Pe,Pe);Je&&l&&(l.position.x=a,l.position.y=t)}function Ya(a){if(a.preventDefault(),Oe=a.clientX-Le,Ae=a.clientY-Pe,!Ve)return!1;if(sa.x=a.clientX/o.innerWidth*2-1,sa.y=-a.clientY/o.innerHeight*2+1,ra.setFromCamera(sa,t),la=fa.concat(re).concat(Te.children).concat(_e.children),(J=ra.intersectObjects(la)).length>0&&"nucleus__audio-controller"==J[0].object.name&&(console.log("--- [audio controller] --- : "+J[0].object.name),e(Ra).toggleClass("is-switched"),e(Ra).hasClass("is-switched")?Ce.setVolume(0):Ce.setVolume(.5)),J.length>0&&J[0].object.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")){if(console.log("--- [primary 3D navigation] --- : "+J[0].object.name),"undefined"!=H(J[0])){var s=J[0].object;switch(J[0].object.name){case"nucleus__menu-work":xa=fa[0].origData,Be=!1,function(){console.log("%c Works","color: green;");fa[0].origData;TweenMax.to([be.uAlpha,Re.uAlpha,Me.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0,TweenMax.to([P[3].position,l.position],1.2,{z:-300}),setTimeout((function(){Ke=!0,Da()}),2500),setTimeout((function(){it("open",null)}),500),TweenMax.to(Ze.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:5*oe,ease:Power2.easeOut,onComplete:function(){TweenMax.to(ta.position,2,{x:ta.origData.x,y:ta.origData.y,z:ta.origData.z,ease:Power2.easeOut});var e=(new THREE.Color).setHSL(1,1,1);TweenMax.to(P[4].color,1,{r:e.r,g:e.g,b:e.b})}})}})}(),tt("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-about":xa=fa[1].origData,Be=!1,function(){console.log("%c About","color: green;"),TweenMax.to("#app-screen-detail__about",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),Ke=!0,Da(),TweenMax.to(v,1.2,{css:{display:"block"},alpha:1,ease:Power2.easeOut})}}),e(v).addClass("scene-detail"),Za();var a=fa[1].origData;TweenMax.to([be.uAlpha,Re.uAlpha,Me.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0,setTimeout((function(){it("open",null)}),500),TweenMax.to(Ze.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:-oe/2-20,ease:Power2.easeOut,onComplete:function(){TweenMax.set(de.position,{x:a.x,y:a.y,z:a.z-30}),TweenMax.to(ce.uAlpha,1.5,{value:1,ease:Power4.easeOut}),TweenMax.to(ce.uOffset.value,1.5,{x:0,y:0,ease:Power4.easeOut})}})}})}(),tt("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-contact":xa=fa[2].origData,Be=!1,function(){console.log("%c Contact","color: green;"),TweenMax.to("#app-screen-detail__contact",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),Ke=!0,Da();(new TimelineMax).to(".app-social-links",.5,{css:{display:"block"}}).staggerTo(".app-social-links a",.1,{x:0,alpha:1},.1,0)}});var e=fa[2].origData;TweenMax.to([be.uAlpha,Re.uAlpha,Me.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0;var a=[],t=[];va.forEach((function(e,o){a.push(e.position),t.push(e.scale)})),TweenMax.to(Ze.rotation,1,{y:-1.3,ease:Power1.easeOut});var o=n.createElement("video");o.src=ka[1];var s=new THREE.VideoTexture(o);s.minFilter=THREE.LinearFilter,s.magFilter=THREE.LinearFilter,s.format=THREE.RGBFormat,s.image.autoplay=!0,s.image.loop=!0,s.image.currentTime=0,s.image.muted=!0,s.image.play(),fe={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var r=new THREE.ShaderMaterial({uniforms:fe,vertexShader:b,fragmentShader:_,transparent:!0});(ue=new THREE.Mesh(new THREE.CircleGeometry(12,32),r)).receiveShadow=!0,i.add(ue),he={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var l=new THREE.ShaderMaterial({uniforms:he,vertexShader:b,fragmentShader:_,transparent:!0});me=new THREE.Mesh(new THREE.CircleGeometry(7,0),l),i.add(me),me.receiveShadow=!0,i.add(me),setTimeout((function(){it("open",null)}),500);var d=5;TweenMax.to(Ze.position,1,{x:"+=-200",z:"+=100",onComplete:function(){Ye=!1,We=!0,TweenMax.to(a,.5,{y:-oe/3,x:-te/2,ease:Power2.easeOut}),TweenMax.to(a,1.5,{delay:.7,x:function(e,a){return-Math.random()*te/2},ease:Power2.easeOut}),TweenMax.to(t,1.5,{delay:.7,x:function(e,a){return e%d*30-(te/3-350)},ease:Power2.easeOut}),setTimeout((function(){TweenMax.set(ue.position,{x:e.x+20,y:e.y+8,z:e.z+50}),TweenMax.set(me.position,{x:e.x-20,y:e.y-3,z:e.z+50}),TweenMax.to([fe.uAlpha,he.uAlpha],3,{delay:.7,value:1,ease:Power4.easeOut}),TweenMax.to([fe.uOffset.value,he.uOffset.value],3,{delay:.8,x:0,y:0,ease:Power4.easeOut})}),500)}})}(),tt("close-onlynav"),e("body").addClass("primarymenu-active")}s.updateMatrix()}null!=xa&&TweenMax.to(t.position,2,{x:xa.x,y:xa.y,z:xa.z+100,onUpdate:function(){t.up.set(0,1,0),t.updateProjectionMatrix(),qa()}})}}function Wa(e){e.preventDefault(),Oe=e.clientX-Le,Ae=e.clientY-Pe,sa.x=e.clientX/o.innerWidth*2-1,sa.y=-e.clientY/o.innerHeight*2+1}function Xa(e){q=ra.intersectObjects(ta.children,!0),$e=!(q.length>0)}function Ja(e){if(e.preventDefault(),Ve&&q.length>0&&!q[0].object.name.includes("nucleus__worktitle-")){var a=q[0].object.parent.parent.parent.parent;console.log("onPointerUp: ",a.name),o.open(a.href,"_blank")}}function Qa(){Ye=!0;var e=[],a=[];ha.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(e,1.5,{y:function(e,a){return ha[e].origData.y},z:function(e,a){return ha[e].origData.z}}),TweenMax.killTweensOf(a),TweenMax.to(a,1.5,{x:function(e,a){return ha[e].origData.sx},y:function(e,a){return ha[e].origData.sy},z:function(e,a){return ha[e].origData.sz}})}function qa(){fa.forEach((function(e,a){var o=st(e,t,d.domElement.width,d.domElement.height);switch(e.name){case"nucleus__menuball-0":Ea.style.top=o.position.y+"px",Ea.style.left=o.position.x+"px",Ea.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)";break;case"nucleus__menuball-1":ya.style.top=o.position.y+"px",ya.style.left=o.position.x+"px",ya.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)";break;case"nucleus__menuball-2":wa.style.top=o.position.y+"px",wa.style.left=o.position.x+"px",wa.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)"}}))}function Ka(a,t){var o=function(){e(y).each((function(a){var t=e(this);[t.find("> h2"),t.find("> p")].forEach((function(e,a){var t=new SplitText(e,{type:"chars"});TweenMax.set(t.chars,{y:70,alpha:0})}))}))};if(a)o();else{var n=e(y),i=0;e(E).addClass("is-active");!function a(){if(!0){var s=n.eq(i),r=[s.find("> h2"),s.find("> p")];!1,r.forEach((function(e,a){for(var t=new SplitText(e,{type:"chars"}),o=t.chars.length,n=new TimelineMax({repeat:0,onComplete:function(){}}),i=0;i<o;i++)n.from(t.chars[i],1,{opacity:0,webkitFilter:"blur(0)",ease:Back.easeOut},1*Math.random());n.add("explode","+=2");for(var s=0;s<o;s++)n.to(t.chars[s],.5,{delay:1.5,opacity:0,webkitFilter:"blur(5px)"},"explode+="+.2*Math.random())})),e(E).hasClass("is-click")||!t?(TweenMax.killAll(!1,!1,!0,!1),setTimeout((function(){o()}),1e3)):TweenMax.delayedCall(e(E).data("tween-delay"),a)}i<n.length-1?i++:i=0}()}}function $a(e){e&&(TweenMax.set(X.uniforms.contrast,{value:0}),TweenMax.set(Y.uniforms.h,{value:0}))}function Za(){var a=e(v).height();TweenMax.set(v,{scale:.5}),TweenMax.set(x,{y:function(e){return 20*e}}),TweenMax.to(x,3,{ease:Linear.easeNone,y:"+="+a,modifiers:{y:function(e){return e%a}},repeat:-1}),TweenMax.set(v,{overflow:"hidden"})}function et(e,a,o){for(var s=function(e,a){e.faces.forEach((function(e){for(var t=e instanceof THREE.Face3?3:4,o=0;o<t;o++)e.vertexColors[o]=a}))},r=0;r<a;r++){var l=void 0;"cube"==e?l=new THREE.BoxGeometry(4,4,4):"sphere"==e?("ball-nav"==o&&(l=new THREE.SphereGeometry(10,32,32)),"ball-fly"==o&&(l=new THREE.IcosahedronGeometry(2,2)),"ball-pinprick"==o&&(l=new THREE.IcosahedronGeometry(2,2))):"poly"==e&&(l=new THREE.CylinderGeometry(3,6,3,5,1));var d=new THREE.Color;d.setRGB(Math.random(),Math.random(),Math.random()),s(l,d);var c=void 0,p=void 0;if("ball-nav"==o){c=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!1,map:function(){var e=n.createElement("canvas");e.width=16,e.height=16;var a=e.getContext("2d"),t=a.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(.2,"rgba(0,255,255,1)"),t.addColorStop(.4,"rgba(0,0,64,1)"),t.addColorStop(1,"rgba(0,0,0,1)"),a.fillStyle=t,a.fillRect(0,0,e.width,e.height);var o=new THREE.Texture(e);return o.needsUpdate=!0,o}(),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__menuball-"+r,p.position.x=-65*r+65,0==a&&(p.position.y=0),1==a&&(p.position.y=rt(-60,10)),2==a&&(p.position.y=rt(-60,10)),p.scale.setScalar(.4+1*Math.random()),p.position.z=350,i.add(p),p.speed=rt(.8,1),p.origData={x:p.position.x,y:p.position.y,z:-t.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z};var u=new THREE.MeshBasicMaterial({map:z.load(w.textures[0])}),f=new THREE.Mesh(l,u);p.add(f),f.position.x=0;var m=new THREE.Mesh(l.clone(),ua);f.add(m);var h=at(0,0,0,1.5,0,0,10);p.add(h),ma.push(h),da.add(p),i.add(da),da.position.y=-10,fa.push(p)}"ball-fly"==o&&(c=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:z.load(w.textures[0]),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__flyingball-"+r,p.position.x=rt(-ae/2,ae/2+Math.random()*te*2),p.position.y=rt(-Math.random()*oe*2,Math.random()*oe*2),p.rotation.x=2*Math.random()*Math.PI,p.rotation.y=2*Math.random()*Math.PI,p.rotation.z=2*Math.random()*Math.PI,p.scale.setScalar(.25+.3*Math.random()),i.add(p),p.speed=.5+Math.random(),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},p.position.z=350,ca.add(p),i.add(ca),ha.push(p)),"ball-pinprick"==o&&(c=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:z.load(w.textures[0]),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__pinprickball-"+r,p.position.x=-te/2,p.position.y=2*-oe,p.rotation.x=2*Math.random()*Math.PI,p.rotation.y=2*Math.random()*Math.PI,p.rotation.z=2*Math.random()*Math.PI,p.scale.setScalar(.25+.5*Math.random()),p.scale.x=Ge,i.add(p),p.speed=.5+Math.random(),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},p.position.z=-200,pa.add(p),i.add(pa),va.push(p))}}function at(e,a,t,o,n,i,s){var r=s,l=new THREE.CircleGeometry(10,50);l.vertices.shift();for(var d=new THREE.Object3D,c=0;c<r;c++){var p=new THREE.LineSegments(l,ga);p.computeLineDistances(),p.position.set(0,0,0),p.scale.setScalar(1-c/199),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},d.add(p),d.position.set(e,a,t),d.rotation.x=n,d.rotation.y=i,d.scale.setScalar(o)}return d}function tt(a){"open"==a&&(Ke=!0,Da(),TweenMax.set(ie.scale,{x:1,onComplete:function(){TweenMax.to(ie.position,1.2,{z:ie.origData.z,ease:Power2.easeOut})}}),TweenMax.set(se.scale,{x:1,onComplete:function(){TweenMax.to(se.position,1.2,{z:se.origData.z,ease:Power2.easeOut})}}),it("close","zoomIn"),nt("close"),e(E).addClass("is-click"),setTimeout((function(){Ka(!1,!1)}),1e3),TweenMax.to(Se.uAlpha,1.5,{delay:1.5,value:1,ease:Power2.easeOut}),TweenMax.set([Te.position,_e.position],{z:qe?-120:-50})),"close-all"==a&&(za(),Ke=!1,e(".app-menu__wrapper > .app-menu").removeClass("is-click").parent().removeClass("has-clicked-item"),qe=!1,TweenMax.to(Se.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([ie.position,se.position],1,{z:3*ee,ease:Power2.easeIn}),TweenMax.to([ie.scale,se.scale],.5,{delay:1,x:Ge,onComplate:function(){nt("open"),ot("open",null)}}),setTimeout((function(){it("open",null)}),300)),"close-onlynav"==a&&(s(),za(),Ke=!1,e(".app-menu__wrapper > .app-menu").removeClass("is-click").parent().removeClass("has-clicked-item"),qe=!1,TweenMax.to(Se.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([ie.position,se.position],1,{z:3*ee,ease:Power2.easeIn}),TweenMax.to([ie.scale,se.scale],.5,{delay:1,x:Ge}))}function ot(e,a){var t=[];fa.forEach((function(e,a){t.push(e.position)})),"open"==e&&(TweenMax.to(t,3,{z:function(e,a){return fa[e].origData.z},ease:Power2.easeOut}),setTimeout((function(){qa()}),3e3)),"close"==e&&(-1!=a?TweenMax.to(t,3,{z:function(e,t){return e==a?200:-3500},ease:Power3.easeInOut}):TweenMax.to(t,3,{z:-3500,ease:Power3.easeInOut}))}function nt(e){var a=[];ha.forEach((function(e,t){a.push(e.position)})),"open"==e&&TweenMax.to(a,1,{z:function(e,a){return ha[e].origData.z},ease:Power2.easeOut}),"close"==e&&TweenMax.to(a,1,{z:-1200,ease:Power2.easeOut})}function it(e,a){"open"==e&&TweenMax.to(Ze.position,1,{z:Ze.origData.z,ease:Power2.easeOut}),"close"==e&&("zoomIn"==a&&TweenMax.to(Ze.position,2,{delay:.7,z:-1200,ease:Power2.easeOut}),"zoomOut"==a&&TweenMax.to(Ze.position,2,{delay:.7,z:1200,ease:Power2.easeOut}))}function st(e,a,t,o){var n=new THREE.Vector3;n.setFromMatrixPosition(e.matrixWorld);var i=t/2,s=o/2,r=o/t;n.project(a),n.x=n.x*i+i,n.y=-n.y*s+s;var l=(new THREE.Box3).setFromObject(e).getSize(new THREE.Vector3);return{position:n,width:(7*l.x*r).toFixed(2),height:(7*l.y*r).toFixed(2)}}function rt(e,a){return Math.random()*(a-e)+e}function lt(e){return e*Math.PI/180}return e("body").waitForImages().progress((function(a,t,o){Ba=t;var n=parseInt(a/(t-(1-Ia-Ga))*100);e("img").length<=1&&(n=100),isNaN(n)&&(n=100),Ua=n,e(c+" span").text(n);for(var i=1;i<10-Ga+1;i++)n<i*(10-Ga+1)&&e("body").addClass("loaded"+i);TweenMax.set(r,{scale:1,x:0,y:0,fill:"rgba(255,255,255,0)",drawSVG:"0%",alpha:1}),S(n),console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+n+'%  ----- ["images"] )')})).done((function(){console.log("loadedPercent: "+Ua+", imageTotal: "+Ba),function(o,s){var x=function(){var s=w.models,x=s.length,E=function(e){if(e.lengthComputable)e.loaded,e.total},y=function(e){};s.forEach((function(s){j.load(s,(function(E){var y=o+Math.round(100-o)/x;if(e("body").addClass("loaded"+(10-(x-1))),e(c+" span").text(y),S(y),s.indexOf("cave-webgl.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d main object", "images"] )');var g=E.scene;g.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!0,map:z.load(w.textures[0]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),Ze.add(g),i.add(Ze),Ze.scale.setScalar(.7),Ze.position.x=0,Ze.position.y=-60,Ze.position.z=-280,Ze.rotation.x=-3.2,Ze.rotation.y=0,Ze.rotation.z=0,Ze.loadingData={x:Ze.position.x,y:Ze.position.y,z:Ze.position.z,rx:Ze.rotation.x,ry:Ze.rotation.y,rz:Ze.rotation.z,sx:Ze.scale.x,sy:Ze.scale.y,sz:Ze.scale.z},Ze.scale.setScalar(Ge)}if(s.indexOf("brand.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d sub object 1 (brand)", "3d main object", "images"] )');var T=E.scene;T.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:50,wireframe:!0,side:THREE.DoubleSide,map:z.load(w.textures[6]),fog:!1}),e.castShadow=!0)})),ea.add(T),Ze.add(ea),ea.scale.setScalar(30),ea.position.x=70,ea.position.y=60,ea.position.z=0,ea.rotation.x=3.3,ea.rotation.y=-5.6,ea.rotation.z=0}if(s.indexOf("stone-anim.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d sub object 2 (stone)", "3d main object", "images"] )');var _=E.scene;_.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:1,wireframe:!1,map:z.load(w.textures[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),aa.add(_),Ze.add(aa),aa.scale.setScalar(50),aa.position.x=0,aa.position.y=0,aa.position.z=0,aa.loadingData={x:aa.position.x,y:aa.position.y,z:aa.position.z,rx:aa.rotation.x,ry:aa.rotation.y,rz:aa.rotation.z,sx:aa.scale.x,sy:aa.scale.y,sz:aa.scale.z}}s.indexOf("stone.glb")>=0&&(console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+y+'% ----- ["3d sub object 3 (stone for works)", "3d main object", "images"] )'),I.load(w.fonts[0],(function(e){var t=550,o=2*Math.PI/worksData.length,n=E.scene;n.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:1,wireframe:!1,map:z.load(w.textures[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),n.material=new THREE.ShaderMaterial({uniforms:{},vertexShader:M,fragmentShader:R,transparent:!0,wireframe:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),n.scale.set(150,150,150),ta.scale.setScalar(.2),ta.position.x=100,ta.position.y=420+oe,ta.position.z=0,ta.rotation.x=-1.6,ta.origData={x:ta.position.x,y:ta.position.y,z:ta.position.z,rx:ta.rotation.x,ry:ta.rotation.y,rz:ta.rotation.z,sx:ta.scale.x,sy:ta.scale.y,sz:ta.scale.z},worksData.forEach((function(a,i){var s,r,l,c,p,u,f,m,h,v=i+1,x=n.clone(),E=Math.sin(v*o)*t,y=Math.cos(v*o)*t,g=0;ta.add((s=e,r=a.title,l="nucleus__worktitle-"+v,c=E,p=y,u=g,f=new THREE.TextGeometry(r,{font:s,size:30,height:1,curveSegments:5,bevelEnabled:!0,bevelThickness:1,bevelSize:2,bevelOffset:0,bevelSegments:5}),m=new THREE.MeshPhongMaterial({side:THREE.DoubleSide,map:z.load(w.textures[7]),color:new THREE.Color(16777215)}),(h=new THREE.Mesh(f,m)).geometry.center(),h.geometry.computeBoundingSphere(),h.name=l,h.position.set(c+70,p-100,u-100),h.rotation.set(4.8,0,0),h)),ta.add(x),x.name="nucleus__workmain-"+v,x.targetid=v,x.href=a.url,x.origData={x:x.position.x,y:x.position.y,z:x.position.z,rx:x.rotation.x,ry:x.rotation.y,rz:x.rotation.z,sx:x.scale.x,sy:x.scale.y,sz:x.scale.z},x.rotationSpeed=.006*Math.random(),x.position.set(E,y,g),x.rotation.set(1*Math.random(),0,1*Math.random());var T=16/9,_=new THREE.BoxGeometry(20*T,20,1),b=z.load(a.cover);b.anisotropy=d.capabilities.getMaxAnisotropy(),b.generateMipmaps=!1,b.wrapS=b.wrapT=THREE.ClampToEdgeWrapping,b.minFilter=THREE.LinearFilter;var R=new THREE.MeshBasicMaterial({map:b,side:THREE.DoubleSide}),M=new THREE.Mesh(_,R);M.name="nucleus__workcover-"+v,M.scale.setScalar(Ge),M.rotation.x=-1.6,M.visible=!1,ta.add(M)})),ta.position.y=2e3;for(var i=a?30:120,s=0;s<i;s++){var r=Math.sin(5*s)*(1e3*rt(.2,2)),l=Math.cos(5*s)*(1e3*rt(.2,2)),c=Math.tan(5*s)*(200*rt(.2,1)),p=new THREE.TetrahedronGeometry(15,0),u=new THREE.MeshPhongMaterial({color:6710886,shininess:3,wireframe:!1,map:z.load(w.textures[6]),side:THREE.DoubleSide,fog:!1}),f=new THREE.Mesh(p,u);f.position.set(r,l,c),f.rotation.set(1*Math.random(),0,1*Math.random()),f.scale.setScalar(1*Math.random()),ta.add(f)}Ze.add(ta)}))),100==y&&(TweenMax.to([c+" span",c+" strong"],1,{alpha:0,onComplete:function(){TweenMax.set(this.target,{css:{display:"none"}})}}),TweenMax.to(r,1,{scale:.1,x:16,y:16,fill:"#ffffff",ease:Power1.easeInOut}),TweenMax.to(na.scale,1.5,{x:.1,y:.1,z:.1,ease:Power3.easeInOut}),TweenMax.to(N.position,1,{y:-32,onComplete:function(){var a=P[3].color.getHSL(P[3]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){P[3].color.setHSL(a.h,a.s,a.l)}}),TweenMax.to(Ze.position,.5,{x:0,y:-15,z:.8,onComplete:function(){var a=st(Ze,t,d.domElement.width,d.domElement.height);n.querySelector(f).style.top=a.position.y+40+"px",e(f).delay(500).queue("fx",(function(){e(this).addClass("is-active")})),e(m).addClass("scene-ready"),e(v).addClass("scene-ready"),TweenMax.to(v,1.2,{alpha:1,ease:Power2.easeOut})}}),TweenMax.to(Ze.scale,1.5,{delay:1,x:.035,y:.035,z:.035,ease:Power2.easeOut}),(new TimelineMax).to(Ze.rotation,1.5,{x:-3.2,y:0,z:0,onComplete:function(){TweenMax.to(f,1.2,{alpha:1,ease:Power2.easeOut}),e(f).off("click.ENTER").on("click.ENTER",(function(){var a,o;a=G.color.getHSL(G),o=U.color.getHSL(U),TweenMax.to(a,1.2,{h:0,s:0,l:0,onUpdate:function(){G.color.setHSL(a.h,a.s,a.l)},ease:Power2.easeIn}),TweenMax.to(o,1.2,{h:0,s:0,l:0,onUpdate:function(){U.color.setHSL(o.h,o.s,o.l)},ease:Power2.easeIn}),TweenMax.to(N.scale,1,{x:Ge,y:Ge,z:Ge,ease:Power2.easeIn,onComplete:function(){TweenMax.to(N.position,.5,{y:-oe});var e=P[0].color.getHSL(P[0]);TweenMax.to(e,.5,{h:1,s:1,l:1,onUpdate:function(){P[0].color.setHSL(e.h,e.s,e.l)}});var a=P[2].color.getHSL(P[2]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){P[2].color.setHSL(a.h,a.s,a.l)}});var t=P[3].color.getHSL(P[3]);TweenMax.to(t,.5,{h:0,s:0,l:0,onUpdate:function(){P[3].color.setHSL(t.h,t.s,t.l)}})}}),e(m).removeClass("scene-ready").addClass("scene-start"),e(v).addClass("scene-start"),TweenMax.to(Ze.rotation,1.2,{y:Ze.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(aa.rotation,1.2,{y:aa.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(f,1.2,{alpha:0,onComplete:function(){var a;TweenMax.set(this.target,{css:{display:"none"}}),TweenMax.set(v,{css:{display:"none"}}),TweenMax.killAll(),function(){TweenMax.to(aa.position,8,{delay:1,z:-3e3,onComplete:function(){Ze.remove(aa)}});var a=l.color.getHSL(l);TweenMax.to(a,3.5,{h:1,s:1,l:1,onUpdate:function(){l.color.setHSL(a.h,a.s,a.l)}}),Ye=!0,!0;var t=5,o=3.2;TweenMax.to(na.scale,t,{x:.3,y:.3,z:.3,ease:CustomEase.create("custom","M0,0 C0,0 0.18896,-0.00276 0.30884,0.00136 0.36737,0.00338 0.40409,0.00477 0.45896,0.01577 0.50378,0.02476 0.53639,0.03458 0.5758,0.0549 0.61295,0.07407 0.64028,0.09366 0.66908,0.12417 0.70781,0.16517 0.73204,0.19964 0.76069,0.25068 0.80038,0.32141 0.82111,0.36969 0.85057,0.44758 0.88752,0.54527 0.90538,0.60421 0.93298,0.70622 0.96361,0.81946 1,1 1,1 ")}),TweenMax.to(na.position,4,{z:120,ease:Power1.easeIn}),TweenMax.to(na.scale,3.5,{z:40,ease:Power2.easeIn});var n={var:512};TweenMax.to(n,3,{var:0,onUpdate:function(){e(p).html("<em>"+Math.trunc(n.var)+"</em>")},onComplete:function(){TweenMax.to(p,.5,{alpha:0,onComplete:function(){e(p).closest(c).hide(),e(u).addClass("is-hide")}})},ease:Power2.easeOut});var i=[];fa.forEach((function(e,a){i.push(e.position)})),TweenMax.to(i,t-1,{z:-100,delay:o+1,onComplete:function(){Fe=!0}});var s=[];ha.forEach((function(e,a){s.push(e.position)})),TweenMax.to(s,t,{z:-100,delay:o,ease:Power2.easeOut}),TweenMax.to(Ze.scale,t,{x:Ze.loadingData.sx,y:Ze.loadingData.sy,z:Ze.loadingData.sz,ease:Power2.easeIn}),TweenMax.to(Ze.position,2.5,{y:-20}),TweenMax.to(Ze.position,t,{x:0,y:110,z:-115,delay:o,ease:Power2.easeIn}),TweenMax.to(Ze.rotation,t,{x:-3,y:-.8,z:0,delay:o,ease:Power2.easeOut,onComplete:function(){var a;Ze.origData={x:Ze.position.x,y:Ze.position.y,z:Ze.position.z,rx:Ze.rotation.x,ry:Ze.rotation.y,rz:Ze.rotation.z,sx:Ze.scale.x,sy:Ze.scale.y,sz:Ze.scale.z},Ve=!0,Be=!0,a=[],fa.forEach((function(e,t){a.push(e.scale)})),TweenMax.to(a,1.5,{x:function(e,a){return fa[e].speed*fa[e].origData.sx},y:function(e,a){return fa[e].speed*fa[e].origData.sy},z:function(e,a){return fa[e].speed*fa[e].origData.sz},repeat:-1,yoyo:!0}),e(".app-menu").addClass("is-active"),qa(),$a(!1),Ka(!1,!0),re.scale.setScalar(1),e(m).removeClass("scene-start").addClass("scene-end"),e(h).removeClass("scene-start").addClass("scene-end"),!0,Qa()}})}(),a=new THREE.AudioListener,t.add(a),Ce=new THREE.Audio(a),(new THREE.AudioLoader).load(w.audios[0],(function(e){Ce.setBuffer(e),Ce.setLoop(!0),Ce.setVolume(.6),Ce.play()})),function(){for(var e=0;e<21;e++)ba.push({initValue:THREE.Math.randFloat(-1,1),amplitude:THREE.Math.randFloat(1,3),speed:THREE.Math.randFloat(.5,2)});!function(e){var a=new THREE.PlaneGeometry(e-10,1,e-1,1);a.translate(0,.5,0),(re=new THREE.Mesh(a,new THREE.MeshBasicMaterial({color:14540253,wireframe:!1,side:THREE.DoubleSide,transparent:!0,opacity:0}))).name="nucleus__audio-controller",i.add(re);for(var o=new THREE.Geometry,n=0;n<re.geometry.parameters.widthSegments+1;n++)o.vertices.push(a.vertices[n]);le=new THREE.Line(o,new THREE.LineBasicMaterial({color:14540253,linewidth:4})),re.add(le);var s=new THREE.Plane(new THREE.Vector3(0,0,1),0),r=new THREE.Vector2,l=new THREE.Vector3;r.set(1,-1),ra.setFromCamera(r,t),ra.ray.intersectPlane(s,l),re.position.copy(l).add(new THREE.Vector3(3,1,-10)),re.scale.setScalar(.001)}(21)}(),Xe=!0}})}))}}).to(Ze.rotation,25,{y:lt(360),ease:Linear.easeNone,repeat:-1})}})),x--}),E,y)}))};o<100&&ka.forEach((function(e){var a=n.createElement("video");a.src=e,a.addEventListener("loadedmetadata",(function(e){Na++,console.log("videosTotal: "+Ia+", videosLoaded: "+Na),console.log("videos loaded!"),Na==Ia&&x()}),!1)}));Na==Ia&&x()}(Ua)})),{init:function(){60,$=O/A,1,1e4,(t=new THREE.PerspectiveCamera(60,$,1,1e4)).position.set(0,0,100),t.lookAt(new THREE.Vector3(0,0,0));var e=30*Math.PI/180;oe=(t.position.z+15)*Math.tan(e),te=oe*t.aspect,1e3,Z=THREE.Math.degToRad(t.fov),ee=2*Math.tan(Z/2)*1e3,ae=ee*t.aspect,(i=new THREE.Scene).fog=new THREE.Fog(oa,.0025,250),P[0]=new THREE.PointLight(0,5,0),P[0].position.set(0,200,50),i.add(P[0]),P[2]=new THREE.PointLight(0,10,0),P[2].position.set(100,200,-1100),i.add(P[2]);var a=lt(25);P[1]=new THREE.SpotLight(1797375,2,800,a,1,1),P[1].position.set(5,-5,130),P[1].castShadow=!0,P[1].shadow.mapSize.width=1024,P[1].shadow.mapSize.height=1024,P[1].shadow.camera.near=.5,P[1].shadow.camera.far=31,i.add(P[1]),P[3]=new THREE.PointLight(0,13,0),P[3].position.set(0,20,700),i.add(P[3]),P[3].origData={x:P[3].position.x,y:P[3].position.y,z:P[3].position.z},P[4]=new THREE.DirectionalLight(16777215,11),P[4].position.set(0,2e3,1e3),P[4].visible=!1,i.add(P[4]);var s=(new THREE.Color).setHSL(0,0,0);TweenMax.to(P[4].color,1,{r:s.r,g:s.g,b:s.b,onComplate:function(){P[4].visible=!0}}),(l=new THREE.PointLight(0,15,0)).position.set(0,0,600),i.add(l),l.origData={x:l.position.x,y:l.position.y,z:l.position.z},(N=new THREE.Mesh(new THREE.CircleGeometry(1e3,32),new THREE.MeshPhongMaterial({emissive:oa}))).receiveShadow=!0,N.position.set(0,-32,5),N.rotation.x=lt(-95),i.add(N),N.position.y=2*-oe;var r=lt(35);(G=new THREE.SpotLight(16777215,2,200,r,1,1)).position.set(5,162,5),G.castShadow=!0,G.shadow.mapSize.width=1024,G.shadow.mapSize.height=1024,G.shadow.camera.near=.5,G.shadow.camera.far=31,i.add(G),U=new THREE.AmbientLight(16777215,.05),i.add(U),(d=new THREE.WebGLRenderer({canvas:n.getElementById(L),alpha:!0,antialias:!0})).setSize(O,A),d.shadowMap.enabled=!0,d.shadowMap.type=THREE.PCFSoftShadowMap,d.setPixelRatio(o.devicePixelRatio),(Y=new THREE.ShaderPass(THREE.HorizontalBlurShader)).enabled=!0,Y.uniforms.h.value=.05,(W=new THREE.ShaderPass(THREE.VerticalBlurShader)).enabled=!0,W.uniforms.v.value=1/O,(X=new THREE.ShaderPass(THREE.BrightnessContrastShader)).enabled=!0,X.uniforms.contrast.value=1.2;var c,p,u,f,m,h=new THREE.RenderPass(i,t),v=new THREE.ShaderPass(THREE.CopyShader);v.renderToScreen=!0,(V=new THREE.EffectComposer(d)).addPass(h),V.addPass(Y),V.addPass(W),V.addPass(X),V.addPass(v),Za(),c=new THREE.SphereGeometry(60,60,60),p=new THREE.MeshBasicMaterial({color:2105376,map:z.load(w.textures[5]),side:THREE.DoubleSide}),(k=new THREE.Mesh(c,p)).position.set(0,200,-4e3),k.scale.setScalar(35),k.scale.x=80,k.scale.y=40,i.add(k),Ka(!0,!0),$a(!0),function(){ne=new THREE.ShaderMaterial({uniforms:{time:{value:0},limits:{value:new THREE.Vector2(-400,_a)},speed:{value:18}},vertexShader:T,fragmentShader:g,vertexColors:THREE.VertexColors});for(var e=[],a=0;a<=Ta;a++)e.push(1,1,0,0);(ie=new THREE.GridHelper(800,Ta,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),ie.material=ne,i.add(ie),ie.position.set(0,60,-30),ie.origData={x:ie.position.x,y:ie.position.y,z:ie.position.z,rx:ie.rotation.x,ry:ie.rotation.y,rz:ie.rotation.z,sx:ie.scale.x,sy:ie.scale.y,sz:ie.scale.z},(se=new THREE.GridHelper(800,Ta,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),se.material=ne,i.add(se),se.position.set(0,-60,-30),se.origData={x:se.position.x,y:se.position.y,z:se.position.z,rx:se.rotation.x,ry:se.rotation.y,rz:se.rotation.z,sx:se.scale.x,sy:se.scale.y,sz:se.scale.z},ie.position.z=3*ee,se.position.z=3*ee,ie.scale.x=Ge,se.scale.x=Ge}(),u=new THREE.BoxGeometry(1.5,1.5,1.5,0,0),f=new THREE.MeshPhongMaterial({flatShading:!0,transparent:!0,color:255}),m=function(e){for(var a=[],t=[],o=400,n=o,i=0;i<o;i++){a[i]=new THREE.Mesh(u,f),a[i].position.y=60,a[i].scale.set(1*Math.random(),1*Math.random(),1*Math.random()),t[i]=new THREE.Object3D,t[i].add(a[i]),t[i].rotation.z=i*(360/n)*Math.PI/180;var s=155*Math.random(),r=Math.random();t[i].position.z=s,t[i].speed=r,t[i].origData={x:t[i].position.x,y:t[i].position.y,z:t[i].position.z,rx:t[i].rotation.x,ry:t[i].rotation.y,rz:t[i].rotation.z,sx:t[i].scale.x,sy:t[i].scale.y,sz:t[i].scale.z},ia.push(t[i]),e.add(t[i])}},B=new THREE.Object3D,m(B),(F=new THREE.Object3D).add(B),F.rotation.z=360*Math.PI/180,na.add(F),i.add(na),na.scale.setScalar(.08),et("sphere",15,"ball-fly"),et("sphere",80,"ball-pinprick"),et("sphere",3,"ball-nav"),Te=new THREE.Object3D,_e=new THREE.Object3D,I.load(w.fonts[2],(function(e){var a,t,o=new THREE.Color(16777215);Se={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},be={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Re={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Me={uTexture:{value:z.load(w.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var n=new THREE.ShaderMaterial({uniforms:Se,vertexShader:b,fragmentShader:_,transparent:!0}),s=new THREE.ShaderMaterial({uniforms:be,vertexShader:b,fragmentShader:_,transparent:!0}),r=new THREE.ShaderMaterial({uniforms:Re,vertexShader:b,fragmentShader:_,transparent:!0}),l=new THREE.ShaderMaterial({uniforms:Me,vertexShader:b,fragmentShader:_,transparent:!0}),d=function(d,c,p){var u=d,f=11,m=e.generateShapes(u,f),h=new THREE.ShapeBufferGeometry(m);h.computeBoundingBox(),a=-.5*(h.boundingBox.max.x-h.boundingBox.min.x),h.translate(a,0,0),"work"==p&&(t=new THREE.Mesh(h,s)),"about"==p&&(t=new THREE.Mesh(h,r)),"contact"==p&&(t=new THREE.Mesh(h,l)),t.position.z=0,t.position.y=1.7*f*c,t.name="nucleus__menu-"+p,Te.add(t),Te.position.z=-50,Te.scale.setScalar(1.35),i.add(Te);for(var v=[],x=0;x<m.length;x++){var E=m[x];if(E.holes&&E.holes.length>0)for(var y=0;y<E.holes.length;y++){var w=E.holes[y];v.push(w)}}m.push.apply(m,v);for(var g=THREE.SVGLoader.getStrokeStyle(.4,o.getStyle()),T=new THREE.Group,_=0;_<m.length;_++){var b=m[_].getPoints(),R=THREE.SVGLoader.pointsToStroke(b,g);R.translate(a,0,0);var M=new THREE.Mesh(R,n);T.add(M)}T.position.y=1.7*f*c,T.name="nucleus__menustroke-"+p,_e.add(T),_e.position.z=-50,_e.scale.setScalar(1.35),i.add(_e)};d("PROJECTS",1,"work"),d("ABOUT",0,"about"),d("CONTACT",-1,"contact")})),function(){var e=new THREE.CircleGeometry(64,64,64);de=function(a,t,o){var s=n.createElement("video");s.src=a;var r=new THREE.VideoTexture(s);r.minFilter=THREE.LinearFilter,r.magFilter=THREE.LinearFilter,r.format=THREE.RGBFormat,r.image.autoplay=!0,r.image.loop=!0,r.image.currentTime=0,r.image.muted=!0,r.image.play(),ce={uTexture:{value:r},uOffset:{value:new THREE.Vector2(-2,-1.3)},uAlpha:{value:0}};for(var l=new THREE.ShaderMaterial({uniforms:ce,vertexShader:b,fragmentShader:_,transparent:!0}),d=new THREE.Mesh(e,l),c=0;c<60;c++){var p=200+5*Math.sin(c);d.geometry.faces[c].color=new THREE.Color("hsl("+Math.abs(p)+", 100%, 50%)")}return i.add(d),d.scale.setScalar(t),d}(ka[0],30);var a=new THREE.IcosahedronGeometry(1.2,1),t=new THREE.ShaderMaterial({uniforms:ce,vertexShader:b,fragmentShader:_,transparent:!0,wireframe:!0,side:THREE.DoubleSide});pe=new THREE.Mesh(a,t),de.add(pe)}(),function(){ve=new THREE.Object3D;for(var e=function(e,a){var t=16/9,o=new THREE.BoxGeometry(20*t,20,1),n=z.load(e);n.anisotropy=d.capabilities.getMaxAnisotropy(),n.generateMipmaps=!1,n.wrapS=n.wrapT=THREE.ClampToEdgeWrapping,n.minFilter=THREE.LinearFilter;var i=new THREE.MeshBasicMaterial({map:n,side:THREE.DoubleSide}),s=new THREE.Mesh(o,i);s.name="obj-"+a;var r=0,l=oe*a,c=0,p=new THREE.Vector3(r,l,c);return s.pos=p,s.position.copy(p),s},a=0;a<w.workTextures.length;a++){var t=e(w.workTextures[a],a);ve.add(t),i.add(ve),ve.scale.setScalar(Ge),ve.origData={x:ve.rotation.x,y:ve.rotation.y,z:ve.rotation.z,rx:ve.rotation.x,ry:ve.rotation.y,rz:ve.rotation.z,sx:ve.scale.x,sy:ve.scale.y,sz:ve.scale.z}}ge=at(0,0,0,1.5,0,0,10),i.add(ge),ge.scale.setScalar(Ge),ye={uTexture:{value:z.load(w.textures[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var o=new THREE.PlaneGeometry(4*te,3*oe,32),n=new THREE.ShaderMaterial({uniforms:ye,vertexShader:b,fragmentShader:_,transparent:!0});xe=new THREE.Mesh(o,n),i.add(xe),we={uTexture:{value:z.load(w.textures[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var s=new THREE.PlaneGeometry(2*te,2*oe,32),r=new THREE.ShaderMaterial({uniforms:we,vertexShader:b,fragmentShader:_,transparent:!0});(Ee=new THREE.Mesh(s,r)).position.z=50,i.add(Ee)}(),function(){var e=fa[0].origData,a=e.z+70;He=e.y;for(var t=new THREE.TetrahedronGeometry(1.5,0),o=new THREE.MeshStandardMaterial({color:1797375,roughness:.4,metalness:1,map:z.load(w.textures[3]),side:THREE.DoubleSide}),n=0;n<50;n++){var s=e.x+rt(te/2,te),r=He+oe/2+Math.random()*oe/2,l=a-100+50*Math.random(),d=Math.random(),c=new THREE.Mesh(t,o);c.position.set(s,r,l),c.position.multiplyScalar(1*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.name="nucleus__tetrahedron-particles-"+n,c.speed=d,c.origData={x:c.position.x,y:c.position.y,z:c.position.z,rx:c.rotation.x,ry:c.rotation.y,rz:c.rotation.z,sx:c.scale.x,sy:c.scale.y,sz:c.scale.z},Ma.add(c),i.add(Ma)}var p=[];Ma.children.forEach((function(e,a){p.push(e.position)})),TweenMax.set(p,{y:"-="+3*oe})}(),o.addEventListener("resize",Fa,!1),n.getElementById(L).addEventListener("pointermove",Va,!1),n.getElementById(L).addEventListener("pointerdown",Ya,!1),n.getElementById(L).addEventListener("pointerup",Wa,!1),o.addEventListener("pointermove",Xa),o.addEventListener("pointerup",Ja)},render:function a(){requestAnimationFrame(a);var n=ke.getDelta();Ne+=n,d.setClearColor(oa);var s,r,l=2*Oe/o.innerWidth;if(o.innerHeight,(De=.002*Oe)<-.1&&(De=-.1),De>.1&&(De=.1),(ze=.002*Ae)>.3&&(ze=.3),ze<-.3&&(ze=-.3),je+=.01*(De-je),Ie+=.01*(ze-Ie),Math.sin(3.5*je),Math.cos(3.5*je),ga.uniforms.time.value+=1.5*n,ne.uniforms.time.value=Ne,3==Te.children.length&&3==_e.children.length&&(Te.children[0].rotation.y=.2*l,_e.children[0].rotation.y=.2*l,Te.children[1].rotation.y=.3*-l,_e.children[1].rotation.y=.3*-l,Te.children[2].rotation.y=.4*l,_e.children[2].rotation.y=.4*l),Be&&(Ze.rotation.y+=De*n*.5),ea.rotation.y+=n*rt(.03,.8),aa.rotation.y+=-.21*n,da&&(fa[0].rotation.y+=n*rt(.3,.8),fa[0].rotation.x+=n*rt(.5,1.4),fa[1].rotation.y+=n*rt(1,2.5),fa[1].rotation.x+=n*rt(.5,.9),fa[2].rotation.y+=n*rt(.2,.6),fa[2].rotation.x+=n*rt(.5,.8)),pe&&(pe.rotation.x+=.2*n,pe.rotation.y+=.1*n),k&&(k.rotation.x+=5e-4),de&&(de.geometry.vertices.forEach((function(e,a){e.normalize().multiplyScalar(.15*Ue.noise3D(.4*e.x+1e-4*Date.now(),.4*e.y,.4*e.z)+1)})),de.geometry.computeVertexNormals(),de.geometry.normalsNeedUpdate=!0,de.geometry.verticesNeedUpdate=!0),ve&&ve.children.forEach((function(e,a){e.rotation.y+=.5*n,e.rotation.x+=.3*n})),ta.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workmain-")&&(e.rotation.x+=e.rotationSpeed)})),ta.children.forEach((function(e){e instanceof THREE.Mesh&&(e.name.includes("nucleus__worktitle-")||e.name.includes("nucleus__workcover-"))&&(e.rotation.y+=$e?.01:.001)})),ta.rotation.z+=$e?.01:.001,(q=ra.intersectObjects(ta.children,!0)).length>0){if(K!=q[0].object&&!q[0].object.name.includes("nucleus__worktitle-")){var c=q[0].object.parent.parent.parent.parent;if(null!==c){console.log("onPointerMove: ",c.name),K=q[0].object,TweenMax.to(c.scale,.3,{x:180,y:180,z:180}),C.addClass("is-hover");var p=i.getObjectByName("nucleus__workcover-"+c.targetid);ta.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workcover-")&&(e.visible=!1)})),p.visible=!0}}}else{if(K){var u=K.parent.parent.parent.parent;null!==u&&(TweenMax.to(u.scale,.3,{x:u.origData.sx,y:u.origData.sy,z:u.origData.sz}),C.removeClass("is-hover"),ta.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workcover-")&&(e.visible=!1)})))}K=null}if(Xe&&(ba.forEach((function(e,a){re.geometry.vertices[a].y=2.5+Math.sin((Ne+e.initValue)*e.speed)*e.amplitude})),re.geometry.verticesNeedUpdate=!0,le.geometry.verticesNeedUpdate=!0),Ye?ha.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-te-80&&(e.position.x=te/2)})):ha.forEach((function(e,a){e.rotation.y+=.001})),va.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-te-80&&(e.position.x=te/2)})),ia.forEach((function(e,a){e.rotation.z+=.2*e.speed*n})),Qe&&Ma.children.forEach((function(e,a){e.rotation.x+=.01,e.rotation.y+=.02,e.position.y+=-3*e.speed*.2,e.position.y<-He-80&&(e.position.y=He+oe/2)})),ra.setFromCamera(sa,t),la=fa.concat(Te.children).concat(_e.children),ba.length>0&&(la=la.concat(re)),(J=ra.intersectObjects(la)).length>0){if(Q!=J[0].object&&Fe){if(Q=J[0].object,C.addClass("is-hover"),Q.name.indexOf("nucleus__menuball-")>=0)switch(Q&&Q.material.emissive.setHex(Q.currentHex),Q.currentHex=Q.material.emissive.getHex(),Q.material.emissive.setHex(16711680),Q.material.wireframe=!0,Q.name){case"nucleus__menuball-0":s=[],r=[],ha.forEach((function(e,a){s.push(e.position),r.push(e.scale)})),Ea.classList.add("is-hover"),TweenMax.to(ma[0].scale,.2,{x:3,y:3,z:3});break;case"nucleus__menuball-1":!function(){var e=[],a=[];ha.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),ya.classList.add("is-hover"),TweenMax.to(ma[1].scale,.2,{x:2,y:2,z:2})}();break;case"nucleus__menuball-2":!function(){var e=[],a=[];ha.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),wa.classList.add("is-hover"),TweenMax.to(ma[2].scale,.2,{x:2,y:2,z:2})}()}Q.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&(e(".app-menu__wrapper").hasClass("has-clicked-item")||e(".app-topnav__wrapper").hasClass("scene-start"))&&("nucleus__menu-work"==Q.name&&TweenMax.to(be.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-about"==Q.name&&TweenMax.to(Re.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-contact"==Q.name&&TweenMax.to(Me.uAlpha,.5,{value:1,ease:Power2.easeOut})),Q.name.indexOf("nucleus__menu-")>=0&&(e("body").hasClass("primarymenu-active")||!e(".app-topnav__wrapper").hasClass("scene-start"))&&C.removeClass("is-hover")}}else Q&&(C.removeClass("is-hover"),Q.name.indexOf("nucleus__menuball-")>=0&&(Q.material.emissive.setHex(Q.currentHex),Q.material.wireframe=!1),Q.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&(e(".app-menu__wrapper").hasClass("has-clicked-item")||e(".app-topnav__wrapper").hasClass("scene-start"))&&("nucleus__menu-work"==Q.name&&TweenMax.to(be.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-about"==Q.name&&TweenMax.to(Re.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-contact"==Q.name&&TweenMax.to(Me.uAlpha,.5,{value:0,ease:Power2.easeOut})),Ea.classList.remove("is-hover"),ya.classList.remove("is-hover"),wa.classList.remove("is-hover"),TweenMax.to([ma[0].scale,ma[1].scale,ma[2].scale],.2,{x:1.5,y:1.5,z:1.5})),Q=null;V.render()},getRendererCanvasID:function(){return L},getScene:function(){return i},getCamera:function(){return t}}}();O.init(),O.render()},e.MAIN.pageLoaded=function(){},e.components.documentReady.push(e.MAIN.documentReady),e.components.pageLoaded.push(e.MAIN.pageLoaded))}(n,jQuery,window,document);function O(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,a,t){return a&&O(e.prototype,a),t&&O(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}!function(e,a,t,o){null!==t.AJAX_PUSH_CONTENT&&(e.AJAX_PUSH_CONTENT=e.AJAX_PUSH_CONTENT||{},e.AJAX_PUSH_CONTENT.version="0.1.0custom",e.AJAX_PUSH_CONTENT.documentReady=function(e){var a,n="[data-ajax-push-content],[data-primary-pagination],[data-cat-id],[data-tag-id],[data-archive-id],[data-author-id],[data-temp-id],[data-id],[data-homepage]",s=[],r={container:"#app-ajax-popwin-page-container",target:"#app-ajax-page-container",loading:'<div class="my-loader"><span class="app-loader-spinner"></span></div>',method:"GET"},l=(o.title,t.location.href),d=0;TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var c=function(e){console.log("detail progress: "+e)},p=function(e){e()},u=function(e){"hide"==e&&(TweenMax.to(".app-detail-transitionMask",.3,{delay:1,css:{opacity:0,display:"none"}}),TweenMax.to(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],.5,{opacity:1})),"show"==e&&TweenMax.to(".app-detail-transitionMask",.3,{css:{opacity:1,display:"block"}})};function f(o,n,r,l,p,f,m,h){if(0==o.length)return!1;"undefined"!==L(p)&&""!=p||(p="POST"),e.ajax({timeout:15e3,url:l,method:p,dataType:"html",data:{action:"load_singlepages_ajax_content"},beforeSend:function(){e("body, .uix-menu-mobile__toggle").removeClass("js-uix-menu-opened is-opened"),c(0),u("show"),(m||h)&&e("#app-loading").removeClass("is-active"),m&&(e("#app-ajax-popwin-page-mask").addClass("is-active"),e("#app-ajax-popwin-page-mask--list").hasClass("is-active")&&e("#app-ajax-popwin-page-mask--list").removeClass("is-active")),h&&e("#app-ajax-popwin-page-mask--list").addClass("is-active"),m||h||(e("#app-loader-mask--in").addClass("is-active"),setTimeout((function(){e("#app-loader-mask").hasClass("is-active")&&(e("#app-loader-mask, #app-loading").removeClass("is-active"),e("#app-loader-mask").css({opacity:1,display:"block"}))}),1e3))}}).done((function(r){var l,p=n?e(r).find(n).html():"";s=[],e(r).find("img").each((function(){s.push({url:this.src,id:"img-"+i.create(),type:"img"})})),e(r).find(".uix-video__slider > video").each((function(){var a=e(this).find("source:first").attr("src");"undefined"===L(a)&&(e(this).attr("src"),function(e){throw new TypeError('"'+e+'" is read-only')}("_src")),s.push({url:a,id:"video-"+i.create(),type:"video"})}));var v=1;0==s.length?(c(l=100),u("hide")):(c(0),u("hide"));var x=function(e){e.url,e.w,e.h;l=parseInt(v/s.length*100),console.log("progress: "+l+"%"),isNaN(l)&&(l=100),d=l,c(l),u("hide");return v++,l},E=function(){!function(a,t,o,n,i,s){if(console.log("loadedProgress: "+d),d<100)return!1;var r=function(){i||s||e("#app-loader-mask").hasClass("is-active")||e("#app-loader-mask").addClass("is-active"),e("#app-loading").hasClass("is-active")||e("#app-loading").addClass("is-active"),i&&(e("#app-ajax-popwin-page-container, .app-close-btn__wrapper").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").addClass("is-loaded")),s&&(e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").addClass("is-loaded")),a.html(t).promise().done((function(){e("#app-ajax-popwin-page-container").addClass("app-none-bg").find("#uix-maincontent").addClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").addClass("app-none-bg"),n&&n.data("request-running",!1)}))};i||s?r():TweenMax.set("#app-loader-mask--in",{delay:2,css:{opacity:0,display:"none"},onComplete:function(){e(this.target).removeClass("is-active").css({opacity:1,display:"block"}),r()}})}(o,p,e(r).filter("title").text(),f,m,h)};(function(){for(var a=[],t=function(t){"img"==s[t].type?a.push(new Promise((function(e,a){var o=new Image;o.crossOrigin="anonymous",o.src=s[t].url,o.onload=function(a){return"undefined"===L(a.path)?e({w:0,h:0,url:a.target.currentSrc}):e({w:a.path[0].naturalWidth,h:a.path[0].naturalHeight,url:a.path[0].currentSrc})}})).then(x)):a.push(new Promise((function(a,o){return e("#"+s[t].id).one("loadedmetadata",a),a({url:s[t].url})})).then(x))},o=0;o<s.length;o++)t(o);return Promise.all(a)})().then((function(e){clearInterval(a),E()}));var y=(new Date).getTime();a&&clearInterval(a),a=setInterval((function(){((new Date).getTime()-y)/1e3>=10&&(console.log("Page load timeout!"),htmlCode.indexOf("<body")>=0?t.location.href=location.href:u("hide"),clearInterval(a),E())}),500)})).fail((function(e,a,o){t.location.href=l}))}e(o).off("click.AJAX_PUSH_CONTENT").on("click.AJAX_PUSH_CONTENT",n,(function(a){a.preventDefault(),setTimeout((function(){}),500),TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var t=e(this),o=t.attr("href"),n=t.data("ajax-push-content"),i=!!e(this).hasClass("app-popwin"),s=!!e(this).hasClass("app-popwin--list");if(d=0,"undefined"==L(n)&&(n=r),"undefined"===L(o)&&(o=t.closest("a").attr("href")),!t.data("request-running"))return t.data("request-running",!0),history.pushState?history.pushState(null,null,o):location.hash=o,f(e(n.container),n.target,n.loading,o,n.method,t,i,s),!1})),t.addEventListener("popstate",(function(a){var t=null,o=location.href;e(n).each((function(){this.href===location.href&&(t=this,o=this.href)})),null==t&&e(n).each((function(){var a=e(this).data("ajax-push-content");"undefined"!=L(a)&&p((function(){e(a.container).html(""),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").removeClass("is-loaded")}))}));var i=e(t).data("ajax-push-content"),s=!!e(t).hasClass("app-popwin"),r=!!e(t).hasClass("app-popwin--list");"undefined"!=L(i)&&f(e(i.container),i.target,i.loading,o,i.method,e(t),s,r)})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN",".app-close-btn__wrapper.is-loaded",(function(){var a=e(this);p((function(){var t;a.prev("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").prev("#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST",".app-close-btn__wrapper--list.is-loaded",(function(){var a=e(this);p((function(){a.prev("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container--list").prev("#app-ajax-popwin-page-mask--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER","#app-ajax-popwin-page-mask.is-loaded",(function(){var a=e(this);p((function(){var t;a.next("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").next(".app-close-btn__wrapper").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER","#app-ajax-popwin-page-mask--list.is-loaded",(function(){var a=e(this);p((function(){a.next("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container--list").next(".app-close-btn__wrapper--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))}))},e.components.documentReady.push(e.AJAX_PUSH_CONTENT.documentReady))}(n,jQuery,window,document)})()})();
//# sourceMappingURL=js/uix-kit.min.js.map