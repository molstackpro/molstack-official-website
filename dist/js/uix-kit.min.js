/*! For license information please see uix-kit.min.js.LICENSE.txt */
(()=>{var e={925:()=>{!function(e){"use strict";e.fn.UixParallax=function(a){var t=e.extend({speed:.25,transition:"all 0.4s cubic-bezier(0, 0, 0.34, 0.96) 0s",bg:{enable:!0,xPos:"50%"}},a);this.each((function(){var a=t.bg,o=e(this),n="50%",i=-parseFloat(t.speed);a&&(a=t.bg.enable,n=t.bg.xPos),o.css({transition:"none"}),e(window).on("scroll.UixParallax touchmove.UixParallax",(function(e){var s;s=o[0].getBoundingClientRect().top,a?TweenMax.set(o,{css:{"background-position":n+" "+(0-s*i)+"px",transition:t.transition}}):TweenMax.set(o,{css:{transform:"matrix(1, 0, 0, 1, 0, "+(0-s*i)+")",transition:t.transition}})})),a?TweenMax.set(o,{backgroundPosition:n+" "+-o.offset().top*i+"px"}):TweenMax.set(o,{y:0})}))}}(jQuery)}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var i=a[o]={exports:{}};return e[o](i,i.exports,t),i.exports}(()=>{"use strict";function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}"undefined"==typeof APP_ROOTPATH?("",""):(APP_ROOTPATH.templateUrl.replace(/\/\s*$/,""),APP_ROOTPATH.homeUrl.replace(/\/\s*$/,""),APP_ROOTPATH.ajaxUrl.replace(/\/\s*$/,""));try{document.addEventListener("test",null,{get passive(){!0}})}catch(e){}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var a=/(android)/i.test(navigator.userAgent),o=(navigator.userAgent.match(/(iPhone|iPod|Android|ios|Mobile)/i),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),!!window.ActiveXObject||window,function(a,t,o){var n={},i={documentReady:[],pageLoaded:[]};function s(t){t="undefined"==e(t)?a:t,i.documentReady.forEach((function(e){e(t)}))}function r(t){t="object"==e(t)?a:t,i.pageLoaded.forEach((function(e){e(t)}))}return 0==a("img").length&&a("body").prepend('<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="" style="display:none">'),a.isFunction(a.fn.waitForImages)?a("body").waitForImages(r):a(t).on("load",r),a(o).ready(s),n.setContext=function(t){var o=a;return"undefined"!==e(t)?function(e){return a(t).find(e)}:o},n.components=i,n.documentReady=s,n.pageLoaded=r,n}($,window,document)),n=n||function(){function e(){}return e.version="0.0.1",e.create=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=16*Math.random()|0;return("x"==e?a:3&a|8).toString(16)}))},e}(),i=i||function(){function e(){}return e.version="0.0.1",e.evaluate=function(e){var a=e.replace(/\s/g,"").split(""),t=[],o=[],n=0,i=!0;t[n]="";for(var s=0;s<a.length;s++)isNaN(parseInt(a[s]))&&"."!==a[s]&&!i?(o[n]=a[s],t[++n]="",i=!0):(t[n]+=a[s],i=!1);e=parseFloat(t[0]);for(var r=0;r<o.length;r++){var l=parseFloat(t[r+1]);switch(o[r]){case"+":e+=l;break;case"-":e-=l;break;case"*":e*=l;break;case"/":e/=l}}return e},e}(),s=s||function(){function a(){}return a.version="0.0.1",a.getTransitionDuration=function(a){if("undefined"===e(a))return 0;var t=window.getComputedStyle(a),o=t.webkitTransitionDuration,n=t.webkitTransitionDelay;return"undefined"!=e(o)?(o=o.indexOf("ms")>-1?parseFloat(o):1e3*parseFloat(o),n=n.indexOf("ms")>-1?parseFloat(n):1e3*parseFloat(n),o):0},a.getAbsoluteCoordinates=function(e){var a=window.innerWidth,t=null,o=null;return document.getElementsByTagName("body")[0].className.match(/rtl/)?(t=0==e.offsetLeft?a-(e.parentElement.offsetLeft+e.parentElement.offsetWidth):a-(e.offsetLeft+e.offsetWidth),o=0==e.offsetTop?a-(e.parentElement.offsetTop+e.parentElement.offsetHeight):a-(e.offsetTop+e.offsetHeight)):(t=0==e.offsetLeft?e.parentElement.offsetLeft:e.offsetLeft,o=0==e.offsetTop?e.parentElement.offsetTop:e.offsetTop),{left:t,top:o}},a}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function l(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,a,t){return a&&l(e.prototype,a),t&&l(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.fn.UixModuleFilter=function(a){var t=e.extend({destroy:!1,add:{moduleName:"OLD_MODULE_NAME",pageLoaded:!1,version:"0.0.1",callback:function(){}}},a);this.each((function(){if(t.destroy&&"[object String]"==Object.prototype.toString.call(t.destroy)){var a=t.destroy;"undefined"!=r(o[a])&&delete o[a]}if(t.add&&"[object Object]"==Object.prototype.toString.call(t.add)&&t.add.hasOwnProperty("pageLoaded")){var n=t.add.moduleName;if("undefined"!=r(o[n]))console.log("The module already exists, please destroy the old module or change the new module name.");else{if(!t.add.pageLoaded||0==t.add.pageLoaded){var i=(l=o,jQuery,window,document,l[n]=l[n]||{},l[n].version=t.add.version,l[n].documentReady=function(e){t.add.callback()},l.components.documentReady.push(l[n].documentReady),i);o[n].documentReady(e)}if(t.add.pageLoaded||1==t.add.pageLoaded){var s=function(e,a,o,i){return e[n]=e[n]||{},e[n].version=t.add.version,e[n].pageLoaded=function(){t.add.callback()},e.components.pageLoaded.push(e[n].pageLoaded),s}(o,jQuery,window,document);o[n].pageLoaded()}}}var l}))}}(jQuery),function(e){e.fn.UixApplyAsyncScripts=function(a){var t=e.extend({scrollReveal:!0,ajaxPostList:!0,ajaxDDList:!0,counterAnim:!0,lightBox:!0},a);this.each((function(){o.MAIN&&o.MAIN.pageLoaded(),o.COMMON_HEIGHT&&o.COMMON_HEIGHT.pageLoaded(),o.ADVANCED_SLIDER&&o.ADVANCED_SLIDER.pageLoaded(),o.ADVANCED_SLIDER_FILTER&&o.ADVANCED_SLIDER_FILTER.pageLoaded(),o.FULL_WIDTH_COLUMN_TO_EDGE&&o.FULL_WIDTH_COLUMN_TO_EDGE.pageLoaded(),o.STICKY_EL&&o.STICKY_EL.pageLoaded(),o.TEXT_EFFECT&&o.TEXT_EFFECT.pageLoaded(),o.TIMELINE&&o.TIMELINE.pageLoaded(),o.HYBRID_CONTENT_SLIDER&&o.HYBRID_CONTENT_SLIDER.pageLoaded(),o.MAIN&&o.MAIN.documentReady(e),o.TABLE&&o.TABLE.documentReady(e),o.TABLE_SORTER&&o.TABLE_SORTER.documentReady(e),o.MODAL_DIALOG&&o.MODAL_DIALOG.documentReady(e),o.PARALLAX&&o.PARALLAX.documentReady(e),o.VIDEOS&&o.VIDEOS.documentReady(e),o.BODY_AND_HEADER&&o.BODY_AND_HEADER.documentReady(e),o.SET_BG&&o.SET_BG.documentReady(e),o.GET_CUSTOM_ATTRS&&o.GET_CUSTOM_ATTRS.documentReady(e),o.PAGINATION&&o.PAGINATION.documentReady(e),o.FORM&&o.FORM.documentReady(e),o.FLEXSLIDER&&o.FLEXSLIDER.documentReady(e),o.RETINA&&o.RETINA.documentReady(e),o.SHOW_MORELESS&&o.SHOW_MORELESS.documentReady(e),o.DROPDOWN_MENU&&o.DROPDOWN_MENU.documentReady(e),o.DROPDOWN_MENU2&&o.DROPDOWN_MENU2.documentReady(e),o.ACCORDION&&o.ACCORDION.documentReady(e),o.GALLERY&&o.GALLERY.documentReady(e),o.IMAGE_SHAPES&&o.IMAGE_SHAPES.documentReady(e),o.PERIODICAL_SCROLL&&o.PERIODICAL_SCROLL.documentReady(e),o.PRICING&&o.PRICING.documentReady(e),o.PROGRESS_BAR&&o.PROGRESS_BAR.documentReady(e),o.PROGRESS_LINE&&o.PROGRESS_LINE.documentReady(e),o.ROTATING_EL&&o.ROTATING_EL.documentReady(e),o.SMOOTH_SCROLLING_ANCHORLINK&&o.SMOOTH_SCROLLING_ANCHORLINK.documentReady(e),o.TABS&&o.TABS.documentReady(e),o.TEAM_FOCUS&&o.TEAM_FOCUS.documentReady(e),o.LAVA_LAMP_STYLE_MENU&&o.LAVA_LAMP_STYLE_MENU.documentReady(e),o.CIRCLE_LAYOUT&&o.CIRCLE_LAYOUT.documentReady(e),o.MULTI_ITEMS_CAROUSEL&&o.MULTI_ITEMS_CAROUSEL.documentReady(e),o.THREE_BACKGROUND&&o.THREE_BACKGROUND.documentReady(e),o.THREE_CAROUSEL&&o.THREE_CAROUSEL.documentReady(e),o.THREE_LIQUID_SCROLLSPY_SLIDER&&o.THREE_LIQUID_SCROLLSPY_SLIDER.documentReady(e),t.scrollReveal&&o.SCROLL_REVEAL&&o.SCROLL_REVEAL.documentReady(e),t.ajaxPostList&&o.POST_LIST_AJAX&&o.POST_LIST_AJAX.documentReady(e),t.ajaxDDList&&o.DYNAMIC_DD_LIST&&o.DYNAMIC_DD_LIST.documentReady(e),t.counterAnim&&o.COUNTER&&o.COUNTER.documentReady(e),t.lightBox&&o.LIGHTBOX&&o.LIGHTBOX.pageLoaded(),e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery),function(e){e.fn.UixApplyAsyncAllScripts=function(a){var t=e.extend({runAll:!0},a);this.each((function(){var a=o.components.pageLoaded,n=o.components.documentReady;if(t.runAll){for(var i=0;i<a.length;i++)a[i]();for(var s=0;s<n.length;s++)n[s](e)}e.isFunction(e.uix_sc_init)&&e.uix_sc_init()}))}}(jQuery);!function(e,a,t,o){null!==t.BODY_AND_HEADER&&(e.BODY_AND_HEADER=e.BODY_AND_HEADER||{},e.BODY_AND_HEADER.version="0.0.7",e.BODY_AND_HEADER.documentReady=function(e){if(e("body").hasClass("onepage"))return!1;var a=e(t),o=t.innerWidth;t.innerHeight;function n(a){var t=e(".uix-header__placeholder.js-uix-header__placeholder-autoheight");a>768?(t.css("height",e(".uix-header__container").outerHeight(!0)+"px"),e("body").removeClass("is-mobile")):(t.css("height",0),e("body").addClass("is-mobile"))}n(o),a.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}));var i=e(".uix-header__container, .uix-header__placeholder");a.off("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER").on("scroll.BODY_AND_HEADER touchmove.BODY_AND_HEADER",(function(){e(this).scrollTop()>=220?i.addClass("is-fixed"):i.removeClass("is-fixed")}))},e.components.documentReady.push(e.BODY_AND_HEADER.documentReady))}(o,jQuery,window,document);function c(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,a,t){return a&&c(e.prototype,a),t&&c(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e,a,t,o){null!==t.COMMON_HEIGHT&&(e.COMMON_HEIGHT=e.COMMON_HEIGHT||{},e.COMMON_HEIGHT.version="0.0.3",e.COMMON_HEIGHT.pageLoaded=function(){var e=a(t),o=t.innerWidth;t.innerHeight;function n(e){a(".js-uix-common-height").each((function(){var t=a(this),o="[class*=col-], [class*=uix-core-grid__col-]",n=0;t.children(o).each((function(){var e=a(this);e.find("img").each((function(){"inline"==a(this).parent("a").css("display")&&a(this).parent("a").css("display","inline-block")})),(e.hasClass("max-height")||e.height()>n)&&(n=e.outerHeight())})),e>768?t.children(o).each((function(){a(this).css("height",n)})):t.children(o).each((function(){a(this).css("height","auto")}))}))}n(o),e.on("resize",(function(){t.innerWidth!=o&&n(o=t.innerWidth)}))},e.components.pageLoaded.push(e.COMMON_HEIGHT.pageLoaded))}(o,jQuery,window,document);function u(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,a,t){return a&&u(e.prototype,a),t&&u(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(e,a,t,o){null!==t.GET_CUSTOM_ATTRS&&(e.GET_CUSTOM_ATTRS=e.GET_CUSTOM_ATTRS||{},e.GET_CUSTOM_ATTRS.version="0.0.1",e.GET_CUSTOM_ATTRS.documentReady=function(e){e("[data-my-custom-datas]").each((function(){var a=e(this).attr(),t="";e.each(a,(function(e,a){e.indexOf("data-custom-field-")>=0&&(t+='"'+e.replace("data-custom-field-","")+'": "'+a+'", ')})),t=t.replace(/,\s*$/,"")}))},e.components.documentReady.push(e.GET_CUSTOM_ATTRS.documentReady))})(o,jQuery,window,document),t(925);function m(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,a,t){return a&&m(e.prototype,a),t&&m(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}!function(e,a,t,o){null!==t.SET_BG&&(e.SET_BG=e.SET_BG||{},e.SET_BG.version="0.0.6",e.SET_BG.documentReady=function(e){var a=e(t),o=t.innerWidth,n=t.innerHeight;function i(a,t){e("[data-bg]").each((function(){var a=e(this),t=a.data("bg");if("undefined"===v(t)&&(t={src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",position:"top left",size:"cover",repeat:"no-repeat",fill:!1,parallax:0,transition:"none 0s ease 0s",move:!1}),t){var o=t.src,n=t.position,i=t.size,s=t.repeat,r=t.transition,l=t.parallax,d=t.move;"undefined"===v(n)&&(n="top left"),"undefined"===v(i)&&(i="cover"),"undefined"===v(s)&&(s="no-repeat"),"undefined"===v(r)&&(r="none 0s ease 0s"),"undefined"===v(d)&&(d=!1),l&&"undefined"!=v(l)&&0!=l&&(n=n.replace("top","50%"));var c="none",p="infinite";if(d&&"[object Object]"==Object.prototype.toString.call(d)){switch(d.loop||(p="1 forwards"),n="0 0",d.dir){case"top":c="js-uix-cssanim--move-t "+parseInt(d.speed)+"s "+"linear "+p;break;case"bottom":c="js-uix-cssanim--move-b "+parseInt(d.speed)+"s "+"linear "+p;break;case"left":c="js-uix-cssanim--move-l "+parseInt(d.speed)+"s "+"linear "+p;break;case"right":c="js-uix-cssanim--move-r "+parseInt(d.speed)+"s "+"linear "+p}0==e("#js-uix-cssanim--move-t").length&&e('<style id="js-uix-cssanim--move-t">').text("@keyframes js-uix-cssanim--move-t{from{background-position:0 0;}to{background-position:0 -19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-b").length&&e('<style id="js-uix-cssanim--move-b">').text("@keyframes js-uix-cssanim--move-b{from{background-position:0 0;}to{background-position:0 19999px;}").appendTo("head"),0==e("#js-uix-cssanim--move-l").length&&e('<style id="js-uix-cssanim--move-l">').text("@keyframes js-uix-cssanim--move-l{from{background-position:0 0;}to{background-position:-19999px 0;}").appendTo("head"),0==e("#js-uix-cssanim--move-r").length&&e('<style id="js-uix-cssanim--move-r">').text("@keyframes js-uix-cssanim--move-r{from{background-position:0 0;}to{background-position:19999px 0;}").appendTo("head")}"undefined"!=v(o)&&""!=o&&(t.fill?Modernizr.cssanimations&&a.css({background:"url("+o+") "+s,"background-size":i,"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",animation:c}):a.css({"background-image":"url("+o+")","background-position":n,"background-size":i,"background-repeat":s,animation:c}),l&&"undefined"!=v(l)&&0!=l&&a.UixParallax({speed:l,transition:r,bg:{enable:!0,xPos:"50%"}}))}}))}i(o,n),a.on("resize",(function(){t.innerWidth!=o&&(o=t.innerWidth,n=t.innerHeight,i(o,n))}))},e.components.documentReady.push(e.SET_BG.documentReady))}(o,jQuery,window,document);function x(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,a,t){return a&&x(e.prototype,a),t&&x(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}!function(e,t,o,n){null!==o.VIDEOS&&(e.VIDEOS=e.VIDEOS||{},e.VIDEOS.version="0.1.3",e.VIDEOS.documentReady=function(e){e(o);var t=o.innerWidth,i=o.innerHeight;e(".uix-video").each((function(){var o=e(this),n=o.find("video").attr("id"),i="videocover-"+n,s=o.closest("[data-embed-video-wrapper]").width(),r=o.data("embed-video-autoplay"),l=o.data("embed-video-loop"),d=o.data("embed-video-controls"),c=o.data("embed-video-width"),p=o.data("embed-video-height");if(o.find(".video-js").attr("id",n),"undefined"===y(r)&&(r=!0),"undefined"===y(l)&&(l=!0),"undefined"===y(d)&&(d=!1),"undefined"!==y(c)&&"auto"!=c||(c=s),"undefined"!==y(p)&&"auto"!=p||(p=s/1.77777777777778),0==e("#"+i).length){e('<div id="'+i+'" class="uix-video__cover"><span class="uix-video__cover__placeholder" style="background-image:url('+o.find("video").attr("poster")+')"></span><span class="uix-video__cover__playbtn"></span></div>').insertBefore(o);var u=Modernizr.touchevents?"touchstart":"click";e("#"+i+" .uix-video__cover__playbtn").on(u,(function(a){a.preventDefault(),f.play(),e("#"+i).hide()})),r&&!a||e("#"+i+" .uix-video__cover__playbtn").show()}t<=768&&o.find(".video-js").attr({playsinline:"true"});var f=videojs(n,{width:c,height:p,loop:l,autoplay:r},(function(){var a=function(e){var a,t,n=e.videoWidth(),i=e.videoHeight();t=i*((a=s)/n),isNaN(a)||isNaN(t)||(e.height(t),e.width(a)),o.css("visibility","visible"),o.find(".vjs-loading-spinner, .vjs-big-play-button").hide()};a(this),this.on("loadedmetadata",(function(){a(this)})),r&&(this.muted(!0),this.play()),d||this.controls(!1);this.on("timeupdate",(function(){this.duration()>0&&(!0,this.currentTime()>0&&(!0,this.off("timeupdate"),e("#"+i).hide()))}))}))}));var s="[data-video-win]";e(s).each((function(){var a=e(this),t="",o=a.data("video-mp4"),n=a.data("video-webm"),i=a.data("video-ogv"),s=a.data("video-poster"),r=a.data("modal-id"),l=r+"--videopush";if("undefined"===y(o)&&(o=""),"undefined"===y(n)&&(n=""),"undefined"===y(i)&&(i=""),a.find("[data-video-iframe]").length>0&&(t=a.find("[data-video-iframe]").html()),0==e("#"+r).length){var d="",c="",p="",u="";""!=o&&(c='<source src="'+o+'" type="video/mp4">'),""!=n&&(p='<source src="'+n+'" type="video/webm">'),""!=i&&(u='<source src="'+i+'" type="video/ogv">'),d+='<div class="uix-modal-box is-fullscreen is-video" role="dialog" tabindex="-1" aria-hidden="true" id="'+r+'">',d+='<button type="button" class="uix-modal-box__close" data-modal-close-trigger="true"></button>',d+='<div class="uix-modal-box__content" role="document">',d+='<div class="uix-modal-box__video-waiting"></div><div class="uix-modal-box__video-container" data-video-player-init="0">',a.find("[data-video-iframe]").length>0&&""!=t?(d+='<div id="'+l+'" class="embed-responsive embed-responsive-16by9">',d+=t,d+="</div>"):(d+='<video id="'+l+'" class="video-js vjs-default-skin" controls poster="'+s+'">',d+=c+p+u,d+="</video>"),d+="</div>",d+="</div>",e(d+="</div>").appendTo("body")}})),e(n).off("click.VIDEOS").on("click.VIDEOS",s,(function(){var a=e(this).data("modal-id")+"--videopush",o=t-80,s=i-80,r=e("#"+a).closest(".uix-modal-box__video-container"),l=r.prev(".uix-modal-box__video-waiting"),d=r.data("video-player-init"),c=!1,p=function(){TweenMax.set(r,{alpha:1}),l.removeClass("is-active")};if(e("#"+a).find("iframe").length>0?c=e("#"+a).find("iframe"):(TweenMax.set(r,{alpha:0}),l.addClass("is-active")),c&&"object"===y(c)){if(c.length>0){var u=c.width(),f=c.height(),m=u,h=f;f>s&&(m=u*((h=s)/f)),m>o&&(h=f*((m=o)/u)),c.css({left:(o-m)/2+"px",top:(s-h)/2+"px",height:h+"px",width:m+"px"}),t<=768&&c.css({top:0}).parent(".embed-responsive").css({top:(s-h)/2+"px"})}return!1}t<=768&&e("#"+a).attr({playsinline:"true"});var v=videojs(a,{width:1,height:1,autoplay:!0,loop:!0},(function(){var e=function(e){var a=e.videoWidth(),t=e.videoHeight(),n=a,l=t;t>s&&(n=a*((l=s)/t)),n>o&&(l=t*((n=o)/a)),e.height(l),e.width(n),r.find(" > div.video-js").css({width:n+"px"});var d=parseFloat(i-l)/2-50;r.css({transform:"translateY("+d+"px)"}),p()};e(this),this.on("loadedmetadata",(function(){e(this),r.data("video-player-init",1)})),this.play(),this.on("timeupdate",(function(){var e=this.duration();e>0&&this.currentTime()})),this.on("ended",(function(){}))}));1===d&&p(),e(n).off("click.VIDEOS_CLOSE").on("click.VIDEOS_CLOSE",".uix-modal-box [data-modal-close-trigger], .uix-modal-mask:not(.js-uix-disabled)",(function(){v.ready((function(){this.pause()}))}))}))},e.components.documentReady.push(e.VIDEOS.documentReady))}(o,jQuery,window,document);const w="#define GLSLIFY 1\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4(vColor, 1.);\n}     ",g="#define GLSLIFY 1\nuniform float time;\nuniform vec2 limits;\nuniform float speed;\nattribute float moveable;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    float limLen = limits.y - limits.x;\n    vec3 pos = position;\n    if (floor(moveable + 0.5) > 0.5) {\n        float dist = speed * time;\n        float currPos = mod((pos.z + dist) - limits.x, limLen) + limits.x;\n        pos.z = currPos;\n    }\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}",T="#define GLSLIFY 1\n uniform sampler2D uTexture;\n uniform float uAlpha;\n uniform vec2 uOffset;\n\n varying vec2 vUv;\n\n vec3 rgbShift(sampler2D texture, vec2 uv, vec2 offset) {\n   float r = texture2D(uTexture,vUv + 0.0).r;\n   vec2 gb = texture2D(uTexture,vUv).gb;\n   return vec3(r,gb);\n }\n\n void main() {\n   vec3 color = rgbShift(uTexture,vUv,uOffset);\n   gl_FragColor = vec4(color,uAlpha);\n }   ",_="#define GLSLIFY 1\n uniform vec2 uOffset;\n varying vec2 vUv;\n\n #define M_PI 3.1415926535897932384626433832795\n\n vec3 deformationCurve(vec3 position, vec2 uv, vec2 offset) {\n   position.x = position.x + (sin(uv.y * M_PI) * offset.x);\n   position.y = position.y + (sin(uv.x * M_PI) * offset.y);\n   return position;\n }\n\n void main() {\n   vUv = uv;\n   vec3 newPosition = deformationCurve(position, uv, uOffset);\n   gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );\n }",b="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n\tfloat intensity = pow( 0.7 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), 4.0 ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}",R="#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";function M(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,a,t){return a&&M(e.prototype,a),t&&M(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}!function(e,a,t,o){null!==t.MAIN&&(e.MAIN=e.MAIN||{},e.MAIN.version="0.0.1",e.MAIN.documentReady=function(e){if(e("body").hasClass("page"))return!1;o.addEventListener("touchstart",(function(e){e.touches.length>1&&e.preventDefault()}));var a=0;o.addEventListener("touchend",(function(e){var t=(new Date).getTime();t-a<=300&&e.preventDefault(),a=t}),!1);var n="#app-mouse-overlay";0==e(n).length&&e("body").prepend('<div id="app-mouse-overlay" style="background-color: rgba(1, 1, 1, 0);bottom: 0;left: 0;position: fixed;right: 0;top: 0;z-index: 999999999;width: 100vw; height: 100vh;display: none;"></div>');var i=function(){e(n).show(),setTimeout((function(){e(n).hide()}),3e3)},s=".app-cursor .app-cursor__progress svg.dot circle",r=".app-cursor .app-cursor__progress svg.circle path",l=".app-cursor .app-cursor__progress svg.arrow path",d=".app-loader-progress",c=".app-loader-progress__counter",p=".app-loader-headphone",u=".app-enter-btn",f=".uix-brand",m=".app-topnav__wrapper",h=".app-scrolling-textbox__wrapper",v=".app-scrolling-textbox > p",x="#app-screen-home",E="#app-screen-home .app-screen-home__desc",y={fonts:["assets/fonts/fjalla-one/FjallaOne_Regular.json?ver=1","assets/fonts/abeezee/ABeeZee_Regular.json?ver=1","assets/fonts/almonte/Almonte_Regular.json?ver=1"],models:["assets/models/gltf/cave-webgl.glb?ver=1","assets/models/gltf/brand.glb?ver=1","assets/models/gltf/stone-anim.glb?ver=1","assets/models/gltf/stone.glb?ver=1"],textures:["assets/textures/sprites/water-blue.jpg?ver=1","assets/textures/sprites/water.jpg?ver=1","assets/textures/sprites/ps_ball.png?ver=1","assets/textures/sprites/metal.jpg?ver=1","assets/textures/sprites/metal-env.jpg?ver=1","assets/textures/sprites/planet4-black.jpg?ver=1","assets/textures/sprites/mask.jpg?ver=1","assets/textures/sprites/txt-bg.jpg?ver=1"],audios:["assets/audios/bg.ogg?ver=1","assets/audios/enter-scene.ogg?ver=1","assets/audios/btn-hover.ogg?ver=1"],aboutTextures:["assets/videos/about.mp4","assets/videos/about2.mp4","assets/videos/about3.mp4"],workTextures:["assets/images/works/1.jpg","assets/images/works/2.jpg","assets/images/works/3.jpg","assets/images/works/4.jpg"]};function M(e){TweenMax.to(s,.5,{drawSVG:e+"%"})}var S=e(".app-cursor");e(o).on("pointermove.CURSOR",(function(e){var a;S.addClass("is-moving"),TweenMax.to(S,.2,{left:e.pageX,top:e.pageY,ease:Power4.easeOut}),clearTimeout(a),a=setTimeout((function(){S.removeClass("is-moving")}),300),S.hasClass("is-down")&&S.removeClass("is-down")})).on("pointerdown.CURSOR",(function(e){S.addClass("is-down")})).on("pointerup.CURSOR",(function(e){S.removeClass("is-down")})),e(u).on("pointerenter.CURSOR_ENTER",(function(){e(s).parent().addClass("is-disabled"),e(r).parent().addClass("is-disabled"),e(l).parent().addClass("is-active")})).on("pointerleave.CURSOR_ENTER",(function(){e(s).parent().removeClass("is-disabled"),e(r).parent().removeClass("is-disabled"),e(l).parent().removeClass("is-active")})).on("click.CURSOR_ENTER",(function(){S.addClass("is-down"),e(s).parent().removeClass("is-disabled"),e(r).parent().removeClass("is-disabled"),e(l).parent().removeClass("is-active").addClass("is-down"),i()}));var H=function(){e(t);var a,n,r,l,H=t.innerWidth,O=t.innerHeight,A="app-main",L=[],P=new THREE.LoadingManager;P.onLoad=function(){},P.onProgress=function(e,a,t){},P.onError=function(e){console.log("▶▶▶▶▶ There was an error loading ◀◀◀◀◀◀  "+e)};var D=new THREE.TextureLoader(P),z=new THREE.GLTFLoader(P),j=new THREE.FontLoader(P);D.crossOrigin="anonymous",z.crossOrigin="anonymous",j.crossOrigin="anonymous";var I,k,N,G,U,B,F,V,W,Y,X,J,Q,q,K,$,Z,ee,ae,te,oe,ne,ie,se,re,le,de,ce,pe,ue,fe,me,he,ve,xe,Ee,ye,we,ge,Te,_e,be,Re,Me,Se,Ce,He=0,Oe=0,Ae=H/2,Le=O/2,Pe=0,De=0,ze=0,je=0,Ie=new THREE.Clock,ke=0,Ne=1e-8,Ge=new SimplexNoise,Ue=!1,Be=!1,Fe=!1,Ve=!1,We=!1,Ye=!1,Xe=!0,Je=!1,Qe=!1,qe=!1,Ke=!0,$e=new THREE.Object3D,Ze=new THREE.Object3D,ea=new THREE.Object3D,aa=new THREE.Object3D,ta="#".concat((new THREE.Color).setHSL(0,0,0).getHexString()),oa=new THREE.Object3D,na=[],ia=new THREE.Vector2,sa=new THREE.Raycaster,ra=[],la=new THREE.Object3D,da=new THREE.Object3D,ca=new THREE.Object3D,pa=new THREE.ShaderMaterial({uniforms:{c:{type:"f",value:2.5},p:{type:"f",value:14}},vertexShader:"#define GLSLIFY 1\nvarying vec3 vNormal;\nvoid main() \n{\n    vNormal = normalize( normalMatrix * normal );\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#define GLSLIFY 1\nuniform float c;\nuniform float p;\nvarying vec3 vNormal;\nvoid main() \n{\n    float intensity = pow( c - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) ), p ); \n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;\n}"}),ua=[],fa=[],ma=[],ha=[],va=null,xa=o.querySelector("#app-menu__nucleus-0"),Ea=o.querySelector("#app-menu__nucleus-1"),ya=o.querySelector("#app-menu__nucleus-2"),wa=new THREE.ShaderMaterial({uniforms:{diffuse:{value:new THREE.Color(16777215)},dashSize:{value:1},gapSize:{value:1},dotSize:{value:.15},opacity:{value:.8},time:{value:0}},fragmentShader:"#define GLSLIFY 1\n  uniform vec3 diffuse;\n  uniform float opacity;\n  uniform float time; // added time uniform\n\n  uniform float dashSize;\n  uniform float gapSize;\n  uniform float dotSize;\n  varying float vLineDistance;\n\n  void main() {\n    float totalSize = dashSize + gapSize;\n    float modulo = mod( vLineDistance + time, totalSize ); // time added to vLineDistance\n    float dotDistance = dashSize + (gapSize * .5) - (dotSize * .5);\n\n    if ( modulo > dashSize && mod(modulo, dotDistance) > dotSize ) {\n      discard;\n    }\n\n    gl_FragColor = vec4( diffuse, opacity );\n  }",vertexShader:"#define GLSLIFY 1\n  attribute float lineDistance;\n  varying float vLineDistance;\n\n  void main() {\n    vLineDistance = lineDistance;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n  }",transparent:!0}),ga=20,Ta=400,_a=[],ba=".app-sound-switch",Ra=new THREE.Object3D,Ma=".app-cursor .app-cursor__progress svg.dot-back circle",Sa=".app-cursor .app-cursor__progress svg.back",Ca=t.document,Ha=0,Oa=!1;function Aa(e){Oa=!0,e.preventDefault()}function La(e){Oa=!1}function Pa(){S.addClass("is-backbtn"),e(s).parent().addClass("is-disabled"),e(Ma).parent().removeClass("is-disabled"),e(Sa).addClass("is-active").removeClass("is-down"),TweenMax.set(Ma,{drawSVG:"0%"}),TweenMax.to(S,.5,{scale:1.5})}function Da(){S.removeClass("is-backbtn"),e(s).parent().removeClass("is-disabled"),e(Ma).parent().addClass("is-disabled"),e(Sa).removeClass("is-active").addClass("is-down"),TweenMax.to(S,.5,{scale:1})}Ca.addEventListener("pointerdown",Aa,!1),Ca.addEventListener("pointerup",La,!1),Ca.addEventListener("touchstart",Aa,!1),Ca.addEventListener("touchend",La,!1),function t(){qe&&(Oa?(Ha++,function(){if(Ha<=60){if(qe){var t=Ha*(100/60);TweenMax.set(Ma,{drawSVG:t})}}else qe&&Da(),e("body").removeClass("primarymenu-active"),!1,e(f).removeClass("scene-start").addClass("scene-end"),e(m).removeClass("scene-start").addClass("scene-end"),We=!1,TweenMax.to(a.position,2,{x:0,y:0,z:100,onComplete:function(){tt("open",null),e(x).removeClass("is-click"),qa(!1,!0),TweenMax.to($e.rotation,1,{y:$e.origData.ry,ease:Power2.easeOut}),TweenMax.to($e.position,1,{x:$e.origData.x,y:$e.origData.y,z:$e.origData.z,ease:Power2.easeOut}),We||Ja(),Xe=!0,Ue=!0}}),TweenMax.to(he.position,1.2,{x:2*ae,ease:Power2.easeIn,onComplete:function(){TweenMax.set(he.position,{x:he.origData.x,y:he.origData.y,z:he.origData.z}),TweenMax.set(he.scale,{x:Ne,y:Ne,z:Ne})}}),TweenMax.to(Ee.uAlpha,.5,{delay:1,value:0,ease:Power2.easeIn}),TweenMax.to(we.scale,.5,{x:Ne,y:Ne,z:Ne,ease:Power2.easeIn}),de&&(TweenMax.to(de.uAlpha,1.5,{value:0,ease:Power4.easeOut}),TweenMax.to(de.uOffset.value,1.5,{x:-2,y:-1.3,ease:Power4.easeOut})),function(){ue&&me&&(TweenMax.to([ue.uAlpha,me.uAlpha],1.5,{value:0,ease:Power4.easeOut}),TweenMax.to([ue.uOffset.value,me.uOffset.value],1.5,{x:-6,y:-5.3,ease:Power4.easeOut}));var e=[],a=[];ha.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(a,2,{delay:.7,x:500,ease:Power3.easeIn}),TweenMax.to(e,2,{delay:.7,x:function(e,a){return ha[e].origData.x},y:function(e,a){return ha[e].origData.y},onComplate:function(){TweenMax.to(a,1.5,{delay:.7,x:Ne,ease:Power4.easeOut})},ease:Power3.easeIn})}(),at("close-all"),TweenMax.resumeAll(),console.log("%c About closed","color: orange;"),TweenMax.to("#app-screen-detail__about",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus"),TweenMax.set(h,{css:{display:"none"},alpha:0,onComplete:function(){TweenMax.killTweensOf([h,v])}})}}),function(){console.log("%c Contact closed","color: orange;"),TweenMax.to("#app-screen-detail__contact",.5,{alpha:0,onComplete:function(){this.target.removeClass("focus")}});(new TimelineMax).staggerTo(".app-social-links a",.1,{x:5,alpha:0},.1,0).to(".app-social-links",.5,{css:{display:"none"}})}(),function(){console.log("%c Works closed","color: orange;"),TweenMax.to(aa.position,3,{y:2e3,ease:Power2.easeIn}),TweenMax.to(L[3].position,1.2,{delay:1,z:L[3].origData.z}),TweenMax.to(r.position,1.2,{delay:1,z:r.origData.z});var e=(new THREE.Color).setHSL(0,0,0);TweenMax.to(L[4].color,1,{r:e.r,g:e.g,b:e.b})}(),qe=!1}()):(Ha=0,TweenMax.to(Ma,.5,{drawSVG:0}))),requestAnimationFrame(t)}();var za=new TimelineMax;e(m+" > a").on("pointerenter",(function(a){var t=e(this).find(".app-topnav__bars");t.removeAttr("style"),za.add("start").staggerTo(t,.35,{x:"35px",opacity:.2,ease:Power4.easeOut},.04,"start").staggerTo(t,.2,{x:"-40px"},.02,"+=0.01"),S.addClass("is-hover")})).on("pointerleave",(function(a){S.removeClass("is-hover");var t=e(this).find(".app-topnav__bars");za.add("end").staggerTo(t,.2,{x:"0px",opacity:1,ease:Power4.easeOut},.02,"+=0.01")})).on("click",(function(){e(m).hasClass("scene-start")||(!0,i(),at("open"),tt("close",-1),e(f).removeClass("scene-end").addClass("scene-start"),e(m).removeClass("scene-end").addClass("scene-start"))})),e(m).on("pointermove",(function(e){var a=e.offsetX/this.offsetWidth*40-20,t=e.offsetY/this.offsetHeight*40-20;this.style.transform="translate(".concat(a,"px, ").concat(t,"px)")})).on("pointerleave",(function(e){this.style.transform=""})),e(".app-social-links > a").on("pointerenter",(function(e){S.addClass("is-hover")})).on("pointerleave",(function(e){S.removeClass("is-hover")}));var ja,Ia=[y.aboutTextures[0],y.aboutTextures[1]],ka=0;ja=Ia.length,console.log("videosTotal: "+ja+", videosLoaded: "+ka);var Na=y.models.length,Ga=0,Ua=0;function Ba(){a.aspect=t.innerWidth/t.innerHeight,a.updateProjectionMatrix(),l.setSize(t.innerWidth,t.innerHeight)}function Fa(e){He=e.clientX-Ae,Oe=e.clientY-Le,ia.x=e.clientX/t.innerWidth*2-1,ia.y=-e.clientY/t.innerHeight*2+1,Number.prototype.map=function(e,a,t,o){return(this-e)*(o-t)/(a-e)+t};var a=ia.x.map(-1,1,-Ae,Ae),o=ia.y.map(-1,1,-Le,Le);Xe&&r&&(r.position.x=a,r.position.y=o)}function Va(i){if(i.preventDefault(),He=i.clientX-Ae,Oe=i.clientY-Le,!Fe)return!1;if(ia.x=i.clientX/t.innerWidth*2-1,ia.y=-i.clientY/t.innerHeight*2+1,sa.setFromCamera(ia,a),ra=ua.concat(se).concat(ge.children).concat(Te.children),(X=sa.intersectObjects(ra)).length>0&&"nucleus__audio-controller"==X[0].object.name&&(console.log("--- [audio controller] --- : "+X[0].object.name),e(ba).toggleClass("is-switched"),e(ba).hasClass("is-switched")?Se.setVolume(0):Se.setVolume(.5)),X.length>0&&X[0].object.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")){if(console.log("--- [primary 3D navigation] --- : "+X[0].object.name),"undefined"!=C(X[0])){var s=X[0].object;switch(X[0].object.name){case"nucleus__menu-work":va=ua[0].origData,Ue=!1,function(){console.log("%c Works","color: green;");ua[0].origData;TweenMax.to([_e.uAlpha,be.uAlpha,Re.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0,TweenMax.to([L[3].position,r.position],1.2,{z:-300}),setTimeout((function(){qe=!0,Pa()}),2500),setTimeout((function(){nt("open",null)}),500),TweenMax.to($e.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:5*te,ease:Power2.easeOut,onComplete:function(){TweenMax.to(aa.position,2,{x:aa.origData.x,y:aa.origData.y,z:aa.origData.z,ease:Power2.easeOut});var e=(new THREE.Color).setHSL(1,1,1);TweenMax.to(L[4].color,1,{r:e.r,g:e.g,b:e.b})}})}})}(),at("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-about":va=ua[1].origData,Ue=!1,function(){console.log("%c About","color: green;"),TweenMax.to("#app-screen-detail__about",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),qe=!0,Pa(),TweenMax.to(h,1.2,{css:{display:"block"},alpha:1,ease:Power2.easeOut})}}),e(h).addClass("scene-detail"),$a();var a=ua[1].origData;TweenMax.to([_e.uAlpha,be.uAlpha,Re.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0,setTimeout((function(){nt("open",null)}),500),TweenMax.to($e.position,1.2,{z:"+=300",y:"+=-20",onComplete:function(){TweenMax.to(this.target,1.2,{delay:.5,y:-te/2-20,ease:Power2.easeOut,onComplete:function(){TweenMax.set(le.position,{x:a.x,y:a.y,z:a.z-30}),TweenMax.to(de.uAlpha,1.5,{value:1,ease:Power4.easeOut}),TweenMax.to(de.uOffset.value,1.5,{x:0,y:0,ease:Power4.easeOut})}})}})}(),at("close-onlynav"),e("body").addClass("primarymenu-active");break;case"nucleus__menu-contact":va=ua[2].origData,Ue=!1,function(){console.log("%c Contact","color: green;"),TweenMax.to("#app-screen-detail__contact",.5,{delay:3.5,alpha:1,onComplete:function(){this.target.addClass("focus"),qe=!0,Pa();(new TimelineMax).to(".app-social-links",.5,{css:{display:"block"}}).staggerTo(".app-social-links a",.1,{x:0,alpha:1},.1,0)}});var e=ua[2].origData;TweenMax.to([_e.uAlpha,be.uAlpha,Re.uAlpha],.5,{value:0,ease:Power2.easeOut}),!0;var a=[],t=[];ha.forEach((function(e,o){a.push(e.position),t.push(e.scale)})),TweenMax.to($e.rotation,1,{y:-1.3,ease:Power1.easeOut});var i=o.createElement("video");i.src=Ia[1];var s=new THREE.VideoTexture(i);s.minFilter=THREE.LinearFilter,s.magFilter=THREE.LinearFilter,s.format=THREE.RGBFormat,s.image.autoplay=!0,s.image.loop=!0,s.image.currentTime=0,s.image.muted=!0,s.image.play(),ue={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var r=new THREE.ShaderMaterial({uniforms:ue,vertexShader:_,fragmentShader:T,transparent:!0});(pe=new THREE.Mesh(new THREE.CircleGeometry(12,32),r)).receiveShadow=!0,n.add(pe),me={uTexture:{value:s},uOffset:{value:new THREE.Vector2(-6,-5.3)},uAlpha:{value:0}};var l=new THREE.ShaderMaterial({uniforms:me,vertexShader:_,fragmentShader:T,transparent:!0});fe=new THREE.Mesh(new THREE.CircleGeometry(7,0),l),n.add(fe),fe.receiveShadow=!0,n.add(fe),setTimeout((function(){nt("open",null)}),500);var d=5;TweenMax.to($e.position,1,{x:"+=-200",z:"+=100",onComplete:function(){Ve=!1,We=!0,TweenMax.to(a,.5,{y:-te/3,x:-ae/2,ease:Power2.easeOut}),TweenMax.to(a,1.5,{delay:.7,x:function(e,a){return-Math.random()*ae/2},ease:Power2.easeOut}),TweenMax.to(t,1.5,{delay:.7,x:function(e,a){return e%d*30-(ae/3-350)},ease:Power2.easeOut}),setTimeout((function(){TweenMax.set(pe.position,{x:e.x+20,y:e.y+8,z:e.z+50}),TweenMax.set(fe.position,{x:e.x-20,y:e.y-3,z:e.z+50}),TweenMax.to([ue.uAlpha,me.uAlpha],3,{delay:.7,value:1,ease:Power4.easeOut}),TweenMax.to([ue.uOffset.value,me.uOffset.value],3,{delay:.8,x:0,y:0,ease:Power4.easeOut})}),500)}})}(),at("close-onlynav"),e("body").addClass("primarymenu-active")}s.updateMatrix()}null!=va&&TweenMax.to(a.position,2,{x:va.x,y:va.y,z:va.z+100,onUpdate:function(){a.up.set(0,1,0),a.updateProjectionMatrix(),Qa()}})}}function Wa(e){e.preventDefault(),He=e.clientX-Ae,Oe=e.clientY-Le,ia.x=e.clientX/t.innerWidth*2-1,ia.y=-e.clientY/t.innerHeight*2+1}function Ya(e){Q=sa.intersectObjects(aa.children,!0),Ke=!(Q.length>0)}function Xa(e){if(e.preventDefault(),Q.length>0&&!Q[0].object.name.includes("nucleus__worktitle-")){var a=Q[0].object.parent.parent.parent.parent;console.log("onPointerUp: ",a.name),t.open(a.href,"_blank")}}function Ja(){Ve=!0;var e=[],a=[];ma.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),TweenMax.to(e,1.5,{y:function(e,a){return ma[e].origData.y},z:function(e,a){return ma[e].origData.z}}),TweenMax.killTweensOf(a),TweenMax.to(a,1.5,{x:function(e,a){return ma[e].origData.sx},y:function(e,a){return ma[e].origData.sy},z:function(e,a){return ma[e].origData.sz}})}function Qa(){ua.forEach((function(e,t){var o=it(e,a,l.domElement.width,l.domElement.height);switch(e.name){case"nucleus__menuball-0":xa.style.top=o.position.y+"px",xa.style.left=o.position.x+"px",xa.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)";break;case"nucleus__menuball-1":Ea.style.top=o.position.y+"px",Ea.style.left=o.position.x+"px",Ea.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)";break;case"nucleus__menuball-2":ya.style.top=o.position.y+"px",ya.style.left=o.position.x+"px",ya.style.transform="translate("+o.width/2+"px, "+o.height/2+"px)"}}))}function qa(a,t){var o=function(){e(E).each((function(a){var t=e(this);[t.find("> h2"),t.find("> p")].forEach((function(e,a){var t=new SplitText(e,{type:"chars"});TweenMax.set(t.chars,{y:70,alpha:0})}))}))};if(a)o();else{var n=e(E),i=0;e(x).addClass("is-active");!function a(){if(!0){var s=n.eq(i),r=[s.find("> h2"),s.find("> p")];!1,r.forEach((function(e,a){for(var t=new SplitText(e,{type:"chars"}),o=t.chars.length,n=new TimelineMax({repeat:0,onComplete:function(){}}),i=0;i<o;i++)n.from(t.chars[i],1,{opacity:0,webkitFilter:"blur(0)",ease:Back.easeOut},1*Math.random());n.add("explode","+=2");for(var s=0;s<o;s++)n.to(t.chars[s],.5,{delay:1.5,opacity:0,webkitFilter:"blur(5px)"},"explode+="+.2*Math.random())})),e(x).hasClass("is-click")||!t?(TweenMax.killAll(!1,!1,!0,!1),setTimeout((function(){o()}),1e3)):TweenMax.delayedCall(e(x).data("tween-delay"),a)}i<n.length-1?i++:i=0}()}}function Ka(e){e&&(TweenMax.set(Y.uniforms.contrast,{value:0}),TweenMax.set(V.uniforms.h,{value:0}))}function $a(){var a=e(h).height();TweenMax.set(h,{scale:.5}),TweenMax.set(v,{y:function(e){return 20*e}}),TweenMax.to(v,3,{ease:Linear.easeNone,y:"+="+a,modifiers:{y:function(e){return e%a}},repeat:-1}),TweenMax.set(h,{overflow:"hidden"})}function Za(e,t,i){for(var s=function(e,a){e.faces.forEach((function(e){for(var t=e instanceof THREE.Face3?3:4,o=0;o<t;o++)e.vertexColors[o]=a}))},r=0;r<t;r++){var l=void 0;"cube"==e?l=new THREE.BoxGeometry(4,4,4):"sphere"==e?("ball-nav"==i&&(l=new THREE.SphereGeometry(10,32,32)),"ball-fly"==i&&(l=new THREE.IcosahedronGeometry(2,2)),"ball-pinprick"==i&&(l=new THREE.IcosahedronGeometry(2,2))):"poly"==e&&(l=new THREE.CylinderGeometry(3,6,3,5,1));var d=new THREE.Color;d.setRGB(Math.random(),Math.random(),Math.random()),s(l,d);var c=void 0,p=void 0;if("ball-nav"==i){c=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!1,map:function(){var e=o.createElement("canvas");e.width=16,e.height=16;var a=e.getContext("2d"),t=a.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);t.addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(.2,"rgba(0,255,255,1)"),t.addColorStop(.4,"rgba(0,0,64,1)"),t.addColorStop(1,"rgba(0,0,0,1)"),a.fillStyle=t,a.fillRect(0,0,e.width,e.height);var n=new THREE.Texture(e);return n.needsUpdate=!0,n}(),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__menuball-"+r,p.position.x=-65*r+65,0==t&&(p.position.y=0),1==t&&(p.position.y=st(-60,10)),2==t&&(p.position.y=st(-60,10)),p.scale.setScalar(.4+1*Math.random()),p.position.z=350,n.add(p),p.speed=st(.8,1),p.origData={x:p.position.x,y:p.position.y,z:-a.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z};var u=new THREE.MeshBasicMaterial({map:D.load(y.textures[0])}),f=new THREE.Mesh(l,u);p.add(f),f.position.x=0;var m=new THREE.Mesh(l.clone(),pa);f.add(m);var h=et(0,0,0,1.5,0,0,10);p.add(h),fa.push(h),la.add(p),n.add(la),la.position.y=-10,ua.push(p)}"ball-fly"==i&&(c=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:D.load(y.textures[0]),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__flyingball-"+r,p.position.x=st(-ee/2,ee/2+Math.random()*ae*2),p.position.y=st(-Math.random()*te*2,Math.random()*te*2),p.rotation.x=2*Math.random()*Math.PI,p.rotation.y=2*Math.random()*Math.PI,p.rotation.z=2*Math.random()*Math.PI,p.scale.setScalar(.25+.3*Math.random()),n.add(p),p.speed=.5+Math.random(),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},p.position.z=350,da.add(p),n.add(da),ma.push(p)),"ball-pinprick"==i&&(c=new THREE.MeshPhongMaterial({color:3355443,shininess:80,wireframe:!1,map:D.load(y.textures[0]),side:THREE.DoubleSide}),(p=new THREE.Mesh(l,c)).name="nucleus__pinprickball-"+r,p.position.x=-ae/2,p.position.y=2*-te,p.rotation.x=2*Math.random()*Math.PI,p.rotation.y=2*Math.random()*Math.PI,p.rotation.z=2*Math.random()*Math.PI,p.scale.setScalar(.25+.5*Math.random()),p.scale.x=Ne,n.add(p),p.speed=.5+Math.random(),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},p.position.z=-200,ca.add(p),n.add(ca),ha.push(p))}}function et(e,a,t,o,n,i,s){var r=s,l=new THREE.CircleGeometry(10,50);l.vertices.shift();for(var d=new THREE.Object3D,c=0;c<r;c++){var p=new THREE.LineSegments(l,wa);p.computeLineDistances(),p.position.set(0,0,0),p.scale.setScalar(1-c/199),p.origData={x:p.position.x,y:p.position.y,z:p.position.z,rx:p.rotation.x,ry:p.rotation.y,rz:p.rotation.z,sx:p.scale.x,sy:p.scale.y,sz:p.scale.z},d.add(p),d.position.set(e,a,t),d.rotation.x=n,d.rotation.y=i,d.scale.setScalar(o)}return d}function at(a){"open"==a&&(qe=!0,Pa(),TweenMax.set(ne.scale,{x:1,onComplete:function(){TweenMax.to(ne.position,1.2,{z:ne.origData.z,ease:Power2.easeOut})}}),TweenMax.set(ie.scale,{x:1,onComplete:function(){TweenMax.to(ie.position,1.2,{z:ie.origData.z,ease:Power2.easeOut})}}),nt("close","zoomIn"),ot("close"),e(x).addClass("is-click"),setTimeout((function(){qa(!1,!1)}),1e3),TweenMax.to(Me.uAlpha,1.5,{delay:1.5,value:1,ease:Power2.easeOut}),TweenMax.set([ge.position,Te.position],{z:Qe?-120:-50})),"close-all"==a&&(Da(),qe=!1,e(".app-menu__wrapper > .app-menu").removeClass("is-click").parent().removeClass("has-clicked-item"),Qe=!1,TweenMax.to(Me.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([ne.position,ie.position],1,{z:3*Z,ease:Power2.easeIn}),TweenMax.to([ne.scale,ie.scale],.5,{delay:1,x:Ne,onComplate:function(){ot("open"),tt("open",null)}}),setTimeout((function(){nt("open",null)}),300)),"close-onlynav"==a&&(i(),Da(),qe=!1,e(".app-menu__wrapper > .app-menu").removeClass("is-click").parent().removeClass("has-clicked-item"),Qe=!1,TweenMax.to(Me.uAlpha,.5,{value:0,ease:Power2.easeOut}),TweenMax.to([ne.position,ie.position],1,{z:3*Z,ease:Power2.easeIn}),TweenMax.to([ne.scale,ie.scale],.5,{delay:1,x:Ne}))}function tt(e,a){var t=[];ua.forEach((function(e,a){t.push(e.position)})),"open"==e&&(TweenMax.to(t,3,{z:function(e,a){return ua[e].origData.z},ease:Power2.easeOut}),setTimeout((function(){Qa()}),3e3)),"close"==e&&(-1!=a?TweenMax.to(t,3,{z:function(e,t){return e==a?200:-3500},ease:Power3.easeInOut}):TweenMax.to(t,3,{z:-3500,ease:Power3.easeInOut}))}function ot(e){var a=[];ma.forEach((function(e,t){a.push(e.position)})),"open"==e&&TweenMax.to(a,1,{z:function(e,a){return ma[e].origData.z},ease:Power2.easeOut}),"close"==e&&TweenMax.to(a,1,{z:-1200,ease:Power2.easeOut})}function nt(e,a){"open"==e&&TweenMax.to($e.position,1,{z:$e.origData.z,ease:Power2.easeOut}),"close"==e&&("zoomIn"==a&&TweenMax.to($e.position,2,{delay:.7,z:-1200,ease:Power2.easeOut}),"zoomOut"==a&&TweenMax.to($e.position,2,{delay:.7,z:1200,ease:Power2.easeOut}))}function it(e,a,t,o){var n=new THREE.Vector3;n.setFromMatrixPosition(e.matrixWorld);var i=t/2,s=o/2,r=o/t;n.project(a),n.x=n.x*i+i,n.y=-n.y*s+s;var l=(new THREE.Box3).setFromObject(e).getSize(new THREE.Vector3);return{position:n,width:(7*l.x*r).toFixed(2),height:(7*l.y*r).toFixed(2)}}function st(e,a){return Math.random()*(a-e)+e}function rt(e){return e*Math.PI/180}return e("body").waitForImages().progress((function(a,t,o){Ua=t;var n=parseInt(a/(t-(1-ja-Na))*100);e("img").length<=1&&(n=100),isNaN(n)&&(n=100),Ga=n,e(d+" span").text(n);for(var i=1;i<10-Na+1;i++)n<i*(10-Na+1)&&e("body").addClass("loaded"+i);TweenMax.set(s,{scale:1,x:0,y:0,fill:"rgba(255,255,255,0)",drawSVG:"0%",alpha:1}),M(n),console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+n+'%  ----- ["images"] )')})).done((function(){console.log("loadedPercent: "+Ga+", imageTotal: "+Ua),function(t,i){var v=function(){var i=y.models,v=i.length,x=function(e){if(e.lengthComputable)e.loaded,e.total},E=function(e){};i.forEach((function(i){z.load(i,(function(x){var E=t+Math.round(100-t)/v;if(e("body").addClass("loaded"+(10-(v-1))),e(d+" span").text(E),M(E),i.indexOf("cave-webgl.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+E+'% ----- ["3d main object", "images"] )');var w=x.scene;w.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:80,wireframe:!0,map:D.load(y.textures[0]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),$e.add(w),n.add($e),$e.scale.setScalar(.7),$e.position.x=0,$e.position.y=-60,$e.position.z=-280,$e.rotation.x=-3.2,$e.rotation.y=0,$e.rotation.z=0,$e.loadingData={x:$e.position.x,y:$e.position.y,z:$e.position.z,rx:$e.rotation.x,ry:$e.rotation.y,rz:$e.rotation.z,sx:$e.scale.x,sy:$e.scale.y,sz:$e.scale.z},$e.scale.setScalar(Ne)}if(i.indexOf("brand.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+E+'% ----- ["3d sub object 1 (brand)", "3d main object", "images"] )');var g=x.scene;g.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:50,wireframe:!0,side:THREE.DoubleSide,map:D.load(y.textures[6]),fog:!1}),e.castShadow=!0)})),Ze.add(g),$e.add(Ze),Ze.scale.setScalar(30),Ze.position.x=70,Ze.position.y=60,Ze.position.z=0,Ze.rotation.x=3.3,Ze.rotation.y=-5.6,Ze.rotation.z=0}if(i.indexOf("stone-anim.glb")>=0){console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+E+'% ----- ["3d sub object 2 (stone)", "3d main object", "images"] )');var T=x.scene;T.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:3355443,shininess:1,wireframe:!1,map:D.load(y.textures[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),ea.add(T),$e.add(ea),ea.scale.setScalar(50),ea.position.x=0,ea.position.y=0,ea.position.z=0,ea.loadingData={x:ea.position.x,y:ea.position.y,z:ea.position.z,rx:ea.rotation.x,ry:ea.rotation.y,rz:ea.rotation.z,sx:ea.scale.x,sy:ea.scale.y,sz:ea.scale.z}}i.indexOf("stone.glb")>=0&&(console.log("▶▶▶▶▶ Total downloaded ◀◀◀◀◀◀ ( "+E+'% ----- ["3d sub object 3 (stone for works)", "3d main object", "images"] )'),j.load(y.fonts[0],(function(e){var a=550,t=2*Math.PI/worksData.length,o=x.scene;o.traverse((function(e){e instanceof THREE.Mesh&&(e.material=new THREE.MeshPhongMaterial({color:14540253,shininess:1,wireframe:!1,map:D.load(y.textures[6]),side:THREE.DoubleSide,fog:!1}),e.castShadow=!0)})),o.material=new THREE.ShaderMaterial({uniforms:{},vertexShader:R,fragmentShader:b,transparent:!0,wireframe:!1,side:THREE.DoubleSide,blending:THREE.AdditiveBlending}),o.scale.set(150,150,150),aa.scale.setScalar(.2),aa.position.x=100,aa.position.y=420+te,aa.position.z=0,aa.rotation.x=-1.6,aa.origData={x:aa.position.x,y:aa.position.y,z:aa.position.z,rx:aa.rotation.x,ry:aa.rotation.y,rz:aa.rotation.z,sx:aa.scale.x,sy:aa.scale.y,sz:aa.scale.z},worksData.forEach((function(n,i){var s,r,d,c,p,u,f,m,h,v=i+1,x=o.clone(),E=Math.sin(v*t)*a,w=Math.cos(v*t)*a,g=0;aa.add((s=e,r=n.title,d="nucleus__worktitle-"+v,c=E,p=w,u=g,f=new THREE.TextGeometry(r,{font:s,size:30,height:1,curveSegments:5,bevelEnabled:!0,bevelThickness:1,bevelSize:2,bevelOffset:0,bevelSegments:5}),m=new THREE.MeshPhongMaterial({side:THREE.DoubleSide,map:D.load(y.textures[7]),color:new THREE.Color(16777215)}),(h=new THREE.Mesh(f,m)).geometry.center(),h.geometry.computeBoundingSphere(),h.name=d,h.position.set(c+70,p-100,u-100),h.rotation.set(4.8,0,0),h)),aa.add(x),x.name="nucleus__workmain-"+v,x.targetid=v,x.href=n.url,x.origData={x:x.position.x,y:x.position.y,z:x.position.z,rx:x.rotation.x,ry:x.rotation.y,rz:x.rotation.z,sx:x.scale.x,sy:x.scale.y,sz:x.scale.z},x.rotationSpeed=.006*Math.random(),x.position.set(E,w,g),x.rotation.set(1*Math.random(),0,1*Math.random());var T=16/9,_=new THREE.BoxGeometry(20*T,20,1),b=D.load(n.cover);b.anisotropy=l.capabilities.getMaxAnisotropy(),b.generateMipmaps=!1,b.wrapS=b.wrapT=THREE.ClampToEdgeWrapping,b.minFilter=THREE.LinearFilter;var R=new THREE.MeshBasicMaterial({map:b,side:THREE.DoubleSide}),M=new THREE.Mesh(_,R);M.name="nucleus__workcover-"+v,M.scale.setScalar(Ne),M.rotation.x=-1.6,M.visible=!1,aa.add(M)})),aa.position.y=2e3;for(var n=120,i=0;i<n;i++){var s=Math.sin(5*i)*(1e3*st(.2,2)),r=Math.cos(5*i)*(1e3*st(.2,2)),d=Math.tan(5*i)*(200*st(.2,1)),c=new THREE.TetrahedronGeometry(15,0),p=new THREE.MeshPhongMaterial({color:6710886,shininess:3,wireframe:!1,map:D.load(y.textures[6]),side:THREE.DoubleSide,fog:!1}),u=new THREE.Mesh(c,p);u.position.set(s,r,d),u.rotation.set(1*Math.random(),0,1*Math.random()),u.scale.setScalar(1*Math.random()),aa.add(u)}$e.add(aa)}))),100==E&&(TweenMax.to([d+" span",d+" strong"],1,{alpha:0,onComplete:function(){TweenMax.set(this.target,{css:{display:"none"}})}}),TweenMax.to(s,1,{scale:.1,x:16,y:16,fill:"#ffffff",ease:Power1.easeInOut}),TweenMax.to(oa.scale,1.5,{x:.1,y:.1,z:.1,ease:Power3.easeInOut}),TweenMax.to(k.position,1,{y:-32,onComplete:function(){var t=L[3].color.getHSL(L[3]);TweenMax.to(t,.5,{h:1,s:1,l:1,onUpdate:function(){L[3].color.setHSL(t.h,t.s,t.l)}}),TweenMax.to($e.position,.5,{x:0,y:-15,z:.8,onComplete:function(){var t=it($e,a,l.domElement.width,l.domElement.height);o.querySelector(u).style.top=t.position.y+40+"px",e(u).delay(500).queue("fx",(function(){e(this).addClass("is-active")})),e(f).addClass("scene-ready"),e(h).addClass("scene-ready"),TweenMax.to(h,1.2,{alpha:1,ease:Power2.easeOut})}}),TweenMax.to($e.scale,1.5,{delay:1,x:.035,y:.035,z:.035,ease:Power2.easeOut}),(new TimelineMax).to($e.rotation,1.5,{x:-3.2,y:0,z:0,onComplete:function(){TweenMax.to(u,1.2,{alpha:1,ease:Power2.easeOut}),e(u).off("click.ENTER").on("click.ENTER",(function(){var t,o;t=N.color.getHSL(N),o=G.color.getHSL(G),TweenMax.to(t,1.2,{h:0,s:0,l:0,onUpdate:function(){N.color.setHSL(t.h,t.s,t.l)},ease:Power2.easeIn}),TweenMax.to(o,1.2,{h:0,s:0,l:0,onUpdate:function(){G.color.setHSL(o.h,o.s,o.l)},ease:Power2.easeIn}),TweenMax.to(k.scale,1,{x:Ne,y:Ne,z:Ne,ease:Power2.easeIn,onComplete:function(){TweenMax.to(k.position,.5,{y:-te});var e=L[0].color.getHSL(L[0]);TweenMax.to(e,.5,{h:1,s:1,l:1,onUpdate:function(){L[0].color.setHSL(e.h,e.s,e.l)}});var a=L[2].color.getHSL(L[2]);TweenMax.to(a,.5,{h:1,s:1,l:1,onUpdate:function(){L[2].color.setHSL(a.h,a.s,a.l)}});var t=L[3].color.getHSL(L[3]);TweenMax.to(t,.5,{h:0,s:0,l:0,onUpdate:function(){L[3].color.setHSL(t.h,t.s,t.l)}})}}),e(f).removeClass("scene-ready").addClass("scene-start"),e(h).addClass("scene-start"),TweenMax.to($e.rotation,1.2,{y:$e.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(ea.rotation,1.2,{y:ea.loadingData.ry,ease:Power2.easeOut}),TweenMax.to(u,1.2,{alpha:0,onComplete:function(){var t;TweenMax.set(this.target,{css:{display:"none"}}),TweenMax.set(h,{css:{display:"none"}}),TweenMax.killAll(),function(){TweenMax.to(ea.position,8,{delay:1,z:-3e3,onComplete:function(){$e.remove(ea)}});var a=r.color.getHSL(r);TweenMax.to(a,3.5,{h:1,s:1,l:1,onUpdate:function(){r.color.setHSL(a.h,a.s,a.l)}}),Ve=!0,!0;var t=5,o=3.2;TweenMax.to(oa.scale,t,{x:.3,y:.3,z:.3,ease:CustomEase.create("custom","M0,0 C0,0 0.18896,-0.00276 0.30884,0.00136 0.36737,0.00338 0.40409,0.00477 0.45896,0.01577 0.50378,0.02476 0.53639,0.03458 0.5758,0.0549 0.61295,0.07407 0.64028,0.09366 0.66908,0.12417 0.70781,0.16517 0.73204,0.19964 0.76069,0.25068 0.80038,0.32141 0.82111,0.36969 0.85057,0.44758 0.88752,0.54527 0.90538,0.60421 0.93298,0.70622 0.96361,0.81946 1,1 1,1 ")}),TweenMax.to(oa.position,4,{z:120,ease:Power1.easeIn}),TweenMax.to(oa.scale,3.5,{z:40,ease:Power2.easeIn});var n={var:512};TweenMax.to(n,3,{var:0,onUpdate:function(){e(c).html("<em>"+Math.round(n.var)+"</em>")},onComplete:function(){TweenMax.to(c,.5,{alpha:0,onComplete:function(){e(c).closest(d).hide(),e(p).addClass("is-hide")}})},ease:Power2.easeOut});var i=[];ua.forEach((function(e,a){i.push(e.position)})),TweenMax.to(i,t-1,{z:-100,delay:o+1,onComplete:function(){Be=!0}});var s=[];ma.forEach((function(e,a){s.push(e.position)})),TweenMax.to(s,t,{z:-100,delay:o,ease:Power2.easeOut}),TweenMax.to($e.scale,t,{x:$e.loadingData.sx,y:$e.loadingData.sy,z:$e.loadingData.sz,ease:Power2.easeIn}),TweenMax.to($e.position,2.5,{y:-20}),TweenMax.to($e.position,t,{x:0,y:110,z:-115,delay:o,ease:Power2.easeIn}),TweenMax.to($e.rotation,t,{x:-3,y:-.8,z:0,delay:o,ease:Power2.easeOut,onComplete:function(){var a;$e.origData={x:$e.position.x,y:$e.position.y,z:$e.position.z,rx:$e.rotation.x,ry:$e.rotation.y,rz:$e.rotation.z,sx:$e.scale.x,sy:$e.scale.y,sz:$e.scale.z},Fe=!0,Ue=!0,a=[],ua.forEach((function(e,t){a.push(e.scale)})),TweenMax.to(a,1.5,{x:function(e,a){return ua[e].speed*ua[e].origData.sx},y:function(e,a){return ua[e].speed*ua[e].origData.sy},z:function(e,a){return ua[e].speed*ua[e].origData.sz},repeat:-1,yoyo:!0}),e(".app-menu").addClass("is-active"),Qa(),Ka(!1),qa(!1,!0),se.scale.setScalar(1),e(f).removeClass("scene-start").addClass("scene-end"),e(m).removeClass("scene-start").addClass("scene-end"),!0,Ja()}})}(),t=new THREE.AudioListener,a.add(t),Se=new THREE.Audio(t),(new THREE.AudioLoader).load(y.audios[0],(function(e){Se.setBuffer(e),Se.setLoop(!0),Se.setVolume(.6),Se.play()})),function(){for(var e=0;e<21;e++)_a.push({initValue:THREE.Math.randFloat(-1,1),amplitude:THREE.Math.randFloat(1,3),speed:THREE.Math.randFloat(.5,2)});!function(e){var t=new THREE.PlaneGeometry(e-10,1,e-1,1);t.translate(0,.5,0),(se=new THREE.Mesh(t,new THREE.MeshBasicMaterial({color:14540253,wireframe:!1,side:THREE.DoubleSide,transparent:!0,opacity:0}))).name="nucleus__audio-controller",n.add(se);for(var o=new THREE.Geometry,i=0;i<se.geometry.parameters.widthSegments+1;i++)o.vertices.push(t.vertices[i]);re=new THREE.Line(o,new THREE.LineBasicMaterial({color:14540253,linewidth:4})),se.add(re);var s=new THREE.Plane(new THREE.Vector3(0,0,1),0),r=new THREE.Vector2,l=new THREE.Vector3;r.set(1,-1),sa.setFromCamera(r,a),sa.ray.intersectPlane(s,l),se.position.copy(l).add(new THREE.Vector3(3,1,-10)),se.scale.setScalar(.001)}(21)}(),Ye=!0}})}))}}).to($e.rotation,25,{y:rt(360),ease:Linear.easeNone,repeat:-1})}})),v--}),x,E)}))};t<100&&Ia.forEach((function(e){var a=o.createElement("video");a.src=e,a.addEventListener("loadedmetadata",(function(e){ka++,console.log("videosTotal: "+ja+", videosLoaded: "+ka),console.log("videos loaded!"),ka==ja&&v()}),!1)}));ka==ja&&v()}(Ga)})),{init:function(){60,K=H/O,1,1e4,(a=new THREE.PerspectiveCamera(60,K,1,1e4)).position.set(0,0,100),a.lookAt(new THREE.Vector3(0,0,0));var e=30*Math.PI/180;te=(a.position.z+15)*Math.tan(e),ae=te*a.aspect,1e3,$=THREE.Math.degToRad(a.fov),Z=2*Math.tan($/2)*1e3,ee=Z*a.aspect,(n=new THREE.Scene).fog=new THREE.Fog(ta,.0025,250),L[0]=new THREE.PointLight(0,5,0),L[0].position.set(0,200,50),n.add(L[0]),L[2]=new THREE.PointLight(0,10,0),L[2].position.set(100,200,-1100),n.add(L[2]);var i=rt(25);L[1]=new THREE.SpotLight(1797375,2,800,i,1,1),L[1].position.set(5,-5,130),L[1].castShadow=!0,L[1].shadow.mapSize.width=1024,L[1].shadow.mapSize.height=1024,L[1].shadow.camera.near=.5,L[1].shadow.camera.far=31,n.add(L[1]),L[3]=new THREE.PointLight(0,13,0),L[3].position.set(0,20,700),n.add(L[3]),L[3].origData={x:L[3].position.x,y:L[3].position.y,z:L[3].position.z},L[4]=new THREE.DirectionalLight(16777215,22),L[4].position.set(0,2e3,1e3),L[4].visible=!1,n.add(L[4]);var s=(new THREE.Color).setHSL(0,0,0);TweenMax.to(L[4].color,1,{r:s.r,g:s.g,b:s.b,onComplate:function(){L[4].visible=!0}}),(r=new THREE.PointLight(0,15,0)).position.set(0,0,600),n.add(r),r.origData={x:r.position.x,y:r.position.y,z:r.position.z},(k=new THREE.Mesh(new THREE.CircleGeometry(1e3,32),new THREE.MeshPhongMaterial({emissive:ta}))).receiveShadow=!0,k.position.set(0,-32,5),k.rotation.x=rt(-95),n.add(k),k.position.y=2*-te;var d=rt(35);(N=new THREE.SpotLight(16777215,2,200,d,1,1)).position.set(5,162,5),N.castShadow=!0,N.shadow.mapSize.width=1024,N.shadow.mapSize.height=1024,N.shadow.camera.near=.5,N.shadow.camera.far=31,n.add(N),G=new THREE.AmbientLight(16777215,.05),n.add(G),(l=new THREE.WebGLRenderer({canvas:o.getElementById(A),alpha:!0,antialias:!0})).setSize(H,O),l.shadowMap.enabled=!0,l.shadowMap.type=THREE.PCFSoftShadowMap,(V=new THREE.ShaderPass(THREE.HorizontalBlurShader)).enabled=!0,V.uniforms.h.value=.05,(W=new THREE.ShaderPass(THREE.VerticalBlurShader)).enabled=!0,W.uniforms.v.value=1/H,(Y=new THREE.ShaderPass(THREE.BrightnessContrastShader)).enabled=!0,Y.uniforms.contrast.value=1.2;var c,p,u,f,m,h=new THREE.RenderPass(n,a),v=new THREE.ShaderPass(THREE.CopyShader);v.renderToScreen=!0,(F=new THREE.EffectComposer(l)).addPass(h),F.addPass(V),F.addPass(W),F.addPass(Y),F.addPass(v),$a(),c=new THREE.SphereGeometry(60,60,60),p=new THREE.MeshBasicMaterial({color:2105376,map:D.load(y.textures[5]),side:THREE.DoubleSide}),(I=new THREE.Mesh(c,p)).position.set(0,200,-4e3),I.scale.setScalar(35),I.scale.x=80,I.scale.y=40,n.add(I),qa(!0,!0),Ka(!0),function(){oe=new THREE.ShaderMaterial({uniforms:{time:{value:0},limits:{value:new THREE.Vector2(-400,Ta)},speed:{value:18}},vertexShader:g,fragmentShader:w,vertexColors:THREE.VertexColors});for(var e=[],a=0;a<=ga;a++)e.push(1,1,0,0);(ne=new THREE.GridHelper(800,ga,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),ne.material=oe,n.add(ne),ne.position.set(0,60,-30),ne.origData={x:ne.position.x,y:ne.position.y,z:ne.position.z,rx:ne.rotation.x,ry:ne.rotation.y,rz:ne.rotation.z,sx:ne.scale.x,sy:ne.scale.y,sz:ne.scale.z},(ie=new THREE.GridHelper(800,ga,"blue","blue")).geometry.setAttribute("moveable",new THREE.BufferAttribute(new Uint8Array(e),1)),ie.material=oe,n.add(ie),ie.position.set(0,-60,-30),ie.origData={x:ie.position.x,y:ie.position.y,z:ie.position.z,rx:ie.rotation.x,ry:ie.rotation.y,rz:ie.rotation.z,sx:ie.scale.x,sy:ie.scale.y,sz:ie.scale.z},ne.position.z=3*Z,ie.position.z=3*Z,ne.scale.x=Ne,ie.scale.x=Ne}(),u=new THREE.BoxGeometry(1.5,1.5,1.5,0,0),f=new THREE.MeshPhongMaterial({flatShading:!0,transparent:!0,color:255}),m=function(e){for(var a=[],t=[],o=400,n=o,i=0;i<o;i++){a[i]=new THREE.Mesh(u,f),a[i].position.y=60,a[i].scale.set(1*Math.random(),1*Math.random(),1*Math.random()),t[i]=new THREE.Object3D,t[i].add(a[i]),t[i].rotation.z=i*(360/n)*Math.PI/180;var s=155*Math.random(),r=Math.random();t[i].position.z=s,t[i].speed=r,t[i].origData={x:t[i].position.x,y:t[i].position.y,z:t[i].position.z,rx:t[i].rotation.x,ry:t[i].rotation.y,rz:t[i].rotation.z,sx:t[i].scale.x,sy:t[i].scale.y,sz:t[i].scale.z},na.push(t[i]),e.add(t[i])}},U=new THREE.Object3D,m(U),(B=new THREE.Object3D).add(U),B.rotation.z=360*Math.PI/180,oa.add(B),n.add(oa),oa.scale.setScalar(.08),Za("sphere",15,"ball-fly"),Za("sphere",80,"ball-pinprick"),Za("sphere",3,"ball-nav"),ge=new THREE.Object3D,Te=new THREE.Object3D,j.load(y.fonts[2],(function(e){var a,t,o=new THREE.Color(16777215);Me={uTexture:{value:D.load(y.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},_e={uTexture:{value:D.load(y.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},be={uTexture:{value:D.load(y.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}},Re={uTexture:{value:D.load(y.textures[7])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var i=new THREE.ShaderMaterial({uniforms:Me,vertexShader:_,fragmentShader:T,transparent:!0}),s=new THREE.ShaderMaterial({uniforms:_e,vertexShader:_,fragmentShader:T,transparent:!0}),r=new THREE.ShaderMaterial({uniforms:be,vertexShader:_,fragmentShader:T,transparent:!0}),l=new THREE.ShaderMaterial({uniforms:Re,vertexShader:_,fragmentShader:T,transparent:!0}),d=function(d,c,p){var u=d,f=11,m=e.generateShapes(u,f),h=new THREE.ShapeBufferGeometry(m);h.computeBoundingBox(),a=-.5*(h.boundingBox.max.x-h.boundingBox.min.x),h.translate(a,0,0),"work"==p&&(t=new THREE.Mesh(h,s)),"about"==p&&(t=new THREE.Mesh(h,r)),"contact"==p&&(t=new THREE.Mesh(h,l)),t.position.z=0,t.position.y=1.7*f*c,t.name="nucleus__menu-"+p,ge.add(t),ge.position.z=-50,ge.scale.setScalar(1.35),n.add(ge);for(var v=[],x=0;x<m.length;x++){var E=m[x];if(E.holes&&E.holes.length>0)for(var y=0;y<E.holes.length;y++){var w=E.holes[y];v.push(w)}}m.push.apply(m,v);for(var g=THREE.SVGLoader.getStrokeStyle(.4,o.getStyle()),T=new THREE.Group,_=0;_<m.length;_++){var b=m[_].getPoints(),R=THREE.SVGLoader.pointsToStroke(b,g);R.translate(a,0,0);var M=new THREE.Mesh(R,i);T.add(M)}T.position.y=1.7*f*c,T.name="nucleus__menustroke-"+p,Te.add(T),Te.position.z=-50,Te.scale.setScalar(1.35),n.add(Te)};d("PROJECTS",1,"work"),d("ABOUT",0,"about"),d("CONTACT",-1,"contact")})),function(){var e=new THREE.CircleGeometry(64,64,64);le=function(a,t,i){var s=o.createElement("video");s.src=a;var r=new THREE.VideoTexture(s);r.minFilter=THREE.LinearFilter,r.magFilter=THREE.LinearFilter,r.format=THREE.RGBFormat,r.image.autoplay=!0,r.image.loop=!0,r.image.currentTime=0,r.image.muted=!0,r.image.play(),de={uTexture:{value:r},uOffset:{value:new THREE.Vector2(-2,-1.3)},uAlpha:{value:0}};for(var l=new THREE.ShaderMaterial({uniforms:de,vertexShader:_,fragmentShader:T,transparent:!0}),d=new THREE.Mesh(e,l),c=0;c<60;c++){var p=200+5*Math.sin(c);d.geometry.faces[c].color=new THREE.Color("hsl("+Math.abs(p)+", 100%, 50%)")}return n.add(d),d.scale.setScalar(t),d}(Ia[0],30);var a=new THREE.IcosahedronGeometry(1.2,1),t=new THREE.ShaderMaterial({uniforms:de,vertexShader:_,fragmentShader:T,transparent:!0,wireframe:!0,side:THREE.DoubleSide});ce=new THREE.Mesh(a,t),le.add(ce)}(),function(){he=new THREE.Object3D;for(var e=function(e,a){var t=16/9,o=new THREE.BoxGeometry(20*t,20,1),n=D.load(e);n.anisotropy=l.capabilities.getMaxAnisotropy(),n.generateMipmaps=!1,n.wrapS=n.wrapT=THREE.ClampToEdgeWrapping,n.minFilter=THREE.LinearFilter;var i=new THREE.MeshBasicMaterial({map:n,side:THREE.DoubleSide}),s=new THREE.Mesh(o,i);s.name="obj-"+a;var r=0,d=te*a,c=0,p=new THREE.Vector3(r,d,c);return s.pos=p,s.position.copy(p),s},a=0;a<y.workTextures.length;a++){var t=e(y.workTextures[a],a);he.add(t),n.add(he),he.scale.setScalar(Ne),he.origData={x:he.rotation.x,y:he.rotation.y,z:he.rotation.z,rx:he.rotation.x,ry:he.rotation.y,rz:he.rotation.z,sx:he.scale.x,sy:he.scale.y,sz:he.scale.z}}we=et(0,0,0,1.5,0,0,10),n.add(we),we.scale.setScalar(Ne),Ee={uTexture:{value:D.load(y.textures[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var o=new THREE.PlaneGeometry(4*ae,3*te,32),i=new THREE.ShaderMaterial({uniforms:Ee,vertexShader:_,fragmentShader:T,transparent:!0});ve=new THREE.Mesh(o,i),n.add(ve),ye={uTexture:{value:D.load(y.textures[6])},uOffset:{value:new THREE.Vector2(0,0)},uAlpha:{value:0}};var s=new THREE.PlaneGeometry(2*ae,2*te,32),r=new THREE.ShaderMaterial({uniforms:ye,vertexShader:_,fragmentShader:T,transparent:!0});(xe=new THREE.Mesh(s,r)).position.z=50,n.add(xe)}(),function(){var e=ua[0].origData,a=e.z+70;Ce=e.y;for(var t=new THREE.TetrahedronGeometry(1.5,0),o=new THREE.MeshStandardMaterial({color:1797375,roughness:.4,metalness:1,map:D.load(y.textures[3]),side:THREE.DoubleSide}),i=0;i<50;i++){var s=e.x+st(ae/2,ae),r=Ce+te/2+Math.random()*te/2,l=a-100+50*Math.random(),d=Math.random(),c=new THREE.Mesh(t,o);c.position.set(s,r,l),c.position.multiplyScalar(1*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.name="nucleus__tetrahedron-particles-"+i,c.speed=d,c.origData={x:c.position.x,y:c.position.y,z:c.position.z,rx:c.rotation.x,ry:c.rotation.y,rz:c.rotation.z,sx:c.scale.x,sy:c.scale.y,sz:c.scale.z},Ra.add(c),n.add(Ra)}var p=[];Ra.children.forEach((function(e,a){p.push(e.position)})),TweenMax.set(p,{y:"-="+3*te})}(),t.addEventListener("resize",Ba,!1),o.getElementById(A).addEventListener("pointermove",Fa,!1),o.getElementById(A).addEventListener("pointerdown",Va,!1),o.getElementById(A).addEventListener("pointerup",Wa,!1),t.addEventListener("pointermove",Ya),t.addEventListener("pointerup",Xa)},render:function o(){requestAnimationFrame(o);var i=Ie.getDelta();ke+=i,l.setClearColor(ta);var s,r,d=2*He/t.innerWidth;if(t.innerHeight,(Pe=.002*He)<-.1&&(Pe=-.1),Pe>.1&&(Pe=.1),(De=.002*Oe)>.3&&(De=.3),De<-.3&&(De=-.3),ze+=.01*(Pe-ze),je+=.01*(De-je),Math.sin(3.5*ze),Math.cos(3.5*ze),wa.uniforms.time.value+=1.5*i,oe.uniforms.time.value=ke,3==ge.children.length&&3==Te.children.length&&(ge.children[0].rotation.y=.2*d,Te.children[0].rotation.y=.2*d,ge.children[1].rotation.y=.3*-d,Te.children[1].rotation.y=.3*-d,ge.children[2].rotation.y=.4*d,Te.children[2].rotation.y=.4*d),Ue&&($e.rotation.y+=Pe*i*.5),Ze.rotation.y+=i*st(.03,.8),ea.rotation.y+=-.21*i,la&&(ua[0].rotation.y+=i*st(.3,.8),ua[0].rotation.x+=i*st(.5,1.4),ua[1].rotation.y+=i*st(1,2.5),ua[1].rotation.x+=i*st(.5,.9),ua[2].rotation.y+=i*st(.2,.6),ua[2].rotation.x+=i*st(.5,.8)),ce&&(ce.rotation.x+=.2*i,ce.rotation.y+=.1*i),I&&(I.rotation.x+=5e-4),le&&(le.geometry.vertices.forEach((function(e,a){e.normalize().multiplyScalar(.15*Ge.noise3D(.4*e.x+1e-4*Date.now(),.4*e.y,.4*e.z)+1)})),le.geometry.computeVertexNormals(),le.geometry.normalsNeedUpdate=!0,le.geometry.verticesNeedUpdate=!0),he&&he.children.forEach((function(e,a){e.rotation.y+=.5*i,e.rotation.x+=.3*i})),aa.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workmain-")&&(e.rotation.x+=e.rotationSpeed)})),aa.children.forEach((function(e){e instanceof THREE.Mesh&&(e.name.includes("nucleus__worktitle-")||e.name.includes("nucleus__workcover-"))&&(e.rotation.y+=Ke?.01:.001)})),aa.rotation.z+=Ke?.01:.001,(Q=sa.intersectObjects(aa.children,!0)).length>0){if(q!=Q[0].object&&!Q[0].object.name.includes("nucleus__worktitle-")){var c=Q[0].object.parent.parent.parent.parent;if(null!==c){console.log("onPointerMove: ",c.name),q=Q[0].object,TweenMax.to(c.scale,.3,{x:180,y:180,z:180}),S.addClass("is-hover");var p=n.getObjectByName("nucleus__workcover-"+c.targetid);aa.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workcover-")&&(e.visible=!1)})),p.visible=!0}}}else{if(q){var u=q.parent.parent.parent.parent;null!==u&&(TweenMax.to(u.scale,.3,{x:u.origData.sx,y:u.origData.sy,z:u.origData.sz}),S.removeClass("is-hover"),aa.children.forEach((function(e){e instanceof THREE.Mesh&&e.name.includes("nucleus__workcover-")&&(e.visible=!1)})))}q=null}if(Ye&&(_a.forEach((function(e,a){se.geometry.vertices[a].y=2.5+Math.sin((ke+e.initValue)*e.speed)*e.amplitude})),se.geometry.verticesNeedUpdate=!0,re.geometry.verticesNeedUpdate=!0),Ve?ma.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-ae-80&&(e.position.x=ae/2)})):ma.forEach((function(e,a){e.rotation.y+=.001})),ha.forEach((function(e,a){e.position.x+=-5*e.speed*.2,e.position.x<-ae-80&&(e.position.x=ae/2)})),na.forEach((function(e,a){e.rotation.z+=.2*e.speed*i})),Je&&Ra.children.forEach((function(e,a){e.rotation.x+=.01,e.rotation.y+=.02,e.position.y+=-3*e.speed*.2,e.position.y<-Ce-80&&(e.position.y=Ce+te/2)})),sa.setFromCamera(ia,a),ra=ua.concat(ge.children).concat(Te.children),_a.length>0&&(ra=ra.concat(se)),(X=sa.intersectObjects(ra)).length>0){if(J!=X[0].object&&Be){if(J=X[0].object,S.addClass("is-hover"),J.name.indexOf("nucleus__menuball-")>=0)switch(J&&J.material.emissive.setHex(J.currentHex),J.currentHex=J.material.emissive.getHex(),J.material.emissive.setHex(16711680),J.material.wireframe=!0,J.name){case"nucleus__menuball-0":s=[],r=[],ma.forEach((function(e,a){s.push(e.position),r.push(e.scale)})),xa.classList.add("is-hover"),TweenMax.to(fa[0].scale,.2,{x:3,y:3,z:3});break;case"nucleus__menuball-1":!function(){var e=[],a=[];ma.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),Ea.classList.add("is-hover"),TweenMax.to(fa[1].scale,.2,{x:2,y:2,z:2})}();break;case"nucleus__menuball-2":!function(){var e=[],a=[];ma.forEach((function(t,o){e.push(t.position),a.push(t.scale)})),ya.classList.add("is-hover"),TweenMax.to(fa[2].scale,.2,{x:2,y:2,z:2})}()}J.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&(e(".app-menu__wrapper").hasClass("has-clicked-item")||e(".app-topnav__wrapper").hasClass("scene-start"))&&("nucleus__menu-work"==J.name&&TweenMax.to(_e.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-about"==J.name&&TweenMax.to(be.uAlpha,.5,{value:1,ease:Power2.easeOut}),"nucleus__menu-contact"==J.name&&TweenMax.to(Re.uAlpha,.5,{value:1,ease:Power2.easeOut})),J.name.indexOf("nucleus__menu-")>=0&&(e("body").hasClass("primarymenu-active")||!e(".app-topnav__wrapper").hasClass("scene-start"))&&S.removeClass("is-hover")}}else J&&(S.removeClass("is-hover"),J.name.indexOf("nucleus__menuball-")>=0&&(J.material.emissive.setHex(J.currentHex),J.material.wireframe=!1),J.name.indexOf("nucleus__menu-")>=0&&e(".app-topnav__wrapper").hasClass("scene-start")&&!e("body").hasClass("primarymenu-active")&&(e(".app-menu__wrapper").hasClass("has-clicked-item")||e(".app-topnav__wrapper").hasClass("scene-start"))&&("nucleus__menu-work"==J.name&&TweenMax.to(_e.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-about"==J.name&&TweenMax.to(be.uAlpha,.5,{value:0,ease:Power2.easeOut}),"nucleus__menu-contact"==J.name&&TweenMax.to(Re.uAlpha,.5,{value:0,ease:Power2.easeOut})),xa.classList.remove("is-hover"),Ea.classList.remove("is-hover"),ya.classList.remove("is-hover"),TweenMax.to([fa[0].scale,fa[1].scale,fa[2].scale],.2,{x:1.5,y:1.5,z:1.5})),J=null;F.render()},getRendererCanvasID:function(){return A},getScene:function(){return n},getCamera:function(){return a}}}();H.init(),H.render()},e.MAIN.pageLoaded=function(){},e.components.documentReady.push(e.MAIN.documentReady),e.components.pageLoaded.push(e.MAIN.pageLoaded))}(o,jQuery,window,document);function H(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,a,t){return a&&H(e.prototype,a),t&&H(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}!function(e,a,t,o){null!==t.AJAX_PUSH_CONTENT&&(e.AJAX_PUSH_CONTENT=e.AJAX_PUSH_CONTENT||{},e.AJAX_PUSH_CONTENT.version="0.1.0custom",e.AJAX_PUSH_CONTENT.documentReady=function(e){var a,i="[data-ajax-push-content],[data-primary-pagination],[data-cat-id],[data-tag-id],[data-archive-id],[data-author-id],[data-temp-id],[data-id],[data-homepage]",s=[],r={container:"#app-ajax-popwin-page-container",target:"#app-ajax-page-container",loading:'<div class="my-loader"><span class="app-loader-spinner"></span></div>',method:"GET"},l=(o.title,t.location.href),d=0;TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var c=function(e){console.log("detail progress: "+e)},p=function(e){e()},u=function(e){"hide"==e&&(TweenMax.to(".app-detail-transitionMask",.3,{delay:1,css:{opacity:0,display:"none"}}),TweenMax.to(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],.5,{opacity:1})),"show"==e&&TweenMax.to(".app-detail-transitionMask",.3,{css:{opacity:1,display:"block"}})};function f(o,i,r,l,p,f,m,h){if(0==o.length)return!1;"undefined"!==A(p)&&""!=p||(p="POST"),e.ajax({timeout:15e3,url:l,method:p,dataType:"html",data:{action:"load_singlepages_ajax_content"},beforeSend:function(){e("body, .uix-menu-mobile__toggle").removeClass("js-uix-menu-opened is-opened"),c(0),u("show"),(m||h)&&e("#app-loading").removeClass("is-active"),m&&(e("#app-ajax-popwin-page-mask").addClass("is-active"),e("#app-ajax-popwin-page-mask--list").hasClass("is-active")&&e("#app-ajax-popwin-page-mask--list").removeClass("is-active")),h&&e("#app-ajax-popwin-page-mask--list").addClass("is-active"),m||h||(e("#app-loader-mask--in").addClass("is-active"),setTimeout((function(){e("#app-loader-mask").hasClass("is-active")&&(e("#app-loader-mask, #app-loading").removeClass("is-active"),e("#app-loader-mask").css({opacity:1,display:"block"}))}),1e3))}}).done((function(r){var l,p=i?e(r).find(i).html():"";s=[],e(r).find("img").each((function(){s.push({url:this.src,id:"img-"+n.create(),type:"img"})})),e(r).find(".uix-video__slider > video").each((function(){var a=e(this).find("source:first").attr("src");"undefined"===A(a)&&(e(this).attr("src"),function(e){throw new TypeError('"'+e+'" is read-only')}("_src")),s.push({url:a,id:"video-"+n.create(),type:"video"})}));var v=1;0==s.length?(c(l=100),u("hide")):(c(0),u("hide"));var x=function(e){e.url,e.w,e.h;l=parseInt(v/s.length*100),console.log("progress: "+l+"%"),isNaN(l)&&(l=100),d=l,c(l),u("hide");return v++,l},E=function(){!function(a,t,o,n,i,s){if(console.log("loadedProgress: "+d),d<100)return!1;var r=function(){i||s||e("#app-loader-mask").hasClass("is-active")||e("#app-loader-mask").addClass("is-active"),e("#app-loading").hasClass("is-active")||e("#app-loading").addClass("is-active"),i&&(e("#app-ajax-popwin-page-container, .app-close-btn__wrapper").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").addClass("is-loaded")),s&&(e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").addClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").addClass("is-loaded")),a.html(t).promise().done((function(){e("#app-ajax-popwin-page-container").addClass("app-none-bg").find("#uix-maincontent").addClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").addClass("app-none-bg"),n&&n.data("request-running",!1)}))};i||s?r():TweenMax.set("#app-loader-mask--in",{delay:2,css:{opacity:0,display:"none"},onComplete:function(){e(this.target).removeClass("is-active").css({opacity:1,display:"block"}),r()}})}(o,p,e(r).filter("title").text(),f,m,h)};(function(){for(var a=[],t=function(t){"img"==s[t].type?a.push(new Promise((function(e,a){var o=new Image;o.crossOrigin="anonymous",o.src=s[t].url,o.onload=function(a){return"undefined"===A(a.path)?e({w:0,h:0,url:a.target.currentSrc}):e({w:a.path[0].naturalWidth,h:a.path[0].naturalHeight,url:a.path[0].currentSrc})}})).then(x)):a.push(new Promise((function(a,o){return e("#"+s[t].id).one("loadedmetadata",a),a({url:s[t].url})})).then(x))},o=0;o<s.length;o++)t(o);return Promise.all(a)})().then((function(e){clearInterval(a),E()}));var y=(new Date).getTime();a&&clearInterval(a),a=setInterval((function(){((new Date).getTime()-y)/1e3>=10&&(console.log("Page load timeout!"),htmlCode.indexOf("<body")>=0?t.location.href=location.href:u("hide"),clearInterval(a),E())}),500)})).fail((function(e,a,o){t.location.href=l}))}e(o).off("click.AJAX_PUSH_CONTENT").on("click.AJAX_PUSH_CONTENT",i,(function(a){a.preventDefault(),setTimeout((function(){}),500),TweenMax.set(["#app-ajax-popwin-page-mask","#app-ajax-popwin-page-mask--list"],{opacity:0});var t=e(this),o=t.attr("href"),n=t.data("ajax-push-content"),i=!!e(this).hasClass("app-popwin"),s=!!e(this).hasClass("app-popwin--list");if(d=0,"undefined"==A(n)&&(n=r),"undefined"===A(o)&&(o=t.closest("a").attr("href")),!t.data("request-running"))return t.data("request-running",!0),history.pushState?history.pushState(null,null,o):location.hash=o,f(e(n.container),n.target,n.loading,o,n.method,t,i,s),!1})),t.addEventListener("popstate",(function(a){var t=null,o=location.href;e(i).each((function(){this.href===location.href&&(t=this,o=this.href)})),null==t&&e(i).each((function(){var a=e(this).data("ajax-push-content");"undefined"!=A(a)&&p((function(){e(a.container).html(""),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper,#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),e("#app-ajax-popwin-page-container--list, .app-close-btn__wrapper--list").removeClass("is-active"),e("#app-ajax-popwin-page-container,.app-close-btn__wrapper--list,#app-ajax-popwin-page-mask--list").removeClass("is-loaded")}))}));var n=e(t).data("ajax-push-content"),s=!!e(t).hasClass("app-popwin"),r=!!e(t).hasClass("app-popwin--list");"undefined"!=A(n)&&f(e(n.container),n.target,n.loading,o,n.method,e(t),s,r)})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN",".app-close-btn__wrapper.is-loaded",(function(){var a=e(this);p((function(){var t;a.prev("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").prev("#app-ajax-popwin-page-mask").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST",".app-close-btn__wrapper--list.is-loaded",(function(){var a=e(this);p((function(){a.prev("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.prev("#app-ajax-popwin-page-container--list").prev("#app-ajax-popwin-page-mask--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_MASKTRIGGER","#app-ajax-popwin-page-mask.is-loaded",(function(){var a=e(this);p((function(){var t;a.next("#app-ajax-popwin-page-container").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").next(".app-close-btn__wrapper").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container").removeClass("app-none-bg").find("#uix-maincontent").removeClass("app-none-bg").find(".app-work-detail__wrapper").parent("section").removeClass("app-none-bg"),e("#app-ajax-popwin-page-container--list").hasClass("is-active")?(t=e(".app-popwin--list").attr("href"),e("#app-ajax-popwin-page-mask--list").addClass("is-active is-loaded")):t=l,history.pushState(null,null,t)}))})),e(o).off("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER").on("click.AJAX_PUSH_CONTENT__CLOSE_POPWIN_LIST_MASKTRIGGER","#app-ajax-popwin-page-mask--list.is-loaded",(function(){var a=e(this);p((function(){a.next("#app-ajax-popwin-page-container--list").removeClass("is-active is-loaded"),a.next("#app-ajax-popwin-page-container--list").next(".app-close-btn__wrapper--list").removeClass("is-active is-loaded"),a.removeClass("is-active is-loaded"),history.pushState(null,null,l)}))}))},e.components.documentReady.push(e.AJAX_PUSH_CONTENT.documentReady))}(o,jQuery,window,document)})()})();
//# sourceMappingURL=js/uix-kit.min.js.map